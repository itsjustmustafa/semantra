{"version":3,"file":"bundle.js","sources":["../../node_modules/svelte/internal/index.mjs","../../src/types.ts","../../node_modules/svelte-inview/dist/index.mjs","../../node_modules/svelte/store/index.mjs","../../src/explainQueue.ts","../../src/components/SearchResultText.svelte","../../src/components/SearchResult.svelte","../../src/components/SearchResults.svelte","../../node_modules/ace-builds/src-noconflict/ace.js","../../src/components/TextView.svelte","../../src/components/SearchBar.svelte","../../src/components/PdfPageImage.svelte","../../node_modules/rbush/rbush.min.js","../../src/layoutEngine.ts","../../src/components/PdfChars.svelte","../../src/components/PdfPage.svelte","../../src/components/PdfView.svelte","../../src/components/TabBar.svelte","../../src/App.svelte","../../src/main.ts"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\n// Adapted from https://github.com/then/is-promise/blob/master/index.js\n// Distributed under MIT License https://github.com/then/is-promise/blob/master/LICENSE\nfunction is_promise(value) {\n    return !!value && (typeof value === 'object' || typeof value === 'function') && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nlet src_url_equal_anchor;\nfunction src_url_equal(element_src, url) {\n    if (!src_url_equal_anchor) {\n        src_url_equal_anchor = document.createElement('a');\n    }\n    src_url_equal_anchor.href = url;\n    return element_src === src_url_equal_anchor.href;\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction is_empty(obj) {\n    return Object.keys(obj).length === 0;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn) {\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction update_slot(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn);\n}\nfunction get_all_dirty_from_scope($$scope) {\n    if ($$scope.ctx.length > 32) {\n        const dirty = [];\n        const length = $$scope.ctx.length / 32;\n        for (let i = 0; i < length; i++) {\n            dirty[i] = -1;\n        }\n        return dirty;\n    }\n    return -1;\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction compute_slots(slots) {\n    const result = {};\n    for (const key in slots) {\n        result[key] = true;\n    }\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\nfunction split_css_unit(value) {\n    const split = typeof value === 'string' && value.match(/^\\s*(-?[\\d.]+)([^\\s]*)\\s*$/);\n    return split ? [parseFloat(split[1]), split[2] || 'px'] : [value, 'px'];\n}\nconst contenteditable_truthy_values = ['', true, 1, 'true', 'contenteditable'];\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\n// Track which nodes are claimed during hydration. Unclaimed nodes can then be removed from the DOM\n// at the end of hydration without touching the remaining nodes.\nlet is_hydrating = false;\nfunction start_hydrating() {\n    is_hydrating = true;\n}\nfunction end_hydrating() {\n    is_hydrating = false;\n}\nfunction upper_bound(low, high, key, value) {\n    // Return first index of value larger than input value in the range [low, high)\n    while (low < high) {\n        const mid = low + ((high - low) >> 1);\n        if (key(mid) <= value) {\n            low = mid + 1;\n        }\n        else {\n            high = mid;\n        }\n    }\n    return low;\n}\nfunction init_hydrate(target) {\n    if (target.hydrate_init)\n        return;\n    target.hydrate_init = true;\n    // We know that all children have claim_order values since the unclaimed have been detached if target is not <head>\n    let children = target.childNodes;\n    // If target is <head>, there may be children without claim_order\n    if (target.nodeName === 'HEAD') {\n        const myChildren = [];\n        for (let i = 0; i < children.length; i++) {\n            const node = children[i];\n            if (node.claim_order !== undefined) {\n                myChildren.push(node);\n            }\n        }\n        children = myChildren;\n    }\n    /*\n    * Reorder claimed children optimally.\n    * We can reorder claimed children optimally by finding the longest subsequence of\n    * nodes that are already claimed in order and only moving the rest. The longest\n    * subsequence of nodes that are claimed in order can be found by\n    * computing the longest increasing subsequence of .claim_order values.\n    *\n    * This algorithm is optimal in generating the least amount of reorder operations\n    * possible.\n    *\n    * Proof:\n    * We know that, given a set of reordering operations, the nodes that do not move\n    * always form an increasing subsequence, since they do not move among each other\n    * meaning that they must be already ordered among each other. Thus, the maximal\n    * set of nodes that do not move form a longest increasing subsequence.\n    */\n    // Compute longest increasing subsequence\n    // m: subsequence length j => index k of smallest value that ends an increasing subsequence of length j\n    const m = new Int32Array(children.length + 1);\n    // Predecessor indices + 1\n    const p = new Int32Array(children.length);\n    m[0] = -1;\n    let longest = 0;\n    for (let i = 0; i < children.length; i++) {\n        const current = children[i].claim_order;\n        // Find the largest subsequence length such that it ends in a value less than our current value\n        // upper_bound returns first greater value, so we subtract one\n        // with fast path for when we are on the current longest subsequence\n        const seqLen = ((longest > 0 && children[m[longest]].claim_order <= current) ? longest + 1 : upper_bound(1, longest, idx => children[m[idx]].claim_order, current)) - 1;\n        p[i] = m[seqLen] + 1;\n        const newLen = seqLen + 1;\n        // We can guarantee that current is the smallest value. Otherwise, we would have generated a longer sequence.\n        m[newLen] = i;\n        longest = Math.max(newLen, longest);\n    }\n    // The longest increasing subsequence of nodes (initially reversed)\n    const lis = [];\n    // The rest of the nodes, nodes that will be moved\n    const toMove = [];\n    let last = children.length - 1;\n    for (let cur = m[longest] + 1; cur != 0; cur = p[cur - 1]) {\n        lis.push(children[cur - 1]);\n        for (; last >= cur; last--) {\n            toMove.push(children[last]);\n        }\n        last--;\n    }\n    for (; last >= 0; last--) {\n        toMove.push(children[last]);\n    }\n    lis.reverse();\n    // We sort the nodes being moved to guarantee that their insertion order matches the claim order\n    toMove.sort((a, b) => a.claim_order - b.claim_order);\n    // Finally, we move the nodes\n    for (let i = 0, j = 0; i < toMove.length; i++) {\n        while (j < lis.length && toMove[i].claim_order >= lis[j].claim_order) {\n            j++;\n        }\n        const anchor = j < lis.length ? lis[j] : null;\n        target.insertBefore(toMove[i], anchor);\n    }\n}\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction append_styles(target, style_sheet_id, styles) {\n    const append_styles_to = get_root_for_style(target);\n    if (!append_styles_to.getElementById(style_sheet_id)) {\n        const style = element('style');\n        style.id = style_sheet_id;\n        style.textContent = styles;\n        append_stylesheet(append_styles_to, style);\n    }\n}\nfunction get_root_for_style(node) {\n    if (!node)\n        return document;\n    const root = node.getRootNode ? node.getRootNode() : node.ownerDocument;\n    if (root && root.host) {\n        return root;\n    }\n    return node.ownerDocument;\n}\nfunction append_empty_stylesheet(node) {\n    const style_element = element('style');\n    append_stylesheet(get_root_for_style(node), style_element);\n    return style_element.sheet;\n}\nfunction append_stylesheet(node, style) {\n    append(node.head || node, style);\n    return style.sheet;\n}\nfunction append_hydration(target, node) {\n    if (is_hydrating) {\n        init_hydrate(target);\n        if ((target.actual_end_child === undefined) || ((target.actual_end_child !== null) && (target.actual_end_child.parentNode !== target))) {\n            target.actual_end_child = target.firstChild;\n        }\n        // Skip nodes of undefined ordering\n        while ((target.actual_end_child !== null) && (target.actual_end_child.claim_order === undefined)) {\n            target.actual_end_child = target.actual_end_child.nextSibling;\n        }\n        if (node !== target.actual_end_child) {\n            // We only insert if the ordering of this node should be modified or the parent node is not target\n            if (node.claim_order !== undefined || node.parentNode !== target) {\n                target.insertBefore(node, target.actual_end_child);\n            }\n        }\n        else {\n            target.actual_end_child = node.nextSibling;\n        }\n    }\n    else if (node.parentNode !== target || node.nextSibling !== null) {\n        target.appendChild(node);\n    }\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction insert_hydration(target, node, anchor) {\n    if (is_hydrating && !anchor) {\n        append_hydration(target, node);\n    }\n    else if (node.parentNode !== target || node.nextSibling != anchor) {\n        target.insertBefore(node, anchor || null);\n    }\n}\nfunction detach(node) {\n    if (node.parentNode) {\n        node.parentNode.removeChild(node);\n    }\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction comment(content) {\n    return document.createComment(content);\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_immediate_propagation(fn) {\n    return function (event) {\n        event.stopImmediatePropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction trusted(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.isTrusted)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value') {\n            node.value = node[key] = attributes[key];\n        }\n        else if (descriptors[key] && descriptors[key].set) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data_map(node, data_map) {\n    Object.keys(data_map).forEach((key) => {\n        set_custom_element_data(node, key, data_map[key]);\n    });\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = typeof node[prop] === 'boolean' && value === '' ? true : value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction set_dynamic_element_data(tag) {\n    return (/-/.test(tag)) ? set_custom_element_data_map : set_attributes;\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group, __value, checked) {\n    const value = new Set();\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.add(group[i].__value);\n    }\n    if (!checked) {\n        value.delete(__value);\n    }\n    return Array.from(value);\n}\nfunction init_binding_group(group) {\n    let _inputs;\n    return {\n        /* push */ p(...inputs) {\n            _inputs = inputs;\n            _inputs.forEach(input => group.push(input));\n        },\n        /* remove */ r() {\n            _inputs.forEach(input => group.splice(group.indexOf(input), 1));\n        }\n    };\n}\nfunction init_binding_group_dynamic(group, indexes) {\n    let _group = get_binding_group(group);\n    let _inputs;\n    function get_binding_group(group) {\n        for (let i = 0; i < indexes.length; i++) {\n            group = group[indexes[i]] = group[indexes[i]] || [];\n        }\n        return group;\n    }\n    function push() {\n        _inputs.forEach(input => _group.push(input));\n    }\n    function remove() {\n        _inputs.forEach(input => _group.splice(_group.indexOf(input), 1));\n    }\n    return {\n        /* update */ u(new_indexes) {\n            indexes = new_indexes;\n            const new_group = get_binding_group(group);\n            if (new_group !== _group) {\n                remove();\n                _group = new_group;\n                push();\n            }\n        },\n        /* push */ p(...inputs) {\n            _inputs = inputs;\n            push();\n        },\n        /* remove */ r: remove\n    };\n}\nfunction to_number(value) {\n    return value === '' ? null : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction init_claim_info(nodes) {\n    if (nodes.claim_info === undefined) {\n        nodes.claim_info = { last_index: 0, total_claimed: 0 };\n    }\n}\nfunction claim_node(nodes, predicate, processNode, createNode, dontUpdateLastIndex = false) {\n    // Try to find nodes in an order such that we lengthen the longest increasing subsequence\n    init_claim_info(nodes);\n    const resultNode = (() => {\n        // We first try to find an element after the previous one\n        for (let i = nodes.claim_info.last_index; i < nodes.length; i++) {\n            const node = nodes[i];\n            if (predicate(node)) {\n                const replacement = processNode(node);\n                if (replacement === undefined) {\n                    nodes.splice(i, 1);\n                }\n                else {\n                    nodes[i] = replacement;\n                }\n                if (!dontUpdateLastIndex) {\n                    nodes.claim_info.last_index = i;\n                }\n                return node;\n            }\n        }\n        // Otherwise, we try to find one before\n        // We iterate in reverse so that we don't go too far back\n        for (let i = nodes.claim_info.last_index - 1; i >= 0; i--) {\n            const node = nodes[i];\n            if (predicate(node)) {\n                const replacement = processNode(node);\n                if (replacement === undefined) {\n                    nodes.splice(i, 1);\n                }\n                else {\n                    nodes[i] = replacement;\n                }\n                if (!dontUpdateLastIndex) {\n                    nodes.claim_info.last_index = i;\n                }\n                else if (replacement === undefined) {\n                    // Since we spliced before the last_index, we decrease it\n                    nodes.claim_info.last_index--;\n                }\n                return node;\n            }\n        }\n        // If we can't find any matching node, we create a new one\n        return createNode();\n    })();\n    resultNode.claim_order = nodes.claim_info.total_claimed;\n    nodes.claim_info.total_claimed += 1;\n    return resultNode;\n}\nfunction claim_element_base(nodes, name, attributes, create_element) {\n    return claim_node(nodes, (node) => node.nodeName === name, (node) => {\n        const remove = [];\n        for (let j = 0; j < node.attributes.length; j++) {\n            const attribute = node.attributes[j];\n            if (!attributes[attribute.name]) {\n                remove.push(attribute.name);\n            }\n        }\n        remove.forEach(v => node.removeAttribute(v));\n        return undefined;\n    }, () => create_element(name));\n}\nfunction claim_element(nodes, name, attributes) {\n    return claim_element_base(nodes, name, attributes, element);\n}\nfunction claim_svg_element(nodes, name, attributes) {\n    return claim_element_base(nodes, name, attributes, svg_element);\n}\nfunction claim_text(nodes, data) {\n    return claim_node(nodes, (node) => node.nodeType === 3, (node) => {\n        const dataStr = '' + data;\n        if (node.data.startsWith(dataStr)) {\n            if (node.data.length !== dataStr.length) {\n                return node.splitText(dataStr.length);\n            }\n        }\n        else {\n            node.data = dataStr;\n        }\n    }, () => text(data), true // Text nodes should not update last index since it is likely not worth it to eliminate an increasing subsequence of actual elements\n    );\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction claim_comment(nodes, data) {\n    return claim_node(nodes, (node) => node.nodeType === 8, (node) => {\n        node.data = '' + data;\n        return undefined;\n    }, () => comment(data), true);\n}\nfunction find_comment(nodes, text, start) {\n    for (let i = start; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 8 /* comment node */ && node.textContent.trim() === text) {\n            return i;\n        }\n    }\n    return nodes.length;\n}\nfunction claim_html_tag(nodes, is_svg) {\n    // find html opening tag\n    const start_index = find_comment(nodes, 'HTML_TAG_START', 0);\n    const end_index = find_comment(nodes, 'HTML_TAG_END', start_index);\n    if (start_index === end_index) {\n        return new HtmlTagHydration(undefined, is_svg);\n    }\n    init_claim_info(nodes);\n    const html_tag_nodes = nodes.splice(start_index, end_index - start_index + 1);\n    detach(html_tag_nodes[0]);\n    detach(html_tag_nodes[html_tag_nodes.length - 1]);\n    const claimed_nodes = html_tag_nodes.slice(1, html_tag_nodes.length - 1);\n    for (const n of claimed_nodes) {\n        n.claim_order = nodes.claim_info.total_claimed;\n        nodes.claim_info.total_claimed += 1;\n    }\n    return new HtmlTagHydration(claimed_nodes, is_svg);\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.data === data)\n        return;\n    text.data = data;\n}\nfunction set_data_contenteditable(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    text.data = data;\n}\nfunction set_data_maybe_contenteditable(text, data, attr_value) {\n    if (~contenteditable_truthy_values.indexOf(attr_value)) {\n        set_data_contenteditable(text, data);\n    }\n    else {\n        set_data(text, data);\n    }\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    if (value === null) {\n        node.style.removeProperty(key);\n    }\n    else {\n        node.style.setProperty(key, value, important ? 'important' : '');\n    }\n}\nfunction select_option(select, value, mounting) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n    if (!mounting || value !== undefined) {\n        select.selectedIndex = -1; // no option should be selected\n    }\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked');\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\nlet crossorigin;\nfunction is_crossorigin() {\n    if (crossorigin === undefined) {\n        crossorigin = false;\n        try {\n            if (typeof window !== 'undefined' && window.parent) {\n                void window.parent.document;\n            }\n        }\n        catch (error) {\n            crossorigin = true;\n        }\n    }\n    return crossorigin;\n}\nfunction add_resize_listener(node, fn) {\n    const computed_style = getComputedStyle(node);\n    if (computed_style.position === 'static') {\n        node.style.position = 'relative';\n    }\n    const iframe = element('iframe');\n    iframe.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n        'overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;');\n    iframe.setAttribute('aria-hidden', 'true');\n    iframe.tabIndex = -1;\n    const crossorigin = is_crossorigin();\n    let unsubscribe;\n    if (crossorigin) {\n        iframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n        unsubscribe = listen(window, 'message', (event) => {\n            if (event.source === iframe.contentWindow)\n                fn();\n        });\n    }\n    else {\n        iframe.src = 'about:blank';\n        iframe.onload = () => {\n            unsubscribe = listen(iframe.contentWindow, 'resize', fn);\n            // make sure an initial resize event is fired _after_ the iframe is loaded (which is asynchronous)\n            // see https://github.com/sveltejs/svelte/issues/4233\n            fn();\n        };\n    }\n    append(node, iframe);\n    return () => {\n        if (crossorigin) {\n            unsubscribe();\n        }\n        else if (unsubscribe && iframe.contentWindow) {\n            unsubscribe();\n        }\n        detach(iframe);\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail, { bubbles = false, cancelable = false } = {}) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, bubbles, cancelable, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nfunction head_selector(nodeId, head) {\n    const result = [];\n    let started = 0;\n    for (const node of head.childNodes) {\n        if (node.nodeType === 8 /* comment node */) {\n            const comment = node.textContent.trim();\n            if (comment === `HEAD_${nodeId}_END`) {\n                started -= 1;\n                result.push(node);\n            }\n            else if (comment === `HEAD_${nodeId}_START`) {\n                started += 1;\n                result.push(node);\n            }\n        }\n        else if (started > 0) {\n            result.push(node);\n        }\n    }\n    return result;\n}\nclass HtmlTag {\n    constructor(is_svg = false) {\n        this.is_svg = false;\n        this.is_svg = is_svg;\n        this.e = this.n = null;\n    }\n    c(html) {\n        this.h(html);\n    }\n    m(html, target, anchor = null) {\n        if (!this.e) {\n            if (this.is_svg)\n                this.e = svg_element(target.nodeName);\n            /** #7364  target for <template> may be provided as #document-fragment(11) */\n            else\n                this.e = element((target.nodeType === 11 ? 'TEMPLATE' : target.nodeName));\n            this.t = target.tagName !== 'TEMPLATE' ? target : target.content;\n            this.c(html);\n        }\n        this.i(anchor);\n    }\n    h(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.nodeName === 'TEMPLATE' ? this.e.content.childNodes : this.e.childNodes);\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(this.t, this.n[i], anchor);\n        }\n    }\n    p(html) {\n        this.d();\n        this.h(html);\n        this.i(this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\nclass HtmlTagHydration extends HtmlTag {\n    constructor(claimed_nodes, is_svg = false) {\n        super(is_svg);\n        this.e = this.n = null;\n        this.l = claimed_nodes;\n    }\n    c(html) {\n        if (this.l) {\n            this.n = this.l;\n        }\n        else {\n            super.c(html);\n        }\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert_hydration(this.t, this.n[i], anchor);\n        }\n    }\n}\nfunction attribute_to_object(attributes) {\n    const result = {};\n    for (const attribute of attributes) {\n        result[attribute.name] = attribute.value;\n    }\n    return result;\n}\nfunction get_custom_elements_slots(element) {\n    const result = {};\n    element.childNodes.forEach((node) => {\n        result[node.slot || 'default'] = true;\n    });\n    return result;\n}\nfunction construct_svelte_component(component, props) {\n    return new component(props);\n}\n\n// we need to store the information for multiple documents because a Svelte application could also contain iframes\n// https://github.com/sveltejs/svelte/issues/3624\nconst managed_styles = new Map();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_style_information(doc, node) {\n    const info = { stylesheet: append_empty_stylesheet(node), rules: {} };\n    managed_styles.set(doc, info);\n    return info;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = get_root_for_style(node);\n    const { stylesheet, rules } = managed_styles.get(doc) || create_style_information(doc, node);\n    if (!rules[name]) {\n        rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ''}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        managed_styles.forEach(info => {\n            const { ownerNode } = info.stylesheet;\n            // there is no ownerNode if it runs on jsdom.\n            if (ownerNode)\n                detach(ownerNode);\n        });\n        managed_styles.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error('Function called outside component initialization');\n    return current_component;\n}\n/**\n * Schedules a callback to run immediately before the component is updated after any state change.\n *\n * The first time the callback runs will be before the initial `onMount`\n *\n * https://svelte.dev/docs#run-time-svelte-beforeupdate\n */\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\n/**\n * The `onMount` function schedules a callback to run as soon as the component has been mounted to the DOM.\n * It must be called during the component's initialisation (but doesn't need to live *inside* the component;\n * it can be called from an external module).\n *\n * `onMount` does not run inside a [server-side component](/docs#run-time-server-side-component-api).\n *\n * https://svelte.dev/docs#run-time-svelte-onmount\n */\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\n/**\n * Schedules a callback to run immediately after the component has been updated.\n *\n * The first time the callback runs will be after the initial `onMount`\n */\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\n/**\n * Schedules a callback to run immediately before the component is unmounted.\n *\n * Out of `onMount`, `beforeUpdate`, `afterUpdate` and `onDestroy`, this is the\n * only one that runs inside a server-side component.\n *\n * https://svelte.dev/docs#run-time-svelte-ondestroy\n */\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\n/**\n * Creates an event dispatcher that can be used to dispatch [component events](/docs#template-syntax-component-directives-on-eventname).\n * Event dispatchers are functions that can take two arguments: `name` and `detail`.\n *\n * Component events created with `createEventDispatcher` create a\n * [CustomEvent](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent).\n * These events do not [bubble](https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Events#Event_bubbling_and_capture).\n * The `detail` argument corresponds to the [CustomEvent.detail](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/detail)\n * property and can contain any type of data.\n *\n * https://svelte.dev/docs#run-time-svelte-createeventdispatcher\n */\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail, { cancelable = false } = {}) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail, { cancelable });\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n            return !event.defaultPrevented;\n        }\n        return true;\n    };\n}\n/**\n * Associates an arbitrary `context` object with the current component and the specified `key`\n * and returns that object. The context is then available to children of the component\n * (including slotted content) with `getContext`.\n *\n * Like lifecycle functions, this must be called during component initialisation.\n *\n * https://svelte.dev/docs#run-time-svelte-setcontext\n */\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n    return context;\n}\n/**\n * Retrieves the context that belongs to the closest parent component with the specified `key`.\n * Must be called during component initialisation.\n *\n * https://svelte.dev/docs#run-time-svelte-getcontext\n */\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\n/**\n * Retrieves the whole context map that belongs to the closest parent component.\n * Must be called during component initialisation. Useful, for example, if you\n * programmatically create a component and want to pass the existing context to it.\n *\n * https://svelte.dev/docs#run-time-svelte-getallcontexts\n */\nfunction getAllContexts() {\n    return get_current_component().$$.context;\n}\n/**\n * Checks whether a given `key` has been set in the context of a parent component.\n * Must be called during component initialisation.\n *\n * https://svelte.dev/docs#run-time-svelte-hascontext\n */\nfunction hasContext(key) {\n    return get_current_component().$$.context.has(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        // @ts-ignore\n        callbacks.slice().forEach(fn => fn.call(this, event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nlet render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = /* @__PURE__ */ Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\n// flush() calls callbacks in this order:\n// 1. All beforeUpdate callbacks, in order: parents before children\n// 2. All bind:this callbacks, in reverse order: children before parents.\n// 3. All afterUpdate callbacks, in order: parents before children. EXCEPT\n//    for afterUpdates called during the initial onMount, which are called in\n//    reverse order: children before parents.\n// Since callbacks might update component values, which could trigger another\n// call to flush(), the following steps guard against this:\n// 1. During beforeUpdate, any updated components will be added to the\n//    dirty_components array and will cause a reentrant call to flush(). Because\n//    the flush index is kept outside the function, the reentrant call will pick\n//    up where the earlier call left off and go through all dirty components. The\n//    current_component value is saved and restored so that the reentrant call will\n//    not interfere with the \"parent\" flush() call.\n// 2. bind:this callbacks cannot trigger new flush() calls.\n// 3. During afterUpdate, any updated components will NOT have their afterUpdate\n//    callback called a second time; the seen_callbacks set, outside the flush()\n//    function, guarantees this behavior.\nconst seen_callbacks = new Set();\nlet flushidx = 0; // Do *not* move this inside the flush() function\nfunction flush() {\n    // Do not reenter flush while dirty components are updated, as this can\n    // result in an infinite loop. Instead, let the inner flush handle it.\n    // Reentrancy is ok afterwards for bindings etc.\n    if (flushidx !== 0) {\n        return;\n    }\n    const saved_component = current_component;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        try {\n            while (flushidx < dirty_components.length) {\n                const component = dirty_components[flushidx];\n                flushidx++;\n                set_current_component(component);\n                update(component.$$);\n            }\n        }\n        catch (e) {\n            // reset dirty state to not end up in a deadlocked state and then rethrow\n            dirty_components.length = 0;\n            flushidx = 0;\n            throw e;\n        }\n        set_current_component(null);\n        dirty_components.length = 0;\n        flushidx = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    seen_callbacks.clear();\n    set_current_component(saved_component);\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n/**\n * Useful for example to execute remaining `afterUpdate` callbacks before executing `destroy`.\n */\nfunction flush_render_callbacks(fns) {\n    const filtered = [];\n    const targets = [];\n    render_callbacks.forEach((c) => fns.indexOf(c) === -1 ? filtered.push(c) : targets.push(c));\n    targets.forEach((c) => c());\n    render_callbacks = filtered;\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n    else if (callback) {\n        callback();\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    const options = { direction: 'in' };\n    let config = fn(node, params, options);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            started = true;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config(options);\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    const options = { direction: 'out' };\n    let config = fn(node, params, options);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config(options);\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    const options = { direction: 'both' };\n    let config = fn(node, params, options);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = (program.b - t);\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program || pending_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro  we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro  needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config(options);\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            if (info.blocks[i] === block) {\n                                info.blocks[i] = null;\n                            }\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n            if (!info.hasCatch) {\n                throw error;\n            }\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\nfunction update_await_block_branch(info, ctx, dirty) {\n    const child_ctx = ctx.slice();\n    const { resolved } = info;\n    if (info.current === info.then) {\n        child_ctx[info.value] = resolved;\n    }\n    if (info.current === info.catch) {\n        child_ctx[info.error] = resolved;\n    }\n    info.block.p(child_ctx, dirty);\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    const updates = [];\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            // defer updates until all the DOM shuffling is done\n            updates.push(() => block.p(child_ctx, dirty));\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    run_all(updates);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error('Cannot have duplicate keys in a keyed each');\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\nconst _boolean_attributes = [\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'inert',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n];\n/**\n * List of HTML boolean attributes (e.g. `<input disabled>`).\n * Source: https://html.spec.whatwg.org/multipage/indices.html\n */\nconst boolean_attributes = new Set([..._boolean_attributes]);\n\n/** regex of all html void element names */\nconst void_element_names = /^(?:area|base|br|col|command|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/;\nfunction is_void(name) {\n    return void_element_names.test(name) || name.toLowerCase() === '!doctype';\n}\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, attrs_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (attrs_to_add) {\n        const classes_to_add = attrs_to_add.classes;\n        const styles_to_add = attrs_to_add.styles;\n        if (classes_to_add) {\n            if (attributes.class == null) {\n                attributes.class = classes_to_add;\n            }\n            else {\n                attributes.class += ' ' + classes_to_add;\n            }\n        }\n        if (styles_to_add) {\n            if (attributes.style == null) {\n                attributes.style = style_object_to_string(styles_to_add);\n            }\n            else {\n                attributes.style = style_object_to_string(merge_ssr_styles(attributes.style, styles_to_add));\n            }\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += ' ' + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += ' ' + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${value}\"`;\n        }\n    });\n    return str;\n}\nfunction merge_ssr_styles(style_attribute, style_directive) {\n    const style_object = {};\n    for (const individual_style of style_attribute.split(';')) {\n        const colon_index = individual_style.indexOf(':');\n        const name = individual_style.slice(0, colon_index).trim();\n        const value = individual_style.slice(colon_index + 1).trim();\n        if (!name)\n            continue;\n        style_object[name] = value;\n    }\n    for (const name in style_directive) {\n        const value = style_directive[name];\n        if (value) {\n            style_object[name] = value;\n        }\n        else {\n            delete style_object[name];\n        }\n    }\n    return style_object;\n}\nconst ATTR_REGEX = /[&\"]/g;\nconst CONTENT_REGEX = /[&<]/g;\n/**\n * Note: this method is performance sensitive and has been optimized\n * https://github.com/sveltejs/svelte/pull/5701\n */\nfunction escape(value, is_attr = false) {\n    const str = String(value);\n    const pattern = is_attr ? ATTR_REGEX : CONTENT_REGEX;\n    pattern.lastIndex = 0;\n    let escaped = '';\n    let last = 0;\n    while (pattern.test(str)) {\n        const i = pattern.lastIndex - 1;\n        const ch = str[i];\n        escaped += str.substring(last, i) + (ch === '&' ? '&amp;' : (ch === '\"' ? '&quot;' : '&lt;'));\n        last = i + 1;\n    }\n    return escaped + str.substring(last);\n}\nfunction escape_attribute_value(value) {\n    // keep booleans, null, and undefined for the sake of `spread`\n    const should_escape = typeof value === 'string' || (value && typeof value === 'object');\n    return should_escape ? escape(value, true) : value;\n}\nfunction escape_object(obj) {\n    const result = {};\n    for (const key in obj) {\n        result[key] = escape_attribute_value(obj[key]);\n    }\n    return result;\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules. Otherwise you may need to fix a <${name}>.`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots, context) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(context || (parent_component ? parent_component.$$.context : [])),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, { $$slots = {}, context = new Map() } = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, $$slots, context);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    const assignment = (boolean && value === true) ? '' : `=\"${escape(value, true)}\"`;\n    return ` ${name}${assignment}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : '';\n}\nfunction style_object_to_string(style_object) {\n    return Object.keys(style_object)\n        .filter(key => style_object[key])\n        .map(key => `${key}: ${escape_attribute_value(style_object[key])};`)\n        .join(' ');\n}\nfunction add_styles(style_object) {\n    const styles = style_object_to_string(style_object);\n    return styles ? ` style=\"${styles}\"` : '';\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor, customElement) {\n    const { fragment, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    if (!customElement) {\n        // onMount happens before the initial afterUpdate\n        add_render_callback(() => {\n            const new_on_destroy = component.$$.on_mount.map(run).filter(is_function);\n            // if the component was destroyed immediately\n            // it will update the `$$.on_destroy` reference to `null`.\n            // the destructured on_destroy may still reference to the old array\n            if (component.$$.on_destroy) {\n                component.$$.on_destroy.push(...new_on_destroy);\n            }\n            else {\n                // Edge case - component was destroyed immediately,\n                // most likely as a result of a binding initialising\n                run_all(new_on_destroy);\n            }\n            component.$$.on_mount = [];\n        });\n    }\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        flush_render_callbacks($$.after_update);\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, append_styles, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: [],\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        on_disconnect: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(options.context || (parent_component ? parent_component.$$.context : [])),\n        // everything else\n        callbacks: blank_object(),\n        dirty,\n        skip_bound: false,\n        root: options.target || parent_component.$$.root\n    };\n    append_styles && append_styles($$.root);\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, options.props || {}, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if (!$$.skip_bound && $$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            start_hydrating();\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor, options.customElement);\n        end_hydrating();\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            const { on_mount } = this.$$;\n            this.$$.on_disconnect = on_mount.map(run).filter(is_function);\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        disconnectedCallback() {\n            run_all(this.$$.on_disconnect);\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            if (!is_function(callback)) {\n                return noop;\n            }\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set($$props) {\n            if (this.$$set && !is_empty($$props)) {\n                this.$$.skip_bound = true;\n                this.$$set($$props);\n                this.$$.skip_bound = false;\n            }\n        }\n    };\n}\n/**\n * Base class for Svelte components. Used when dev=false.\n */\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        if (!is_function(callback)) {\n            return noop;\n        }\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set($$props) {\n        if (this.$$set && !is_empty($$props)) {\n            this.$$.skip_bound = true;\n            this.$$set($$props);\n            this.$$.skip_bound = false;\n        }\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.58.0' }, detail), { bubbles: true }));\n}\nfunction append_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append(target, node);\n}\nfunction append_hydration_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append_hydration(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction insert_hydration_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert_hydration(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev('SvelteDOMRemove', { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation, has_stop_immediate_propagation) {\n    const modifiers = options === true ? ['capture'] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    if (has_stop_immediate_propagation)\n        modifiers.push('stopImmediatePropagation');\n    dispatch_dev('SvelteDOMAddEventListener', { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev('SvelteDOMRemoveEventListener', { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev('SvelteDOMRemoveAttribute', { node, attribute });\n    else\n        dispatch_dev('SvelteDOMSetAttribute', { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev('SvelteDOMSetProperty', { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev('SvelteDOMSetDataset', { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.data === data)\n        return;\n    dispatch_dev('SvelteDOMSetData', { node: text, data });\n    text.data = data;\n}\nfunction set_data_contenteditable_dev(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    dispatch_dev('SvelteDOMSetData', { node: text, data });\n    text.data = data;\n}\nfunction set_data_maybe_contenteditable_dev(text, data, attr_value) {\n    if (~contenteditable_truthy_values.indexOf(attr_value)) {\n        set_data_contenteditable_dev(text, data);\n    }\n    else {\n        set_data_dev(text, data);\n    }\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\nfunction validate_dynamic_element(tag) {\n    const is_string = typeof tag === 'string';\n    if (tag && !is_string) {\n        throw new Error('<svelte:element> expects \"this\" attribute to be a string.');\n    }\n}\nfunction validate_void_dynamic_element(tag) {\n    if (tag && is_void(tag)) {\n        console.warn(`<svelte:element this=\"${tag}\"> is self-closing and cannot have content.`);\n    }\n}\nfunction construct_svelte_component_dev(component, props) {\n    const error_message = 'this={...} of <svelte:component> should specify a Svelte component.';\n    try {\n        const instance = new component(props);\n        if (!instance.$$ || !instance.$set || !instance.$on || !instance.$destroy) {\n            throw new Error(error_message);\n        }\n        return instance;\n    }\n    catch (err) {\n        const { message } = err;\n        if (typeof message === 'string' && message.indexOf('is not a constructor') !== -1) {\n            throw new Error(error_message);\n        }\n        else {\n            throw err;\n        }\n    }\n}\n/**\n * Base class for Svelte components with some minor dev-enhancements. Used when dev=true.\n */\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(\"'target' is a required option\");\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn('Component was already destroyed'); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\n/**\n * Base class to create strongly typed Svelte components.\n * This only exists for typing purposes and should be used in `.d.ts` files.\n *\n * ### Example:\n *\n * You have component library on npm called `component-library`, from which\n * you export a component called `MyComponent`. For Svelte+TypeScript users,\n * you want to provide typings. Therefore you create a `index.d.ts`:\n * ```ts\n * import { SvelteComponentTyped } from \"svelte\";\n * export class MyComponent extends SvelteComponentTyped<{foo: string}> {}\n * ```\n * Typing this makes it possible for IDEs like VS Code with the Svelte extension\n * to provide intellisense and to use the component like this in a Svelte file\n * with TypeScript:\n * ```svelte\n * <script lang=\"ts\">\n * \timport { MyComponent } from \"component-library\";\n * </script>\n * <MyComponent foo={'bar'} />\n * ```\n *\n * #### Why not make this part of `SvelteComponent(Dev)`?\n * Because\n * ```ts\n * class ASubclassOfSvelteComponent extends SvelteComponent<{foo: string}> {}\n * const component: typeof SvelteComponent = ASubclassOfSvelteComponent;\n * ```\n * will throw a type error, so we need to separate the more strictly typed class.\n */\nclass SvelteComponentTyped extends SvelteComponentDev {\n    constructor(options) {\n        super(options);\n    }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error('Infinite loop detected');\n        }\n    };\n}\n\nexport { HtmlTag, HtmlTagHydration, SvelteComponent, SvelteComponentDev, SvelteComponentTyped, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_styles, add_transform, afterUpdate, append, append_dev, append_empty_stylesheet, append_hydration, append_hydration_dev, append_styles, assign, attr, attr_dev, attribute_to_object, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_comment, claim_component, claim_element, claim_html_tag, claim_space, claim_svg_element, claim_text, clear_loops, comment, component_subscribe, compute_rest_props, compute_slots, construct_svelte_component, construct_svelte_component_dev, contenteditable_truthy_values, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, end_hydrating, escape, escape_attribute_value, escape_object, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, flush_render_callbacks, getAllContexts, getContext, get_all_dirty_from_scope, get_binding_group_value, get_current_component, get_custom_elements_slots, get_root_for_style, get_slot_changes, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, hasContext, has_prop, head_selector, identity, init, init_binding_group, init_binding_group_dynamic, insert, insert_dev, insert_hydration, insert_hydration_dev, intros, invalid_attribute_name_character, is_client, is_crossorigin, is_empty, is_function, is_promise, is_void, listen, listen_dev, loop, loop_guard, merge_ssr_styles, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_custom_element_data_map, set_data, set_data_contenteditable, set_data_contenteditable_dev, set_data_dev, set_data_maybe_contenteditable, set_data_maybe_contenteditable_dev, set_dynamic_element_data, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, split_css_unit, spread, src_url_equal, start_hydrating, stop_immediate_propagation, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, trusted, update_await_block_branch, update_keyed_each, update_slot, update_slot_base, validate_component, validate_dynamic_element, validate_each_argument, validate_each_keys, validate_slots, validate_store, validate_void_dynamic_element, xlink_attr };\n",null,"function run(fn) {\n    return fn();\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\n\nconst dirty_components = [];\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\n// flush() calls callbacks in this order:\n// 1. All beforeUpdate callbacks, in order: parents before children\n// 2. All bind:this callbacks, in reverse order: children before parents.\n// 3. All afterUpdate callbacks, in order: parents before children. EXCEPT\n//    for afterUpdates called during the initial onMount, which are called in\n//    reverse order: children before parents.\n// Since callbacks might update component values, which could trigger another\n// call to flush(), the following steps guard against this:\n// 1. During beforeUpdate, any updated components will be added to the\n//    dirty_components array and will cause a reentrant call to flush(). Because\n//    the flush index is kept outside the function, the reentrant call will pick\n//    up where the earlier call left off and go through all dirty components. The\n//    current_component value is saved and restored so that the reentrant call will\n//    not interfere with the \"parent\" flush() call.\n// 2. bind:this callbacks cannot trigger new flush() calls.\n// 3. During afterUpdate, any updated components will NOT have their afterUpdate\n//    callback called a second time; the seen_callbacks set, outside the flush()\n//    function, guarantees this behavior.\nconst seen_callbacks = new Set();\nlet flushidx = 0; // Do *not* move this inside the flush() function\nfunction flush() {\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        while (flushidx < dirty_components.length) {\n            const component = dirty_components[flushidx];\n            flushidx++;\n            update(component.$$);\n        }\n        dirty_components.length = 0;\n        flushidx = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    seen_callbacks.clear();\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nconst defaultOptions = {\r\n    root: null,\r\n    rootMargin: '0px',\r\n    threshold: 0,\r\n    unobserveOnEnter: false,\r\n};\r\nconst createEvent = (name, detail) => new CustomEvent(name, { detail });\r\nfunction inview(node, options = {}) {\r\n    const { root, rootMargin, threshold, unobserveOnEnter } = Object.assign(Object.assign({}, defaultOptions), options);\r\n    let prevPos = {\r\n        x: undefined,\r\n        y: undefined,\r\n    };\r\n    let scrollDirection = {\r\n        vertical: undefined,\r\n        horizontal: undefined,\r\n    };\r\n    if (typeof IntersectionObserver !== 'undefined' && node) {\r\n        const observer = new IntersectionObserver((entries, _observer) => {\r\n            entries.forEach((singleEntry) => {\r\n                if (prevPos.y > singleEntry.boundingClientRect.y) {\r\n                    scrollDirection.vertical = 'up';\r\n                }\r\n                else {\r\n                    scrollDirection.vertical = 'down';\r\n                }\r\n                if (prevPos.x > singleEntry.boundingClientRect.x) {\r\n                    scrollDirection.horizontal = 'left';\r\n                }\r\n                else {\r\n                    scrollDirection.horizontal = 'right';\r\n                }\r\n                prevPos = {\r\n                    y: singleEntry.boundingClientRect.y,\r\n                    x: singleEntry.boundingClientRect.x,\r\n                };\r\n                const detail = {\r\n                    inView: singleEntry.isIntersecting,\r\n                    entry: singleEntry,\r\n                    scrollDirection,\r\n                    node,\r\n                    observer: _observer,\r\n                };\r\n                node.dispatchEvent(createEvent('inview_change', detail));\r\n                //@ts-expect-error only for backward compatibility\r\n                node.dispatchEvent(createEvent('change', detail));\r\n                if (singleEntry.isIntersecting) {\r\n                    node.dispatchEvent(createEvent('inview_enter', detail));\r\n                    //@ts-expect-error only for backward compatibility\r\n                    node.dispatchEvent(createEvent('enter', detail));\r\n                    unobserveOnEnter && _observer.unobserve(node);\r\n                }\r\n                else {\r\n                    node.dispatchEvent(createEvent('inview_leave', detail));\r\n                    //@ts-expect-error only for backward compatibility\r\n                    node.dispatchEvent(createEvent('leave', detail));\r\n                }\r\n            });\r\n        }, {\r\n            root,\r\n            rootMargin,\r\n            threshold,\r\n        });\r\n        tick().then(() => {\r\n            node.dispatchEvent(createEvent('inview_init', { observer, node }));\r\n            node.dispatchEvent(\r\n            //@ts-expect-error only for backward compatibility\r\n            createEvent('init', { observer, node }));\r\n        });\r\n        observer.observe(node);\r\n        return {\r\n            destroy() {\r\n                observer.unobserve(node);\r\n            },\r\n        };\r\n    }\r\n}\n\nexport { inview };\n","import { noop, safe_not_equal, subscribe, run_all, is_function } from '../internal/index.mjs';\nexport { get_store_value as get } from '../internal/index.mjs';\n\nconst subscriber_queue = [];\n/**\n * Creates a `Readable` store that allows reading by subscription.\n * @param value initial value\n * @param {StartStopNotifier}start start and stop notifications for subscriptions\n */\nfunction readable(value, start) {\n    return {\n        subscribe: writable(value, start).subscribe\n    };\n}\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n * @param {*=}value initial value\n * @param {StartStopNotifier=}start start and stop notifications for subscriptions\n */\nfunction writable(value, start = noop) {\n    let stop;\n    const subscribers = new Set();\n    function set(new_value) {\n        if (safe_not_equal(value, new_value)) {\n            value = new_value;\n            if (stop) { // store is ready\n                const run_queue = !subscriber_queue.length;\n                for (const subscriber of subscribers) {\n                    subscriber[1]();\n                    subscriber_queue.push(subscriber, value);\n                }\n                if (run_queue) {\n                    for (let i = 0; i < subscriber_queue.length; i += 2) {\n                        subscriber_queue[i][0](subscriber_queue[i + 1]);\n                    }\n                    subscriber_queue.length = 0;\n                }\n            }\n        }\n    }\n    function update(fn) {\n        set(fn(value));\n    }\n    function subscribe(run, invalidate = noop) {\n        const subscriber = [run, invalidate];\n        subscribers.add(subscriber);\n        if (subscribers.size === 1) {\n            stop = start(set) || noop;\n        }\n        run(value);\n        return () => {\n            subscribers.delete(subscriber);\n            if (subscribers.size === 0 && stop) {\n                stop();\n                stop = null;\n            }\n        };\n    }\n    return { set, update, subscribe };\n}\nfunction derived(stores, fn, initial_value) {\n    const single = !Array.isArray(stores);\n    const stores_array = single\n        ? [stores]\n        : stores;\n    const auto = fn.length < 2;\n    return readable(initial_value, (set) => {\n        let started = false;\n        const values = [];\n        let pending = 0;\n        let cleanup = noop;\n        const sync = () => {\n            if (pending) {\n                return;\n            }\n            cleanup();\n            const result = fn(single ? values[0] : values, set);\n            if (auto) {\n                set(result);\n            }\n            else {\n                cleanup = is_function(result) ? result : noop;\n            }\n        };\n        const unsubscribers = stores_array.map((store, i) => subscribe(store, (value) => {\n            values[i] = value;\n            pending &= ~(1 << i);\n            if (started) {\n                sync();\n            }\n        }, () => {\n            pending |= (1 << i);\n        }));\n        started = true;\n        sync();\n        return function stop() {\n            run_all(unsubscribers);\n            cleanup();\n            // We need to set this to false because callbacks can still happen despite having unsubscribed:\n            // Callbacks might already be placed in the queue which doesn't know it should no longer\n            // invoke this derived store.\n            started = false;\n        };\n    });\n}\n/**\n * Takes a store and returns a new one derived from the old one that is readable.\n *\n * @param store - store to make readonly\n */\nfunction readonly(store) {\n    return {\n        subscribe: store.subscribe.bind(store)\n    };\n}\n\nexport { derived, readable, readonly, writable };\n",null,"<script lang=\"ts\">\n  import { inview, type Options } from \"svelte-inview\";\n  import type { Highlight, SearchResult } from \"../types\";\n  import { explainDictionary, requestExplanation } from \"../explainQueue\";\n\n  let element: HTMLSpanElement;\n\n  const options: Options = {\n    rootMargin: \"50px\",\n  };\n\n  export let text: string;\n  export let searchResult: SearchResult;\n  let highlights: Highlight[] | null = null;\n\n  $: params = {\n    filename: searchResult.filename,\n    offset: searchResult.offset,\n    queries: searchResult.queries,\n    preferences: searchResult.preferences,\n    text: text,\n  };\n\n  $: highlights = $explainDictionary[JSON.stringify(params)];\n\n  let isInView = false;\n  let inViewTimeout: number | null = null;\n  let isInViewForEnoughTime = false;\n\n  $: {\n    if (isInView) {\n      inViewTimeout = setTimeout(() => {\n        isInViewForEnoughTime = true;\n        requestExplanation(element, params);\n      }, 100);\n    } else {\n      isInViewForEnoughTime = false;\n      if (inViewTimeout !== null) {\n        clearTimeout(inViewTimeout);\n        inViewTimeout = null;\n      }\n    }\n  }\n</script>\n\n<span\n  use:inview={options}\n  on:inview_change={(e) => (isInView = e.detail.inView)}\n  bind:this={element}\n>\n  {#if highlights == null}\n    <span>{text}</span>\n  {:else}\n    {#each highlights as highlight}\n      {#if highlight.type === \"highlight\"}\n        <span class=\"explain-highlight\">{highlight.text}</span>\n      {:else}\n        <span>{highlight.text}</span>\n      {/if}\n    {/each}\n  {/if}\n</span>\n\n<style>\n  .explain-highlight {\n    background-color: rgb(154 134 0 / 18%);\n  }\n</style>\n","<script lang=\"ts\">\n  import { createEventDispatcher } from \"svelte\";\n  import {\n    preferenceKey,\n    type File,\n    type SearchResult,\n    type Preference,\n  } from \"../types\";\n  import SearchResultText from \"./SearchResultText.svelte\";\n\n  export let file: File;\n  export let searchResult: SearchResult;\n  export let preferences: { [key: string]: Preference };\n  export let showFilename = false;\n\n  const dispatch = createEventDispatcher();\n\n  $: prefKey = preferenceKey(file, searchResult);\n  $: preference = preferences[prefKey] || {\n    file,\n    searchResult,\n    weight: 0,\n  };\n\n  function jumpToResult(file: File, searchResult: SearchResult) {\n    dispatch(\"navigate\", { file, searchResult });\n  }\n\n  function setPreference(\n    e: Event,\n    file: File,\n    searchResult: SearchResult,\n    weight: number\n  ) {\n    dispatch(\"setPreference\", {\n      file,\n      searchResult,\n      weight,\n    });\n    e.stopPropagation();\n  }\n</script>\n\n<!-- svelte-ignore a11y-click-events-have-key-events -->\n<li\n  on:click={() => jumpToResult(file, searchResult)}\n  class=\"font-mono text-sm border-b last:border-0 py-4 px-4 border-black pointer\"\n>\n  <div\n    class=\"border-l-4 border-transparent pl-2 -ml-2\"\n    class:!border-blue-600={preference.weight > 0}\n    class:!border-orange-500={preference.weight < 0}\n  >\n    {#if showFilename}\n      <div class=\"font-bold text-base my-2\">\n        {file.basename}\n        <span class=\"highlight px-1 rounded text-xs\"\n          >{searchResult.distance.toFixed(2)}</span\n        >\n      </div>\n    {:else}\n      <span class=\"text-xs highlight px-1 rounded\"\n        >{searchResult.distance.toFixed(2)}</span\n      >\n    {/if}\n    <button\n      class=\"bg-gray-300 rounded px-2\"\n      class:bg-blue-200={preference.weight > 0}\n      class:text-blue-600={preference.weight > 0}\n      class:font-bold={preference.weight > 0}\n      on:click={(e) =>\n        setPreference(e, file, searchResult, preference.weight > 0 ? 0 : 1)}\n      >+</button\n    >\n    <button\n      class=\"bg-gray-300 rounded px-2\"\n      class:bg-orange-200={preference.weight < 0}\n      class:text-orange-500={preference.weight < 0}\n      class:font-bold={preference.weight < 0}\n      on:click={(e) =>\n        setPreference(e, file, searchResult, preference.weight < 0 ? 0 : -1)}\n      >-</button\n    >\n    {#key JSON.stringify( { filename: searchResult.filename, offset: searchResult.offset, queries: searchResult.queries, preferences: searchResult.preferences, text: searchResult.text } )}\n      <SearchResultText {searchResult} text={searchResult.text} />\n    {/key}\n  </div>\n</li>\n\n<style>\n  .highlight {\n    background: rgb(255 222 0 / 39%);\n  }\n</style>\n","<script lang=\"ts\">\n  import { createEventDispatcher } from \"svelte\";\n  import type {\n    File,\n    Preference,\n    SearchResult,\n    SearchResultSet,\n    ScoredSearchResult,\n  } from \"../types\";\n  import SearchResultComponent from \"./SearchResult.svelte\";\n\n  export let searchResultSet: SearchResultSet;\n  export let filesByPath: { [path: string]: File };\n  export let preferences: { [key: string]: Preference };\n  export let activeFile: File | null;\n  export let unsearched: boolean;\n  export let sidebarExpanded = false;\n  \n  const dispatch = createEventDispatcher();\n\n  function exportToJson() {\n    dispatch(\"exportToJson\");\n  }\n\n  let filterViewed = false;\n  let excerptView = false;\n\n  let filenameFilter = \"\";\n\n  let searchContainer: HTMLDivElement;\n\n  let detailReverse = false;\n  let filenameDetailClosed: { [filename: string]: boolean } = {};\n\n  export function scrollToTop() {\n    if (searchContainer) searchContainer.scrollTop = 0;\n  }\n\n  function filterFilename(filenameFilter: string, filename: string): boolean {\n    return filename.toLowerCase().includes(filenameFilter.toLowerCase());\n  }\n\n  function getScore(searchResults: SearchResult[]): number {\n    let total = 0;\n    for (const searchResult of searchResults) {\n      total += searchResult.distance;\n    }\n    return total / searchResults.length;\n  }\n\n  $: scoredSearchResultSet = searchResultSet.results\n    .map<ScoredSearchResult>(([filename, searchResults]) => [\n      filename,\n      searchResults,\n      getScore(searchResults),\n    ])\n    .sort((a, b) =>\n      searchResultSet.sort === \"asc\" ? a[2] - b[2] : b[2] - a[2]\n    )\n    .filter(([filename]) => {\n      if (filterViewed && activeFile != null) {\n        return filename === activeFile.filename;\n      } else {\n        return true;\n      }\n    });\n  $: sortedSearchResults = searchResultSet.results\n    .map((x) => x[1])\n    .flat()\n    .sort((a, b) =>\n      searchResultSet.sort === \"asc\"\n        ? a.distance - b.distance\n        : b.distance - a.distance\n    )\n    .filter((searchResult) => {\n      if (filterViewed && activeFile != null) {\n        return searchResult.filename === activeFile.filename;\n      } else {\n        return true;\n      }\n    });\n\n  function handleToggle(e: Event, filename: string) {\n    const open = (e.target as HTMLDetailsElement).open;\n    filenameDetailClosed[filename] = detailReverse ? open : !open;\n  }\n</script>\n\n<div\n  class=\"absolute top-11 z-10 hidden max-sm:block\"\n  class:hide={sidebarExpanded}\n>\n  <button\n    class=\"button hamburger-icon\"\n    title=\"Toggle sidebar expanded\"\n    on:click={() => (sidebarExpanded = !sidebarExpanded)}\n    >Toggle sidebar expanded</button\n  >\n</div>\n<div\n  class=\"w-1/3 max-lg:w-64 bg-slate-100 max-sm:absolute max-sm:left-0 max-sm:right-8 max-sm:bottom-0 max-sm:top-0 max-sm:w-[calc(100%-8rem)] border-r-4 z-10 border-black flex flex-col items-stretch flex-shrink-0\"\n  class:hide={!sidebarExpanded}\n>\n  <div class=\"flex items-center mb-2 pr-2 max-lg:flex-wrap\">\n    <div class=\"mt-2 hidden max-sm:block\">\n      <button\n        class=\"button hamburger-icon\"\n        title=\"Toggle sidebar expanded\"\n        on:click={() => (sidebarExpanded = !sidebarExpanded)}\n        >Toggle sidebar expanded</button\n      >\n    </div>\n    <div class=\"flex-1 flex items-center relative px-2 mt-2\" class:unsearched>\n      <input\n        class=\"border border-black bg-white py-1 pl-8 font-mono rounded flex-1 w-40\"\n        placeholder=\"Filter files\"\n        bind:value={filenameFilter}\n      />\n      <div class=\"filter-icon\">Filter</div>\n    </div>\n    <div class=\"mt-2\" class:unsearched>\n      {#if !excerptView}\n        <button\n          class=\"button toggle-detail-icon\"\n          title=\"Toggle search results expanded/collapsed\"\n          on:click={() => {\n            if (detailReverse) {\n              detailReverse = false;\n              filenameDetailClosed = {};\n            } else {\n              detailReverse = true;\n              filenameDetailClosed = {};\n            }\n          }}\n          >{#if detailReverse}Collapse all{:else}Expand all{/if}</button\n        >\n      {/if}\n      <button\n        class=\"button solo-icon\"\n        class:button-active={filterViewed}\n        disabled={activeFile == null}\n        on:click={() => (filterViewed = !filterViewed)}\n        title={filterViewed ? \"Show all files\" : \"Filter to only viewed file\"}\n      >\n        {#if filterViewed}\n          Show all files\n        {:else}Filter to only viewed file\n        {/if}</button\n      >\n      <button\n        class=\"button toggle-view-icon\"\n        title=\"Toggle search results view\"\n        on:click={() => (excerptView = !excerptView)}\n      >\n        {#if excerptView}\n          Show file view\n        {:else}Show exercept view{/if}</button\n      >\n      <button\n        class=\"button save-icon\"\n        title=\"Save results to json\"\n        on:click={()=> exportToJson()}\n      >\n      Save search results to a file\n      </button>\n    </div>\n  </div>\n  <div class=\"flex-1 relative\">\n    <div\n      class=\"absolute left-0 top-0 right-0 bottom-0 break-words overflow-y-auto pb-2\"\n      bind:this={searchContainer}\n    >\n      {#if excerptView}\n        <!-- Excerpt view -->\n        <ul class=\"-mt-2\">\n          {#each sortedSearchResults as searchResult}\n            {@const file = filesByPath[searchResult.filename]}\n            {#if filterFilename(filenameFilter, file.basename)}\n              {#key searchResult}\n                <SearchResultComponent\n                  on:navigate\n                  on:setPreference\n                  {file}\n                  {searchResult}\n                  {preferences}\n                  showFilename={true}\n                />\n              {/key}\n            {/if}\n          {/each}\n        </ul>\n      {:else}\n        <!-- File view -->\n        {#each scoredSearchResultSet as [filename, searchResults, score]}\n          {@const file = filesByPath[filename]}\n          {#if filterFilename(filenameFilter, file.basename)}\n            {#key [filename, searchResults, score]}\n              <details\n                open={detailReverse\n                  ? filenameDetailClosed[filename]\n                  : !filenameDetailClosed[filename]}\n                on:toggle={(e) => handleToggle(e, filename)}\n              >\n                <summary\n                  class=\"font-mono font-bold cursor-pointer select-none px-2 pt-2 top-0 sticky bg-slate-100\"\n                >\n                  {file.basename}\n                  <span class=\"text-xs highlight px-1 rounded\"\n                    >{score.toFixed(2)}</span\n                  >\n                </summary>\n                <ul class=\"-mt-2\">\n                  {#each searchResults as searchResult}\n                    {#key searchResult}\n                      <SearchResultComponent\n                        on:navigate\n                        on:setPreference\n                        {file}\n                        {searchResult}\n                        {preferences}\n                        showFilename={false}\n                      />\n                    {/key}\n                  {/each}\n                </ul>\n              </details>\n            {/key}\n          {/if}\n        {/each}\n      {/if}\n      {#if unsearched}\n        <div class=\"m-2 font-mono\">\n          Enter a search query above and click the search icon or type Enter.\n        </div>\n      {/if}\n    </div>\n  </div>\n</div>\n\n<style>\n  .highlight {\n    background: rgb(255 222 0 / 39%);\n  }\n\n  .filter-icon {\n    background-image: url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOSIgaGVpZ2h0PSIxNSIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik04LjYyNSAxMy44MzNoMS4yMk0uMjgyIDEuNTQyaDE3LjkwN002Ljk1NiA5LjczNmg0LjU1OE0zLjY2IDUuNjM5aDExLjE1Ii8+PC9zdmc+\");\n    background-repeat: no-repeat;\n    text-indent: -9999px;\n    width: 20px;\n    position: absolute;\n    left: 16px;\n    top: 8px;\n  }\n\n  .button {\n    @apply border border-black rounded bg-white p-1;\n    text-indent: -9999px;\n    width: 42px;\n    margin: 0 0 0 4px;\n    background-position: center;\n    background-repeat: no-repeat;\n  }\n\n  .button-active {\n    @apply bg-gray-200;\n  }\n\n  .solo-icon {\n    background-image: url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIxMyIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBkPSJNMTAuMTMzIDEuNDhjLTMuNTg1IDAtNC44MzQgMS40NzMtOC45MDggNS4yMDcgNC4wNzQgMy43MzQgNS4zMjMgNS4yMDggOC45MDggNS4yMDggMy41ODUgMCA0LjgzNC0xLjQ3NCA4LjkwOC01LjIwOC00LjA3NC0zLjczNC01LjMyMy01LjIwNy04LjkwOC01LjIwN1oiLz48Y2lyY2xlIGN4PSIxMC4xMzMiIGN5PSI2LjY4NyIgcj0iMi4zMDUiIGZpbGw9IiMwMDAiLz48Y2lyY2xlIGN4PSIxMC4xMzMiIGN5PSI2LjY4NyIgcj0iMy42OTQiIHN0cm9rZT0iIzAwMCIvPjwvc3ZnPg==\");\n    background-size: 80%;\n  }\n\n  .toggle-view-icon {\n    background-image: url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIxNiIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNLjIgMWgxMHYxSC4zVjFabTEwLjMgOC45aDguNlYxMWgtOC42VjkuOVptLS4yLTdIMi44VjRoNy41VjNabS4yIDguOWg4LjZ2MWgtOC42di0xWm0tLjItN0gyLjhWNmg3LjVWNVptLjIgOC45aDguNnYxaC04LjZ2LTFabS0uMi03SDIuOHYxLjFoNy41di0xWk0xNCA0LjZsLjkgMS0xIC45LTItMi4zLS4zLS41LjUtLjRMMTQgMS42bC44IDEtLjguN0E1IDUgMCAwIDEgMTcgNC42YzEgMSAxLjMgMi4zIDEuMyAzLjhoLTEuM2MwLTEuMy0uMy0yLjItMS0yLjktLjQtLjQtMS0uOC0xLjgtMVptLTggNy4yIDEgMWMtLjktLjItMS41LS41LTEuOS0xLS42LS42LTEtMS42LTEtMi44SDNjMCAxLjQuMyAyLjggMS4zIDMuOEE1IDUgMCAwIDAgNyAxNGwtLjguNy45IDFMOSAxNGwuNC0uNC0uNC0uNS0yLTIuMy0xIC45WiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+\");\n    background-size: 70%;\n  }\n  \n  .save-icon{\n    background-image: url(\"../download.png\");\n    background-size: 70%;\n  }\n\n  .toggle-detail-icon {\n    background-image: url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOSIgaGVpZ2h0PSIxNSIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik01LjIuNHY5LjdNLjQgNS4zSDEwTTkuMiAxMy43aDguOSIvPjwvc3ZnPg==\");\n    background-size: 60%;\n  }\n\n  .hamburger-icon {\n    width: 32px;\n    background-image: url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOSIgaGVpZ2h0PSIxMSIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik0uMyAxLjZoMTcuOU0uMyA5LjhoMTcuOU0uMyA1LjdoMTcuOSIvPjwvc3ZnPg==\");\n    background-size: 80%;\n  }\n\n  .hide {\n    /* Breakpoint only */\n    @apply max-sm:!hidden;\n  }\n\n  .unsearched {\n    @apply pointer-events-none opacity-20 select-none;\n  }\n</style>\n","/* ***** BEGIN LICENSE BLOCK *****\n * Distributed under the BSD license:\n *\n * Copyright (c) 2010, Ajax.org B.V.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *     * Redistributions of source code must retain the above copyright\n *       notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above copyright\n *       notice, this list of conditions and the following disclaimer in the\n *       documentation and/or other materials provided with the distribution.\n *     * Neither the name of Ajax.org B.V. nor the\n *       names of its contributors may be used to endorse or promote products\n *       derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * ***** END LICENSE BLOCK ***** */\n\n/**\n * Define a module along with a payload\n * @param module a name for the payload\n * @param payload a function to call with (require, exports, module) params\n */\n\n(function() {\n\nvar ACE_NAMESPACE = \"ace\";\n\nvar global = (function() { return this; })();\nif (!global && typeof window != \"undefined\") global = window; // strict mode\n\n\nif (!ACE_NAMESPACE && typeof requirejs !== \"undefined\")\n    return;\n\n\nvar define = function(module, deps, payload) {\n    if (typeof module !== \"string\") {\n        if (define.original)\n            define.original.apply(this, arguments);\n        else {\n            console.error(\"dropping module because define wasn\\'t a string.\");\n            console.trace();\n        }\n        return;\n    }\n    if (arguments.length == 2)\n        payload = deps;\n    if (!define.modules[module]) {\n        define.payloads[module] = payload;\n        define.modules[module] = null;\n    }\n};\n\ndefine.modules = {};\ndefine.payloads = {};\n\n/**\n * Get at functionality define()ed using the function above\n */\nvar _require = function(parentId, module, callback) {\n    if (typeof module === \"string\") {\n        var payload = lookup(parentId, module);\n        if (payload != undefined) {\n            callback && callback();\n            return payload;\n        }\n    } else if (Object.prototype.toString.call(module) === \"[object Array]\") {\n        var params = [];\n        for (var i = 0, l = module.length; i < l; ++i) {\n            var dep = lookup(parentId, module[i]);\n            if (dep == undefined && require.original)\n                return;\n            params.push(dep);\n        }\n        return callback && callback.apply(null, params) || true;\n    }\n};\n\nvar require = function(module, callback) {\n    var packagedModule = _require(\"\", module, callback);\n    if (packagedModule == undefined && require.original)\n        return require.original.apply(this, arguments);\n    return packagedModule;\n};\n\nvar normalizeModule = function(parentId, moduleName) {\n    // normalize plugin requires\n    if (moduleName.indexOf(\"!\") !== -1) {\n        var chunks = moduleName.split(\"!\");\n        return normalizeModule(parentId, chunks[0]) + \"!\" + normalizeModule(parentId, chunks[1]);\n    }\n    // normalize relative requires\n    if (moduleName.charAt(0) == \".\") {\n        var base = parentId.split(\"/\").slice(0, -1).join(\"/\");\n        moduleName = base + \"/\" + moduleName;\n\n        while(moduleName.indexOf(\".\") !== -1 && previous != moduleName) {\n            var previous = moduleName;\n            moduleName = moduleName.replace(/\\/\\.\\//, \"/\").replace(/[^\\/]+\\/\\.\\.\\//, \"\");\n        }\n    }\n    return moduleName;\n};\n\n/**\n * Internal function to lookup moduleNames and resolve them by calling the\n * definition function if needed.\n */\nvar lookup = function(parentId, moduleName) {\n    moduleName = normalizeModule(parentId, moduleName);\n\n    var module = define.modules[moduleName];\n    if (!module) {\n        module = define.payloads[moduleName];\n        if (typeof module === 'function') {\n            var exports = {};\n            var mod = {\n                id: moduleName,\n                uri: '',\n                exports: exports,\n                packaged: true\n            };\n\n            var req = function(module, callback) {\n                return _require(moduleName, module, callback);\n            };\n\n            var returnValue = module(req, exports, mod);\n            exports = returnValue || mod.exports;\n            define.modules[moduleName] = exports;\n            delete define.payloads[moduleName];\n        }\n        module = define.modules[moduleName] = exports || module;\n    }\n    return module;\n};\n\nfunction exportAce(ns) {\n    var root = global;\n    if (ns) {\n        if (!global[ns])\n            global[ns] = {};\n        root = global[ns];\n    }\n\n    if (!root.define || !root.define.packaged) {\n        define.original = root.define;\n        root.define = define;\n        root.define.packaged = true;\n    }\n\n    if (!root.require || !root.require.packaged) {\n        require.original = root.require;\n        root.require = require;\n        root.require.packaged = true;\n    }\n}\n\nexportAce(ACE_NAMESPACE);\n\n})();\n\nace.define(\"ace/lib/es6-shim\",[\"require\",\"exports\",\"module\"], function(require, exports, module){function defineProp(obj, name, val) {\n    Object.defineProperty(obj, name, {\n        value: val,\n        enumerable: false,\n        writable: true,\n        configurable: true\n    });\n}\nif (!String.prototype.startsWith) {\n    defineProp(String.prototype, \"startsWith\", function (searchString, position) {\n        position = position || 0;\n        return this.lastIndexOf(searchString, position) === position;\n    });\n}\nif (!String.prototype.endsWith) {\n    defineProp(String.prototype, \"endsWith\", function (searchString, position) {\n        var subjectString = this;\n        if (position === undefined || position > subjectString.length) {\n            position = subjectString.length;\n        }\n        position -= searchString.length;\n        var lastIndex = subjectString.indexOf(searchString, position);\n        return lastIndex !== -1 && lastIndex === position;\n    });\n}\nif (!String.prototype.repeat) {\n    defineProp(String.prototype, \"repeat\", function (count) {\n        var result = \"\";\n        var string = this;\n        while (count > 0) {\n            if (count & 1)\n                result += string;\n            if ((count >>= 1))\n                string += string;\n        }\n        return result;\n    });\n}\nif (!String.prototype.includes) {\n    defineProp(String.prototype, \"includes\", function (str, position) {\n        return this.indexOf(str, position) != -1;\n    });\n}\nif (!Object.assign) {\n    Object.assign = function (target) {\n        if (target === undefined || target === null) {\n            throw new TypeError(\"Cannot convert undefined or null to object\");\n        }\n        var output = Object(target);\n        for (var index = 1; index < arguments.length; index++) {\n            var source = arguments[index];\n            if (source !== undefined && source !== null) {\n                Object.keys(source).forEach(function (key) {\n                    output[key] = source[key];\n                });\n            }\n        }\n        return output;\n    };\n}\nif (!Object.values) {\n    Object.values = function (o) {\n        return Object.keys(o).map(function (k) {\n            return o[k];\n        });\n    };\n}\nif (!Array.prototype.find) {\n    defineProp(Array.prototype, \"find\", function (predicate) {\n        var len = this.length;\n        var thisArg = arguments[1];\n        for (var k = 0; k < len; k++) {\n            var kValue = this[k];\n            if (predicate.call(thisArg, kValue, k, this)) {\n                return kValue;\n            }\n        }\n    });\n}\nif (!Array.prototype.findIndex) {\n    defineProp(Array.prototype, \"findIndex\", function (predicate) {\n        var len = this.length;\n        var thisArg = arguments[1];\n        for (var k = 0; k < len; k++) {\n            var kValue = this[k];\n            if (predicate.call(thisArg, kValue, k, this)) {\n                return k;\n            }\n        }\n    });\n}\nif (!Array.prototype.includes) {\n    defineProp(Array.prototype, \"includes\", function (item, position) {\n        return this.indexOf(item, position) != -1;\n    });\n}\nif (!Array.prototype.fill) {\n    defineProp(Array.prototype, \"fill\", function (value) {\n        var O = this;\n        var len = O.length >>> 0;\n        var start = arguments[1];\n        var relativeStart = start >> 0;\n        var k = relativeStart < 0\n            ? Math.max(len + relativeStart, 0)\n            : Math.min(relativeStart, len);\n        var end = arguments[2];\n        var relativeEnd = end === undefined ? len : end >> 0;\n        var final = relativeEnd < 0\n            ? Math.max(len + relativeEnd, 0)\n            : Math.min(relativeEnd, len);\n        while (k < final) {\n            O[k] = value;\n            k++;\n        }\n        return O;\n    });\n}\nif (!Array.of) {\n    defineProp(Array, \"of\", function () {\n        return Array.prototype.slice.call(arguments);\n    });\n}\n\n});\n\nace.define(\"ace/lib/fixoldbrowsers\",[\"require\",\"exports\",\"module\",\"ace/lib/es6-shim\"], function(require, exports, module){// vim:set ts=4 sts=4 sw=4 st:\n\"use strict\";\nrequire(\"./es6-shim\");\n\n});\n\nace.define(\"ace/lib/lang\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nexports.last = function (a) {\n    return a[a.length - 1];\n};\nexports.stringReverse = function (string) {\n    return string.split(\"\").reverse().join(\"\");\n};\nexports.stringRepeat = function (string, count) {\n    var result = '';\n    while (count > 0) {\n        if (count & 1)\n            result += string;\n        if (count >>= 1)\n            string += string;\n    }\n    return result;\n};\nvar trimBeginRegexp = /^\\s\\s*/;\nvar trimEndRegexp = /\\s\\s*$/;\nexports.stringTrimLeft = function (string) {\n    return string.replace(trimBeginRegexp, '');\n};\nexports.stringTrimRight = function (string) {\n    return string.replace(trimEndRegexp, '');\n};\nexports.copyObject = function (obj) {\n    var copy = {};\n    for (var key in obj) {\n        copy[key] = obj[key];\n    }\n    return copy;\n};\nexports.copyArray = function (array) {\n    var copy = [];\n    for (var i = 0, l = array.length; i < l; i++) {\n        if (array[i] && typeof array[i] == \"object\")\n            copy[i] = this.copyObject(array[i]);\n        else\n            copy[i] = array[i];\n    }\n    return copy;\n};\nexports.deepCopy = function deepCopy(obj) {\n    if (typeof obj !== \"object\" || !obj)\n        return obj;\n    var copy;\n    if (Array.isArray(obj)) {\n        copy = [];\n        for (var key = 0; key < obj.length; key++) {\n            copy[key] = deepCopy(obj[key]);\n        }\n        return copy;\n    }\n    if (Object.prototype.toString.call(obj) !== \"[object Object]\")\n        return obj;\n    copy = {};\n    for (var key in obj)\n        copy[key] = deepCopy(obj[key]);\n    return copy;\n};\nexports.arrayToMap = function (arr) {\n    var map = {};\n    for (var i = 0; i < arr.length; i++) {\n        map[arr[i]] = 1;\n    }\n    return map;\n};\nexports.createMap = function (props) {\n    var map = Object.create(null);\n    for (var i in props) {\n        map[i] = props[i];\n    }\n    return map;\n};\nexports.arrayRemove = function (array, value) {\n    for (var i = 0; i <= array.length; i++) {\n        if (value === array[i]) {\n            array.splice(i, 1);\n        }\n    }\n};\nexports.escapeRegExp = function (str) {\n    return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g, '\\\\$1');\n};\nexports.escapeHTML = function (str) {\n    return (\"\" + str).replace(/&/g, \"&#38;\").replace(/\"/g, \"&#34;\").replace(/'/g, \"&#39;\").replace(/</g, \"&#60;\");\n};\nexports.getMatchOffsets = function (string, regExp) {\n    var matches = [];\n    string.replace(regExp, function (str) {\n        matches.push({\n            offset: arguments[arguments.length - 2],\n            length: str.length\n        });\n    });\n    return matches;\n};\nexports.deferredCall = function (fcn) {\n    var timer = null;\n    var callback = function () {\n        timer = null;\n        fcn();\n    };\n    var deferred = function (timeout) {\n        deferred.cancel();\n        timer = setTimeout(callback, timeout || 0);\n        return deferred;\n    };\n    deferred.schedule = deferred;\n    deferred.call = function () {\n        this.cancel();\n        fcn();\n        return deferred;\n    };\n    deferred.cancel = function () {\n        clearTimeout(timer);\n        timer = null;\n        return deferred;\n    };\n    deferred.isPending = function () {\n        return timer;\n    };\n    return deferred;\n};\nexports.delayedCall = function (fcn, defaultTimeout) {\n    var timer = null;\n    var callback = function () {\n        timer = null;\n        fcn();\n    };\n    var _self = function (timeout) {\n        if (timer == null)\n            timer = setTimeout(callback, timeout || defaultTimeout);\n    };\n    _self.delay = function (timeout) {\n        timer && clearTimeout(timer);\n        timer = setTimeout(callback, timeout || defaultTimeout);\n    };\n    _self.schedule = _self;\n    _self.call = function () {\n        this.cancel();\n        fcn();\n    };\n    _self.cancel = function () {\n        timer && clearTimeout(timer);\n        timer = null;\n    };\n    _self.isPending = function () {\n        return timer;\n    };\n    return _self;\n};\n\n});\n\nace.define(\"ace/lib/oop\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nexports.inherits = function (ctor, superCtor) {\n    ctor.super_ = superCtor;\n    ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n            value: ctor,\n            enumerable: false,\n            writable: true,\n            configurable: true\n        }\n    });\n};\nexports.mixin = function (obj, mixin) {\n    for (var key in mixin) {\n        obj[key] = mixin[key];\n    }\n    return obj;\n};\nexports.implement = function (proto, mixin) {\n    exports.mixin(proto, mixin);\n};\n\n});\n\nace.define(\"ace/lib/useragent\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nexports.OS = {\n    LINUX: \"LINUX\",\n    MAC: \"MAC\",\n    WINDOWS: \"WINDOWS\"\n};\nexports.getOS = function () {\n    if (exports.isMac) {\n        return exports.OS.MAC;\n    }\n    else if (exports.isLinux) {\n        return exports.OS.LINUX;\n    }\n    else {\n        return exports.OS.WINDOWS;\n    }\n};\nvar _navigator = typeof navigator == \"object\" ? navigator : {};\nvar os = (/mac|win|linux/i.exec(_navigator.platform) || [\"other\"])[0].toLowerCase();\nvar ua = _navigator.userAgent || \"\";\nvar appName = _navigator.appName || \"\";\nexports.isWin = (os == \"win\");\nexports.isMac = (os == \"mac\");\nexports.isLinux = (os == \"linux\");\nexports.isIE =\n    (appName == \"Microsoft Internet Explorer\" || appName.indexOf(\"MSAppHost\") >= 0)\n        ? parseFloat((ua.match(/(?:MSIE |Trident\\/[0-9]+[\\.0-9]+;.*rv:)([0-9]+[\\.0-9]+)/) || [])[1])\n        : parseFloat((ua.match(/(?:Trident\\/[0-9]+[\\.0-9]+;.*rv:)([0-9]+[\\.0-9]+)/) || [])[1]); // for ie\nexports.isOldIE = exports.isIE && exports.isIE < 9;\nexports.isGecko = exports.isMozilla = ua.match(/ Gecko\\/\\d+/);\nexports.isOpera = typeof opera == \"object\" && Object.prototype.toString.call(window.opera) == \"[object Opera]\";\nexports.isWebKit = parseFloat(ua.split(\"WebKit/\")[1]) || undefined;\nexports.isChrome = parseFloat(ua.split(\" Chrome/\")[1]) || undefined;\nexports.isEdge = parseFloat(ua.split(\" Edge/\")[1]) || undefined;\nexports.isAIR = ua.indexOf(\"AdobeAIR\") >= 0;\nexports.isAndroid = ua.indexOf(\"Android\") >= 0;\nexports.isChromeOS = ua.indexOf(\" CrOS \") >= 0;\nexports.isIOS = /iPad|iPhone|iPod/.test(ua) && !window.MSStream;\nif (exports.isIOS)\n    exports.isMac = true;\nexports.isMobile = exports.isIOS || exports.isAndroid;\n\n});\n\nace.define(\"ace/lib/dom\",[\"require\",\"exports\",\"module\",\"ace/lib/useragent\"], function(require, exports, module){\"use strict\";\nvar useragent = require(\"./useragent\");\nvar XHTML_NS = \"http://www.w3.org/1999/xhtml\";\nexports.buildDom = function buildDom(arr, parent, refs) {\n    if (typeof arr == \"string\" && arr) {\n        var txt = document.createTextNode(arr);\n        if (parent)\n            parent.appendChild(txt);\n        return txt;\n    }\n    if (!Array.isArray(arr)) {\n        if (arr && arr.appendChild && parent)\n            parent.appendChild(arr);\n        return arr;\n    }\n    if (typeof arr[0] != \"string\" || !arr[0]) {\n        var els = [];\n        for (var i = 0; i < arr.length; i++) {\n            var ch = buildDom(arr[i], parent, refs);\n            ch && els.push(ch);\n        }\n        return els;\n    }\n    var el = document.createElement(arr[0]);\n    var options = arr[1];\n    var childIndex = 1;\n    if (options && typeof options == \"object\" && !Array.isArray(options))\n        childIndex = 2;\n    for (var i = childIndex; i < arr.length; i++)\n        buildDom(arr[i], el, refs);\n    if (childIndex == 2) {\n        Object.keys(options).forEach(function (n) {\n            var val = options[n];\n            if (n === \"class\") {\n                el.className = Array.isArray(val) ? val.join(\" \") : val;\n            }\n            else if (typeof val == \"function\" || n == \"value\" || n[0] == \"$\") {\n                el[n] = val;\n            }\n            else if (n === \"ref\") {\n                if (refs)\n                    refs[val] = el;\n            }\n            else if (n === \"style\") {\n                if (typeof val == \"string\")\n                    el.style.cssText = val;\n            }\n            else if (val != null) {\n                el.setAttribute(n, val);\n            }\n        });\n    }\n    if (parent)\n        parent.appendChild(el);\n    return el;\n};\nexports.getDocumentHead = function (doc) {\n    if (!doc)\n        doc = document;\n    return doc.head || doc.getElementsByTagName(\"head\")[0] || doc.documentElement;\n};\nexports.createElement = function (tag, ns) {\n    return document.createElementNS ?\n        document.createElementNS(ns || XHTML_NS, tag) :\n        document.createElement(tag);\n};\nexports.removeChildren = function (element) {\n    element.innerHTML = \"\";\n};\nexports.createTextNode = function (textContent, element) {\n    var doc = element ? element.ownerDocument : document;\n    return doc.createTextNode(textContent);\n};\nexports.createFragment = function (element) {\n    var doc = element ? element.ownerDocument : document;\n    return doc.createDocumentFragment();\n};\nexports.hasCssClass = function (el, name) {\n    var classes = (el.className + \"\").split(/\\s+/g);\n    return classes.indexOf(name) !== -1;\n};\nexports.addCssClass = function (el, name) {\n    if (!exports.hasCssClass(el, name)) {\n        el.className += \" \" + name;\n    }\n};\nexports.removeCssClass = function (el, name) {\n    var classes = el.className.split(/\\s+/g);\n    while (true) {\n        var index = classes.indexOf(name);\n        if (index == -1) {\n            break;\n        }\n        classes.splice(index, 1);\n    }\n    el.className = classes.join(\" \");\n};\nexports.toggleCssClass = function (el, name) {\n    var classes = el.className.split(/\\s+/g), add = true;\n    while (true) {\n        var index = classes.indexOf(name);\n        if (index == -1) {\n            break;\n        }\n        add = false;\n        classes.splice(index, 1);\n    }\n    if (add)\n        classes.push(name);\n    el.className = classes.join(\" \");\n    return add;\n};\nexports.setCssClass = function (node, className, include) {\n    if (include) {\n        exports.addCssClass(node, className);\n    }\n    else {\n        exports.removeCssClass(node, className);\n    }\n};\nexports.hasCssString = function (id, doc) {\n    var index = 0, sheets;\n    doc = doc || document;\n    if ((sheets = doc.querySelectorAll(\"style\"))) {\n        while (index < sheets.length) {\n            if (sheets[index++].id === id) {\n                return true;\n            }\n        }\n    }\n};\nexports.removeElementById = function (id, doc) {\n    doc = doc || document;\n    if (doc.getElementById(id)) {\n        doc.getElementById(id).remove();\n    }\n};\nvar strictCSP;\nvar cssCache = [];\nexports.useStrictCSP = function (value) {\n    strictCSP = value;\n    if (value == false)\n        insertPendingStyles();\n    else if (!cssCache)\n        cssCache = [];\n};\nfunction insertPendingStyles() {\n    var cache = cssCache;\n    cssCache = null;\n    cache && cache.forEach(function (item) {\n        importCssString(item[0], item[1]);\n    });\n}\nfunction importCssString(cssText, id, target) {\n    if (typeof document == \"undefined\")\n        return;\n    if (cssCache) {\n        if (target) {\n            insertPendingStyles();\n        }\n        else if (target === false) {\n            return cssCache.push([cssText, id]);\n        }\n    }\n    if (strictCSP)\n        return;\n    var container = target;\n    if (!target || !target.getRootNode) {\n        container = document;\n    }\n    else {\n        container = target.getRootNode();\n        if (!container || container == target)\n            container = document;\n    }\n    var doc = container.ownerDocument || container;\n    if (id && exports.hasCssString(id, container))\n        return null;\n    if (id)\n        cssText += \"\\n/*# sourceURL=ace/css/\" + id + \" */\";\n    var style = exports.createElement(\"style\");\n    style.appendChild(doc.createTextNode(cssText));\n    if (id)\n        style.id = id;\n    if (container == doc)\n        container = exports.getDocumentHead(doc);\n    container.insertBefore(style, container.firstChild);\n}\nexports.importCssString = importCssString;\nexports.importCssStylsheet = function (uri, doc) {\n    exports.buildDom([\"link\", { rel: \"stylesheet\", href: uri }], exports.getDocumentHead(doc));\n};\nexports.scrollbarWidth = function (doc) {\n    var inner = exports.createElement(\"ace_inner\");\n    inner.style.width = \"100%\";\n    inner.style.minWidth = \"0px\";\n    inner.style.height = \"200px\";\n    inner.style.display = \"block\";\n    var outer = exports.createElement(\"ace_outer\");\n    var style = outer.style;\n    style.position = \"absolute\";\n    style.left = \"-10000px\";\n    style.overflow = \"hidden\";\n    style.width = \"200px\";\n    style.minWidth = \"0px\";\n    style.height = \"150px\";\n    style.display = \"block\";\n    outer.appendChild(inner);\n    var body = (doc && doc.documentElement) || (document && document.documentElement);\n    if (!body)\n        return 0;\n    body.appendChild(outer);\n    var noScrollbar = inner.offsetWidth;\n    style.overflow = \"scroll\";\n    var withScrollbar = inner.offsetWidth;\n    if (noScrollbar === withScrollbar) {\n        withScrollbar = outer.clientWidth;\n    }\n    body.removeChild(outer);\n    return noScrollbar - withScrollbar;\n};\nexports.computedStyle = function (element, style) {\n    return window.getComputedStyle(element, \"\") || {};\n};\nexports.setStyle = function (styles, property, value) {\n    if (styles[property] !== value) {\n        styles[property] = value;\n    }\n};\nexports.HAS_CSS_ANIMATION = false;\nexports.HAS_CSS_TRANSFORMS = false;\nexports.HI_DPI = useragent.isWin\n    ? typeof window !== \"undefined\" && window.devicePixelRatio >= 1.5\n    : true;\nif (useragent.isChromeOS)\n    exports.HI_DPI = false;\nif (typeof document !== \"undefined\") {\n    var div = document.createElement(\"div\");\n    if (exports.HI_DPI && div.style.transform !== undefined)\n        exports.HAS_CSS_TRANSFORMS = true;\n    if (!useragent.isEdge && typeof div.style.animationName !== \"undefined\")\n        exports.HAS_CSS_ANIMATION = true;\n    div = null;\n}\nif (exports.HAS_CSS_TRANSFORMS) {\n    exports.translate = function (element, tx, ty) {\n        element.style.transform = \"translate(\" + Math.round(tx) + \"px, \" + Math.round(ty) + \"px)\";\n    };\n}\nelse {\n    exports.translate = function (element, tx, ty) {\n        element.style.top = Math.round(ty) + \"px\";\n        element.style.left = Math.round(tx) + \"px\";\n    };\n}\n\n});\n\nace.define(\"ace/lib/net\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module){/*\n * based on code from:\n *\n * @license RequireJS text 0.25.0 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.\n * Available via the MIT or new BSD license.\n * see: http://github.com/jrburke/requirejs for details\n */\n\"use strict\";\nvar dom = require(\"./dom\");\nexports.get = function (url, callback) {\n    var xhr = new XMLHttpRequest();\n    xhr.open('GET', url, true);\n    xhr.onreadystatechange = function () {\n        if (xhr.readyState === 4) {\n            callback(xhr.responseText);\n        }\n    };\n    xhr.send(null);\n};\nexports.loadScript = function (path, callback) {\n    var head = dom.getDocumentHead();\n    var s = document.createElement('script');\n    s.src = path;\n    head.appendChild(s);\n    s.onload = s.onreadystatechange = function (_, isAbort) {\n        if (isAbort || !s.readyState || s.readyState == \"loaded\" || s.readyState == \"complete\") {\n            s = s.onload = s.onreadystatechange = null;\n            if (!isAbort)\n                callback();\n        }\n    };\n};\nexports.qualifyURL = function (url) {\n    var a = document.createElement('a');\n    a.href = url;\n    return a.href;\n};\n\n});\n\nace.define(\"ace/lib/event_emitter\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nvar EventEmitter = {};\nvar stopPropagation = function () { this.propagationStopped = true; };\nvar preventDefault = function () { this.defaultPrevented = true; };\nEventEmitter._emit =\n    EventEmitter._dispatchEvent = function (eventName, e) {\n        this._eventRegistry || (this._eventRegistry = {});\n        this._defaultHandlers || (this._defaultHandlers = {});\n        var listeners = this._eventRegistry[eventName] || [];\n        var defaultHandler = this._defaultHandlers[eventName];\n        if (!listeners.length && !defaultHandler)\n            return;\n        if (typeof e != \"object\" || !e)\n            e = {};\n        if (!e.type)\n            e.type = eventName;\n        if (!e.stopPropagation)\n            e.stopPropagation = stopPropagation;\n        if (!e.preventDefault)\n            e.preventDefault = preventDefault;\n        listeners = listeners.slice();\n        for (var i = 0; i < listeners.length; i++) {\n            listeners[i](e, this);\n            if (e.propagationStopped)\n                break;\n        }\n        if (defaultHandler && !e.defaultPrevented)\n            return defaultHandler(e, this);\n    };\nEventEmitter._signal = function (eventName, e) {\n    var listeners = (this._eventRegistry || {})[eventName];\n    if (!listeners)\n        return;\n    listeners = listeners.slice();\n    for (var i = 0; i < listeners.length; i++)\n        listeners[i](e, this);\n};\nEventEmitter.once = function (eventName, callback) {\n    var _self = this;\n    this.on(eventName, function newCallback() {\n        _self.off(eventName, newCallback);\n        callback.apply(null, arguments);\n    });\n    if (!callback) {\n        return new Promise(function (resolve) {\n            callback = resolve;\n        });\n    }\n};\nEventEmitter.setDefaultHandler = function (eventName, callback) {\n    var handlers = this._defaultHandlers;\n    if (!handlers)\n        handlers = this._defaultHandlers = { _disabled_: {} };\n    if (handlers[eventName]) {\n        var old = handlers[eventName];\n        var disabled = handlers._disabled_[eventName];\n        if (!disabled)\n            handlers._disabled_[eventName] = disabled = [];\n        disabled.push(old);\n        var i = disabled.indexOf(callback);\n        if (i != -1)\n            disabled.splice(i, 1);\n    }\n    handlers[eventName] = callback;\n};\nEventEmitter.removeDefaultHandler = function (eventName, callback) {\n    var handlers = this._defaultHandlers;\n    if (!handlers)\n        return;\n    var disabled = handlers._disabled_[eventName];\n    if (handlers[eventName] == callback) {\n        if (disabled)\n            this.setDefaultHandler(eventName, disabled.pop());\n    }\n    else if (disabled) {\n        var i = disabled.indexOf(callback);\n        if (i != -1)\n            disabled.splice(i, 1);\n    }\n};\nEventEmitter.on =\n    EventEmitter.addEventListener = function (eventName, callback, capturing) {\n        this._eventRegistry = this._eventRegistry || {};\n        var listeners = this._eventRegistry[eventName];\n        if (!listeners)\n            listeners = this._eventRegistry[eventName] = [];\n        if (listeners.indexOf(callback) == -1)\n            listeners[capturing ? \"unshift\" : \"push\"](callback);\n        return callback;\n    };\nEventEmitter.off =\n    EventEmitter.removeListener =\n        EventEmitter.removeEventListener = function (eventName, callback) {\n            this._eventRegistry = this._eventRegistry || {};\n            var listeners = this._eventRegistry[eventName];\n            if (!listeners)\n                return;\n            var index = listeners.indexOf(callback);\n            if (index !== -1)\n                listeners.splice(index, 1);\n        };\nEventEmitter.removeAllListeners = function (eventName) {\n    if (!eventName)\n        this._eventRegistry = this._defaultHandlers = undefined;\n    if (this._eventRegistry)\n        this._eventRegistry[eventName] = undefined;\n    if (this._defaultHandlers)\n        this._defaultHandlers[eventName] = undefined;\n};\nexports.EventEmitter = EventEmitter;\n\n});\n\nace.define(\"ace/lib/app_config\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"], function(require, exports, module){\"no use strict\";\nvar oop = require(\"./oop\");\nvar EventEmitter = require(\"./event_emitter\").EventEmitter;\nvar optionsProvider = {\n    setOptions: function (optList) {\n        Object.keys(optList).forEach(function (key) {\n            this.setOption(key, optList[key]);\n        }, this);\n    },\n    getOptions: function (optionNames) {\n        var result = {};\n        if (!optionNames) {\n            var options = this.$options;\n            optionNames = Object.keys(options).filter(function (key) {\n                return !options[key].hidden;\n            });\n        }\n        else if (!Array.isArray(optionNames)) {\n            result = optionNames;\n            optionNames = Object.keys(result);\n        }\n        optionNames.forEach(function (key) {\n            result[key] = this.getOption(key);\n        }, this);\n        return result;\n    },\n    setOption: function (name, value) {\n        if (this[\"$\" + name] === value)\n            return;\n        var opt = this.$options[name];\n        if (!opt) {\n            return warn('misspelled option \"' + name + '\"');\n        }\n        if (opt.forwardTo)\n            return this[opt.forwardTo] && this[opt.forwardTo].setOption(name, value);\n        if (!opt.handlesSet)\n            this[\"$\" + name] = value;\n        if (opt && opt.set)\n            opt.set.call(this, value);\n    },\n    getOption: function (name) {\n        var opt = this.$options[name];\n        if (!opt) {\n            return warn('misspelled option \"' + name + '\"');\n        }\n        if (opt.forwardTo)\n            return this[opt.forwardTo] && this[opt.forwardTo].getOption(name);\n        return opt && opt.get ? opt.get.call(this) : this[\"$\" + name];\n    }\n};\nfunction warn(message) {\n    if (typeof console != \"undefined\" && console.warn)\n        console.warn.apply(console, arguments);\n}\nfunction reportError(msg, data) {\n    var e = new Error(msg);\n    e.data = data;\n    if (typeof console == \"object\" && console.error)\n        console.error(e);\n    setTimeout(function () { throw e; });\n}\nvar AppConfig = function () {\n    this.$defaultOptions = {};\n};\n(function () {\n    oop.implement(this, EventEmitter);\n    this.defineOptions = function (obj, path, options) {\n        if (!obj.$options)\n            this.$defaultOptions[path] = obj.$options = {};\n        Object.keys(options).forEach(function (key) {\n            var opt = options[key];\n            if (typeof opt == \"string\")\n                opt = { forwardTo: opt };\n            opt.name || (opt.name = key);\n            obj.$options[opt.name] = opt;\n            if (\"initialValue\" in opt)\n                obj[\"$\" + opt.name] = opt.initialValue;\n        });\n        oop.implement(obj, optionsProvider);\n        return this;\n    };\n    this.resetOptions = function (obj) {\n        Object.keys(obj.$options).forEach(function (key) {\n            var opt = obj.$options[key];\n            if (\"value\" in opt)\n                obj.setOption(key, opt.value);\n        });\n    };\n    this.setDefaultValue = function (path, name, value) {\n        if (!path) {\n            for (path in this.$defaultOptions)\n                if (this.$defaultOptions[path][name])\n                    break;\n            if (!this.$defaultOptions[path][name])\n                return false;\n        }\n        var opts = this.$defaultOptions[path] || (this.$defaultOptions[path] = {});\n        if (opts[name]) {\n            if (opts.forwardTo)\n                this.setDefaultValue(opts.forwardTo, name, value);\n            else\n                opts[name].value = value;\n        }\n    };\n    this.setDefaultValues = function (path, optionHash) {\n        Object.keys(optionHash).forEach(function (key) {\n            this.setDefaultValue(path, key, optionHash[key]);\n        }, this);\n    };\n    this.warn = warn;\n    this.reportError = reportError;\n}).call(AppConfig.prototype);\nexports.AppConfig = AppConfig;\n\n});\n\nace.define(\"ace/theme/textmate.css\",[\"require\",\"exports\",\"module\"], function(require, exports, module){module.exports = \".ace-tm .ace_gutter {\\n  background: #f0f0f0;\\n  color: #333;\\n}\\n\\n.ace-tm .ace_print-margin {\\n  width: 1px;\\n  background: #e8e8e8;\\n}\\n\\n.ace-tm .ace_fold {\\n    background-color: #6B72E6;\\n}\\n\\n.ace-tm {\\n  background-color: #FFFFFF;\\n  color: black;\\n}\\n\\n.ace-tm .ace_cursor {\\n  color: black;\\n}\\n        \\n.ace-tm .ace_invisible {\\n  color: rgb(191, 191, 191);\\n}\\n\\n.ace-tm .ace_storage,\\n.ace-tm .ace_keyword {\\n  color: blue;\\n}\\n\\n.ace-tm .ace_constant {\\n  color: rgb(197, 6, 11);\\n}\\n\\n.ace-tm .ace_constant.ace_buildin {\\n  color: rgb(88, 72, 246);\\n}\\n\\n.ace-tm .ace_constant.ace_language {\\n  color: rgb(88, 92, 246);\\n}\\n\\n.ace-tm .ace_constant.ace_library {\\n  color: rgb(6, 150, 14);\\n}\\n\\n.ace-tm .ace_invalid {\\n  background-color: rgba(255, 0, 0, 0.1);\\n  color: red;\\n}\\n\\n.ace-tm .ace_support.ace_function {\\n  color: rgb(60, 76, 114);\\n}\\n\\n.ace-tm .ace_support.ace_constant {\\n  color: rgb(6, 150, 14);\\n}\\n\\n.ace-tm .ace_support.ace_type,\\n.ace-tm .ace_support.ace_class {\\n  color: rgb(109, 121, 222);\\n}\\n\\n.ace-tm .ace_keyword.ace_operator {\\n  color: rgb(104, 118, 135);\\n}\\n\\n.ace-tm .ace_string {\\n  color: rgb(3, 106, 7);\\n}\\n\\n.ace-tm .ace_comment {\\n  color: rgb(76, 136, 107);\\n}\\n\\n.ace-tm .ace_comment.ace_doc {\\n  color: rgb(0, 102, 255);\\n}\\n\\n.ace-tm .ace_comment.ace_doc.ace_tag {\\n  color: rgb(128, 159, 191);\\n}\\n\\n.ace-tm .ace_constant.ace_numeric {\\n  color: rgb(0, 0, 205);\\n}\\n\\n.ace-tm .ace_variable {\\n  color: rgb(49, 132, 149);\\n}\\n\\n.ace-tm .ace_xml-pe {\\n  color: rgb(104, 104, 91);\\n}\\n\\n.ace-tm .ace_entity.ace_name.ace_function {\\n  color: #0000A2;\\n}\\n\\n\\n.ace-tm .ace_heading {\\n  color: rgb(12, 7, 255);\\n}\\n\\n.ace-tm .ace_list {\\n  color:rgb(185, 6, 144);\\n}\\n\\n.ace-tm .ace_meta.ace_tag {\\n  color:rgb(0, 22, 142);\\n}\\n\\n.ace-tm .ace_string.ace_regex {\\n  color: rgb(255, 0, 0)\\n}\\n\\n.ace-tm .ace_marker-layer .ace_selection {\\n  background: rgb(181, 213, 255);\\n}\\n.ace-tm.ace_multiselect .ace_selection.ace_start {\\n  box-shadow: 0 0 3px 0px white;\\n}\\n.ace-tm .ace_marker-layer .ace_step {\\n  background: rgb(252, 255, 0);\\n}\\n\\n.ace-tm .ace_marker-layer .ace_stack {\\n  background: rgb(164, 229, 101);\\n}\\n\\n.ace-tm .ace_marker-layer .ace_bracket {\\n  margin: -1px 0 0 -1px;\\n  border: 1px solid rgb(192, 192, 192);\\n}\\n\\n.ace-tm .ace_marker-layer .ace_active-line {\\n  background: rgba(0, 0, 0, 0.07);\\n}\\n\\n.ace-tm .ace_gutter-active-line {\\n    background-color : #dcdcdc;\\n}\\n\\n.ace-tm .ace_marker-layer .ace_selected-word {\\n  background: rgb(250, 250, 255);\\n  border: 1px solid rgb(200, 200, 250);\\n}\\n\\n.ace-tm .ace_indent-guide {\\n  background: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==\\\") right repeat-y;\\n}\\n\\n.ace-tm .ace_indent-guide-active {\\n  background: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC\\\") right repeat-y;\\n}\\n\";\n\n});\n\nace.define(\"ace/theme/textmate\",[\"require\",\"exports\",\"module\",\"ace/theme/textmate.css\",\"ace/lib/dom\"], function(require, exports, module){\"use strict\";\nexports.isDark = false;\nexports.cssClass = \"ace-tm\";\nexports.cssText = require(\"./textmate.css\");\nexports.$id = \"ace/theme/textmate\";\nvar dom = require(\"../lib/dom\");\ndom.importCssString(exports.cssText, exports.cssClass, false);\n\n});\n\nace.define(\"ace/config\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/lib/oop\",\"ace/lib/net\",\"ace/lib/dom\",\"ace/lib/app_config\",\"ace/theme/textmate\"], function(require, exports, module){\"no use strict\";\nvar lang = require(\"./lib/lang\");\nvar oop = require(\"./lib/oop\");\nvar net = require(\"./lib/net\");\nvar dom = require(\"./lib/dom\");\nvar AppConfig = require(\"./lib/app_config\").AppConfig;\nmodule.exports = exports = new AppConfig();\nvar options = {\n    packaged: false,\n    workerPath: null,\n    modePath: null,\n    themePath: null,\n    basePath: \"\",\n    suffix: \".js\",\n    $moduleUrls: {},\n    loadWorkerFromBlob: true,\n    sharedPopups: false,\n    useStrictCSP: null\n};\nexports.get = function (key) {\n    if (!options.hasOwnProperty(key))\n        throw new Error(\"Unknown config key: \" + key);\n    return options[key];\n};\nexports.set = function (key, value) {\n    if (options.hasOwnProperty(key))\n        options[key] = value;\n    else if (this.setDefaultValue(\"\", key, value) == false)\n        throw new Error(\"Unknown config key: \" + key);\n    if (key == \"useStrictCSP\")\n        dom.useStrictCSP(value);\n};\nexports.all = function () {\n    return lang.copyObject(options);\n};\nexports.$modes = {};\nexports.moduleUrl = function (name, component) {\n    if (options.$moduleUrls[name])\n        return options.$moduleUrls[name];\n    var parts = name.split(\"/\");\n    component = component || parts[parts.length - 2] || \"\";\n    var sep = component == \"snippets\" ? \"/\" : \"-\";\n    var base = parts[parts.length - 1];\n    if (component == \"worker\" && sep == \"-\") {\n        var re = new RegExp(\"^\" + component + \"[\\\\-_]|[\\\\-_]\" + component + \"$\", \"g\");\n        base = base.replace(re, \"\");\n    }\n    if ((!base || base == component) && parts.length > 1)\n        base = parts[parts.length - 2];\n    var path = options[component + \"Path\"];\n    if (path == null) {\n        path = options.basePath;\n    }\n    else if (sep == \"/\") {\n        component = sep = \"\";\n    }\n    if (path && path.slice(-1) != \"/\")\n        path += \"/\";\n    return path + component + sep + base + this.get(\"suffix\");\n};\nexports.setModuleUrl = function (name, subst) {\n    return options.$moduleUrls[name] = subst;\n};\nvar loader = function (moduleName, cb) {\n    if (moduleName === \"ace/theme/textmate\" || moduleName === \"./theme/textmate\")\n        return cb(null, require(\"./theme/textmate\"));\n    return console.error(\"loader is not configured\");\n};\nexports.setLoader = function (cb) {\n    loader = cb;\n};\nexports.dynamicModules = Object.create(null);\nexports.$loading = {};\nexports.loadModule = function (moduleName, onLoad) {\n    var module, moduleType;\n    if (Array.isArray(moduleName)) {\n        moduleType = moduleName[0];\n        moduleName = moduleName[1];\n    }\n    var load = function (module) {\n        if (module && !exports.$loading[moduleName])\n            return onLoad && onLoad(module);\n        if (!exports.$loading[moduleName])\n            exports.$loading[moduleName] = [];\n        exports.$loading[moduleName].push(onLoad);\n        if (exports.$loading[moduleName].length > 1)\n            return;\n        var afterLoad = function () {\n            loader(moduleName, function (err, module) {\n                exports._emit(\"load.module\", { name: moduleName, module: module });\n                var listeners = exports.$loading[moduleName];\n                exports.$loading[moduleName] = null;\n                listeners.forEach(function (onLoad) {\n                    onLoad && onLoad(module);\n                });\n            });\n        };\n        if (!exports.get(\"packaged\"))\n            return afterLoad();\n        net.loadScript(exports.moduleUrl(moduleName, moduleType), afterLoad);\n        reportErrorIfPathIsNotConfigured();\n    };\n    if (exports.dynamicModules[moduleName]) {\n        exports.dynamicModules[moduleName]().then(function (module) {\n            if (module.default) {\n                load(module.default);\n            }\n            else {\n                load(module);\n            }\n        });\n    }\n    else {\n        try {\n            module = require(moduleName);\n        }\n        catch (e) { }\n        load(module);\n    }\n};\nexports.setModuleLoader = function (moduleName, onLoad) {\n    exports.dynamicModules[moduleName] = onLoad;\n};\nvar reportErrorIfPathIsNotConfigured = function () {\n    if (!options.basePath && !options.workerPath\n        && !options.modePath && !options.themePath\n        && !Object.keys(options.$moduleUrls).length) {\n        console.error(\"Unable to infer path to ace from script src,\", \"use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes\", \"or with webpack use ace/webpack-resolver\");\n        reportErrorIfPathIsNotConfigured = function () { };\n    }\n};\nexports.version = \"1.16.0\";\n\n});\n\nace.define(\"ace/loader_build\",[\"require\",\"exports\",\"module\",\"ace/lib/fixoldbrowsers\",\"ace/config\"], function(require, exports, module) {\n\"use strict\";\n\nrequire(\"./lib/fixoldbrowsers\");\nvar config = require(\"./config\");\nconfig.setLoader(function(moduleName, cb) {\n    require([moduleName], function(module) {\n        cb(null, module);\n    });\n});\n\nvar global = (function() {\n    return this || typeof window != \"undefined\" && window;\n})();\n\nmodule.exports = function(ace) {\n    config.init = init;\n    ace.require = require;\n\n    if (typeof define === \"function\")\n        ace.define = define;\n};\ninit(true);function init(packaged) {\n\n    if (!global || !global.document)\n        return;\n    \n    config.set(\"packaged\", packaged || require.packaged || module.packaged || (global.define && define.packaged));\n\n    var scriptOptions = {};\n    var scriptUrl = \"\";\n    var currentScript = (document.currentScript || document._currentScript ); // native or polyfill\n    var currentDocument = currentScript && currentScript.ownerDocument || document;\n    \n    if (currentScript && currentScript.src) {\n        scriptUrl = currentScript.src.split(/[?#]/)[0].split(\"/\").slice(0, -1).join(\"/\") || \"\";\n    }\n    \n    var scripts = currentDocument.getElementsByTagName(\"script\");\n    for (var i=0; i<scripts.length; i++) {\n        var script = scripts[i];\n\n        var src = script.src || script.getAttribute(\"src\");\n        if (!src)\n            continue;\n\n        var attributes = script.attributes;\n        for (var j=0, l=attributes.length; j < l; j++) {\n            var attr = attributes[j];\n            if (attr.name.indexOf(\"data-ace-\") === 0) {\n                scriptOptions[deHyphenate(attr.name.replace(/^data-ace-/, \"\"))] = attr.value;\n            }\n        }\n\n        var m = src.match(/^(.*)\\/ace([\\-.]\\w+)?\\.js(\\?|$)/);\n        if (m)\n            scriptUrl = m[1];\n    }\n\n    if (scriptUrl) {\n        scriptOptions.base = scriptOptions.base || scriptUrl;\n        scriptOptions.packaged = true;\n    }\n\n    scriptOptions.basePath = scriptOptions.base;\n    scriptOptions.workerPath = scriptOptions.workerPath || scriptOptions.base;\n    scriptOptions.modePath = scriptOptions.modePath || scriptOptions.base;\n    scriptOptions.themePath = scriptOptions.themePath || scriptOptions.base;\n    delete scriptOptions.base;\n\n    for (var key in scriptOptions)\n        if (typeof scriptOptions[key] !== \"undefined\")\n            config.set(key, scriptOptions[key]);\n}\n\nfunction deHyphenate(str) {\n    return str.replace(/-(.)/g, function(m, m1) { return m1.toUpperCase(); });\n}\n});\n\nace.define(\"ace/lib/keys\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\"], function(require, exports, module){/*! @license\n==========================================================================\nSproutCore -- JavaScript Application Framework\ncopyright 2006-2009, Sprout Systems Inc., Apple Inc. and contributors.\n\nPermission is hereby granted, free of charge, to any person obtaining a\ncopy of this software and associated documentation files (the \"Software\"),\nto deal in the Software without restriction, including without limitation\nthe rights to use, copy, modify, merge, publish, distribute, sublicense,\nand/or sell copies of the Software, and to permit persons to whom the\nSoftware is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\nFROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\nDEALINGS IN THE SOFTWARE.\n\nSproutCore and the SproutCore logo are trademarks of Sprout Systems, Inc.\n\nFor more information about SproutCore, visit http://www.sproutcore.com\n\n\n==========================================================================\n@license */\n\"use strict\";\nvar oop = require(\"./oop\");\nvar Keys = (function () {\n    var ret = {\n        MODIFIER_KEYS: {\n            16: 'Shift', 17: 'Ctrl', 18: 'Alt', 224: 'Meta',\n            91: 'MetaLeft', 92: 'MetaRight', 93: 'ContextMenu'\n        },\n        KEY_MODS: {\n            \"ctrl\": 1, \"alt\": 2, \"option\": 2, \"shift\": 4,\n            \"super\": 8, \"meta\": 8, \"command\": 8, \"cmd\": 8,\n            \"control\": 1\n        },\n        FUNCTION_KEYS: {\n            8: \"Backspace\",\n            9: \"Tab\",\n            13: \"Return\",\n            19: \"Pause\",\n            27: \"Esc\",\n            32: \"Space\",\n            33: \"PageUp\",\n            34: \"PageDown\",\n            35: \"End\",\n            36: \"Home\",\n            37: \"Left\",\n            38: \"Up\",\n            39: \"Right\",\n            40: \"Down\",\n            44: \"Print\",\n            45: \"Insert\",\n            46: \"Delete\",\n            96: \"Numpad0\",\n            97: \"Numpad1\",\n            98: \"Numpad2\",\n            99: \"Numpad3\",\n            100: \"Numpad4\",\n            101: \"Numpad5\",\n            102: \"Numpad6\",\n            103: \"Numpad7\",\n            104: \"Numpad8\",\n            105: \"Numpad9\",\n            '-13': \"NumpadEnter\",\n            112: \"F1\",\n            113: \"F2\",\n            114: \"F3\",\n            115: \"F4\",\n            116: \"F5\",\n            117: \"F6\",\n            118: \"F7\",\n            119: \"F8\",\n            120: \"F9\",\n            121: \"F10\",\n            122: \"F11\",\n            123: \"F12\",\n            144: \"Numlock\",\n            145: \"Scrolllock\"\n        },\n        PRINTABLE_KEYS: {\n            32: ' ', 48: '0', 49: '1', 50: '2', 51: '3', 52: '4', 53: '5',\n            54: '6', 55: '7', 56: '8', 57: '9', 59: ';', 61: '=', 65: 'a',\n            66: 'b', 67: 'c', 68: 'd', 69: 'e', 70: 'f', 71: 'g', 72: 'h',\n            73: 'i', 74: 'j', 75: 'k', 76: 'l', 77: 'm', 78: 'n', 79: 'o',\n            80: 'p', 81: 'q', 82: 'r', 83: 's', 84: 't', 85: 'u', 86: 'v',\n            87: 'w', 88: 'x', 89: 'y', 90: 'z', 107: '+', 109: '-', 110: '.',\n            186: ';', 187: '=', 188: ',', 189: '-', 190: '.', 191: '/', 192: '`',\n            219: '[', 220: '\\\\', 221: ']', 222: \"'\", 111: '/', 106: '*'\n        }\n    };\n    ret.PRINTABLE_KEYS[173] = '-';\n    var name, i;\n    for (i in ret.FUNCTION_KEYS) {\n        name = ret.FUNCTION_KEYS[i].toLowerCase();\n        ret[name] = parseInt(i, 10);\n    }\n    for (i in ret.PRINTABLE_KEYS) {\n        name = ret.PRINTABLE_KEYS[i].toLowerCase();\n        ret[name] = parseInt(i, 10);\n    }\n    oop.mixin(ret, ret.MODIFIER_KEYS);\n    oop.mixin(ret, ret.PRINTABLE_KEYS);\n    oop.mixin(ret, ret.FUNCTION_KEYS);\n    ret.enter = ret[\"return\"];\n    ret.escape = ret.esc;\n    ret.del = ret[\"delete\"];\n    (function () {\n        var mods = [\"cmd\", \"ctrl\", \"alt\", \"shift\"];\n        for (var i = Math.pow(2, mods.length); i--;) {\n            ret.KEY_MODS[i] = mods.filter(function (x) {\n                return i & ret.KEY_MODS[x];\n            }).join(\"-\") + \"-\";\n        }\n    })();\n    ret.KEY_MODS[0] = \"\";\n    ret.KEY_MODS[-1] = \"input-\";\n    return ret;\n})();\noop.mixin(exports, Keys);\nexports.keyCodeToString = function (keyCode) {\n    var keyString = Keys[keyCode];\n    if (typeof keyString != \"string\")\n        keyString = String.fromCharCode(keyCode);\n    return keyString.toLowerCase();\n};\n\n});\n\nace.define(\"ace/lib/event\",[\"require\",\"exports\",\"module\",\"ace/lib/keys\",\"ace/lib/useragent\"], function(require, exports, module){\"use strict\";\nvar keys = require(\"./keys\");\nvar useragent = require(\"./useragent\");\nvar pressedKeys = null;\nvar ts = 0;\nvar activeListenerOptions;\nfunction detectListenerOptionsSupport() {\n    activeListenerOptions = false;\n    try {\n        document.createComment(\"\").addEventListener(\"test\", function () { }, {\n            get passive() {\n                activeListenerOptions = { passive: false };\n            }\n        });\n    }\n    catch (e) { }\n}\nfunction getListenerOptions() {\n    if (activeListenerOptions == undefined)\n        detectListenerOptionsSupport();\n    return activeListenerOptions;\n}\nfunction EventListener(elem, type, callback) {\n    this.elem = elem;\n    this.type = type;\n    this.callback = callback;\n}\nEventListener.prototype.destroy = function () {\n    removeListener(this.elem, this.type, this.callback);\n    this.elem = this.type = this.callback = undefined;\n};\nvar addListener = exports.addListener = function (elem, type, callback, destroyer) {\n    elem.addEventListener(type, callback, getListenerOptions());\n    if (destroyer)\n        destroyer.$toDestroy.push(new EventListener(elem, type, callback));\n};\nvar removeListener = exports.removeListener = function (elem, type, callback) {\n    elem.removeEventListener(type, callback, getListenerOptions());\n};\nexports.stopEvent = function (e) {\n    exports.stopPropagation(e);\n    exports.preventDefault(e);\n    return false;\n};\nexports.stopPropagation = function (e) {\n    if (e.stopPropagation)\n        e.stopPropagation();\n};\nexports.preventDefault = function (e) {\n    if (e.preventDefault)\n        e.preventDefault();\n};\nexports.getButton = function (e) {\n    if (e.type == \"dblclick\")\n        return 0;\n    if (e.type == \"contextmenu\" || (useragent.isMac && (e.ctrlKey && !e.altKey && !e.shiftKey)))\n        return 2;\n    return e.button;\n};\nexports.capture = function (el, eventHandler, releaseCaptureHandler) {\n    var ownerDocument = el && el.ownerDocument || document;\n    function onMouseUp(e) {\n        eventHandler && eventHandler(e);\n        releaseCaptureHandler && releaseCaptureHandler(e);\n        removeListener(ownerDocument, \"mousemove\", eventHandler);\n        removeListener(ownerDocument, \"mouseup\", onMouseUp);\n        removeListener(ownerDocument, \"dragstart\", onMouseUp);\n    }\n    addListener(ownerDocument, \"mousemove\", eventHandler);\n    addListener(ownerDocument, \"mouseup\", onMouseUp);\n    addListener(ownerDocument, \"dragstart\", onMouseUp);\n    return onMouseUp;\n};\nexports.addMouseWheelListener = function (el, callback, destroyer) {\n    addListener(el, \"wheel\", function (e) {\n        var factor = 0.15;\n        var deltaX = e.deltaX || 0;\n        var deltaY = e.deltaY || 0;\n        switch (e.deltaMode) {\n            case e.DOM_DELTA_PIXEL:\n                e.wheelX = deltaX * factor;\n                e.wheelY = deltaY * factor;\n                break;\n            case e.DOM_DELTA_LINE:\n                var linePixels = 15;\n                e.wheelX = deltaX * linePixels;\n                e.wheelY = deltaY * linePixels;\n                break;\n            case e.DOM_DELTA_PAGE:\n                var pagePixels = 150;\n                e.wheelX = deltaX * pagePixels;\n                e.wheelY = deltaY * pagePixels;\n                break;\n        }\n        callback(e);\n    }, destroyer);\n};\nexports.addMultiMouseDownListener = function (elements, timeouts, eventHandler, callbackName, destroyer) {\n    var clicks = 0;\n    var startX, startY, timer;\n    var eventNames = {\n        2: \"dblclick\",\n        3: \"tripleclick\",\n        4: \"quadclick\"\n    };\n    function onMousedown(e) {\n        if (exports.getButton(e) !== 0) {\n            clicks = 0;\n        }\n        else if (e.detail > 1) {\n            clicks++;\n            if (clicks > 4)\n                clicks = 1;\n        }\n        else {\n            clicks = 1;\n        }\n        if (useragent.isIE) {\n            var isNewClick = Math.abs(e.clientX - startX) > 5 || Math.abs(e.clientY - startY) > 5;\n            if (!timer || isNewClick)\n                clicks = 1;\n            if (timer)\n                clearTimeout(timer);\n            timer = setTimeout(function () { timer = null; }, timeouts[clicks - 1] || 600);\n            if (clicks == 1) {\n                startX = e.clientX;\n                startY = e.clientY;\n            }\n        }\n        e._clicks = clicks;\n        eventHandler[callbackName](\"mousedown\", e);\n        if (clicks > 4)\n            clicks = 0;\n        else if (clicks > 1)\n            return eventHandler[callbackName](eventNames[clicks], e);\n    }\n    if (!Array.isArray(elements))\n        elements = [elements];\n    elements.forEach(function (el) {\n        addListener(el, \"mousedown\", onMousedown, destroyer);\n    });\n};\nvar getModifierHash = function (e) {\n    return 0 | (e.ctrlKey ? 1 : 0) | (e.altKey ? 2 : 0) | (e.shiftKey ? 4 : 0) | (e.metaKey ? 8 : 0);\n};\nexports.getModifierString = function (e) {\n    return keys.KEY_MODS[getModifierHash(e)];\n};\nfunction normalizeCommandKeys(callback, e, keyCode) {\n    var hashId = getModifierHash(e);\n    if (!useragent.isMac && pressedKeys) {\n        if (e.getModifierState && (e.getModifierState(\"OS\") || e.getModifierState(\"Win\")))\n            hashId |= 8;\n        if (pressedKeys.altGr) {\n            if ((3 & hashId) != 3)\n                pressedKeys.altGr = 0;\n            else\n                return;\n        }\n        if (keyCode === 18 || keyCode === 17) {\n            var location = \"location\" in e ? e.location : e.keyLocation;\n            if (keyCode === 17 && location === 1) {\n                if (pressedKeys[keyCode] == 1)\n                    ts = e.timeStamp;\n            }\n            else if (keyCode === 18 && hashId === 3 && location === 2) {\n                var dt = e.timeStamp - ts;\n                if (dt < 50)\n                    pressedKeys.altGr = true;\n            }\n        }\n    }\n    if (keyCode in keys.MODIFIER_KEYS) {\n        keyCode = -1;\n    }\n    if (!hashId && keyCode === 13) {\n        var location = \"location\" in e ? e.location : e.keyLocation;\n        if (location === 3) {\n            callback(e, hashId, -keyCode);\n            if (e.defaultPrevented)\n                return;\n        }\n    }\n    if (useragent.isChromeOS && hashId & 8) {\n        callback(e, hashId, keyCode);\n        if (e.defaultPrevented)\n            return;\n        else\n            hashId &= ~8;\n    }\n    if (!hashId && !(keyCode in keys.FUNCTION_KEYS) && !(keyCode in keys.PRINTABLE_KEYS)) {\n        return false;\n    }\n    return callback(e, hashId, keyCode);\n}\nexports.addCommandKeyListener = function (el, callback, destroyer) {\n    if (useragent.isOldGecko || (useragent.isOpera && !(\"KeyboardEvent\" in window))) {\n        var lastKeyDownKeyCode = null;\n        addListener(el, \"keydown\", function (e) {\n            lastKeyDownKeyCode = e.keyCode;\n        }, destroyer);\n        addListener(el, \"keypress\", function (e) {\n            return normalizeCommandKeys(callback, e, lastKeyDownKeyCode);\n        }, destroyer);\n    }\n    else {\n        var lastDefaultPrevented = null;\n        addListener(el, \"keydown\", function (e) {\n            pressedKeys[e.keyCode] = (pressedKeys[e.keyCode] || 0) + 1;\n            var result = normalizeCommandKeys(callback, e, e.keyCode);\n            lastDefaultPrevented = e.defaultPrevented;\n            return result;\n        }, destroyer);\n        addListener(el, \"keypress\", function (e) {\n            if (lastDefaultPrevented && (e.ctrlKey || e.altKey || e.shiftKey || e.metaKey)) {\n                exports.stopEvent(e);\n                lastDefaultPrevented = null;\n            }\n        }, destroyer);\n        addListener(el, \"keyup\", function (e) {\n            pressedKeys[e.keyCode] = null;\n        }, destroyer);\n        if (!pressedKeys) {\n            resetPressedKeys();\n            addListener(window, \"focus\", resetPressedKeys);\n        }\n    }\n};\nfunction resetPressedKeys() {\n    pressedKeys = Object.create(null);\n}\nif (typeof window == \"object\" && window.postMessage && !useragent.isOldIE) {\n    var postMessageId = 1;\n    exports.nextTick = function (callback, win) {\n        win = win || window;\n        var messageName = \"zero-timeout-message-\" + (postMessageId++);\n        var listener = function (e) {\n            if (e.data == messageName) {\n                exports.stopPropagation(e);\n                removeListener(win, \"message\", listener);\n                callback();\n            }\n        };\n        addListener(win, \"message\", listener);\n        win.postMessage(messageName, \"*\");\n    };\n}\nexports.$idleBlocked = false;\nexports.onIdle = function (cb, timeout) {\n    return setTimeout(function handler() {\n        if (!exports.$idleBlocked) {\n            cb();\n        }\n        else {\n            setTimeout(handler, 100);\n        }\n    }, timeout);\n};\nexports.$idleBlockId = null;\nexports.blockIdle = function (delay) {\n    if (exports.$idleBlockId)\n        clearTimeout(exports.$idleBlockId);\n    exports.$idleBlocked = true;\n    exports.$idleBlockId = setTimeout(function () {\n        exports.$idleBlocked = false;\n    }, delay || 100);\n};\nexports.nextFrame = typeof window == \"object\" && (window.requestAnimationFrame\n    || window.mozRequestAnimationFrame\n    || window.webkitRequestAnimationFrame\n    || window.msRequestAnimationFrame\n    || window.oRequestAnimationFrame);\nif (exports.nextFrame)\n    exports.nextFrame = exports.nextFrame.bind(window);\nelse\n    exports.nextFrame = function (callback) {\n        setTimeout(callback, 17);\n    };\n\n});\n\nace.define(\"ace/range\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nvar comparePoints = function (p1, p2) {\n    return p1.row - p2.row || p1.column - p2.column;\n};\nvar Range = function (startRow, startColumn, endRow, endColumn) {\n    this.start = {\n        row: startRow,\n        column: startColumn\n    };\n    this.end = {\n        row: endRow,\n        column: endColumn\n    };\n};\n(function () {\n    this.isEqual = function (range) {\n        return this.start.row === range.start.row &&\n            this.end.row === range.end.row &&\n            this.start.column === range.start.column &&\n            this.end.column === range.end.column;\n    };\n    this.toString = function () {\n        return (\"Range: [\" + this.start.row + \"/\" + this.start.column +\n            \"] -> [\" + this.end.row + \"/\" + this.end.column + \"]\");\n    };\n    this.contains = function (row, column) {\n        return this.compare(row, column) == 0;\n    };\n    this.compareRange = function (range) {\n        var cmp, end = range.end, start = range.start;\n        cmp = this.compare(end.row, end.column);\n        if (cmp == 1) {\n            cmp = this.compare(start.row, start.column);\n            if (cmp == 1) {\n                return 2;\n            }\n            else if (cmp == 0) {\n                return 1;\n            }\n            else {\n                return 0;\n            }\n        }\n        else if (cmp == -1) {\n            return -2;\n        }\n        else {\n            cmp = this.compare(start.row, start.column);\n            if (cmp == -1) {\n                return -1;\n            }\n            else if (cmp == 1) {\n                return 42;\n            }\n            else {\n                return 0;\n            }\n        }\n    };\n    this.comparePoint = function (p) {\n        return this.compare(p.row, p.column);\n    };\n    this.containsRange = function (range) {\n        return this.comparePoint(range.start) == 0 && this.comparePoint(range.end) == 0;\n    };\n    this.intersects = function (range) {\n        var cmp = this.compareRange(range);\n        return (cmp == -1 || cmp == 0 || cmp == 1);\n    };\n    this.isEnd = function (row, column) {\n        return this.end.row == row && this.end.column == column;\n    };\n    this.isStart = function (row, column) {\n        return this.start.row == row && this.start.column == column;\n    };\n    this.setStart = function (row, column) {\n        if (typeof row == \"object\") {\n            this.start.column = row.column;\n            this.start.row = row.row;\n        }\n        else {\n            this.start.row = row;\n            this.start.column = column;\n        }\n    };\n    this.setEnd = function (row, column) {\n        if (typeof row == \"object\") {\n            this.end.column = row.column;\n            this.end.row = row.row;\n        }\n        else {\n            this.end.row = row;\n            this.end.column = column;\n        }\n    };\n    this.inside = function (row, column) {\n        if (this.compare(row, column) == 0) {\n            if (this.isEnd(row, column) || this.isStart(row, column)) {\n                return false;\n            }\n            else {\n                return true;\n            }\n        }\n        return false;\n    };\n    this.insideStart = function (row, column) {\n        if (this.compare(row, column) == 0) {\n            if (this.isEnd(row, column)) {\n                return false;\n            }\n            else {\n                return true;\n            }\n        }\n        return false;\n    };\n    this.insideEnd = function (row, column) {\n        if (this.compare(row, column) == 0) {\n            if (this.isStart(row, column)) {\n                return false;\n            }\n            else {\n                return true;\n            }\n        }\n        return false;\n    };\n    this.compare = function (row, column) {\n        if (!this.isMultiLine()) {\n            if (row === this.start.row) {\n                return column < this.start.column ? -1 : (column > this.end.column ? 1 : 0);\n            }\n        }\n        if (row < this.start.row)\n            return -1;\n        if (row > this.end.row)\n            return 1;\n        if (this.start.row === row)\n            return column >= this.start.column ? 0 : -1;\n        if (this.end.row === row)\n            return column <= this.end.column ? 0 : 1;\n        return 0;\n    };\n    this.compareStart = function (row, column) {\n        if (this.start.row == row && this.start.column == column) {\n            return -1;\n        }\n        else {\n            return this.compare(row, column);\n        }\n    };\n    this.compareEnd = function (row, column) {\n        if (this.end.row == row && this.end.column == column) {\n            return 1;\n        }\n        else {\n            return this.compare(row, column);\n        }\n    };\n    this.compareInside = function (row, column) {\n        if (this.end.row == row && this.end.column == column) {\n            return 1;\n        }\n        else if (this.start.row == row && this.start.column == column) {\n            return -1;\n        }\n        else {\n            return this.compare(row, column);\n        }\n    };\n    this.clipRows = function (firstRow, lastRow) {\n        if (this.end.row > lastRow)\n            var end = { row: lastRow + 1, column: 0 };\n        else if (this.end.row < firstRow)\n            var end = { row: firstRow, column: 0 };\n        if (this.start.row > lastRow)\n            var start = { row: lastRow + 1, column: 0 };\n        else if (this.start.row < firstRow)\n            var start = { row: firstRow, column: 0 };\n        return Range.fromPoints(start || this.start, end || this.end);\n    };\n    this.extend = function (row, column) {\n        var cmp = this.compare(row, column);\n        if (cmp == 0)\n            return this;\n        else if (cmp == -1)\n            var start = { row: row, column: column };\n        else\n            var end = { row: row, column: column };\n        return Range.fromPoints(start || this.start, end || this.end);\n    };\n    this.isEmpty = function () {\n        return (this.start.row === this.end.row && this.start.column === this.end.column);\n    };\n    this.isMultiLine = function () {\n        return (this.start.row !== this.end.row);\n    };\n    this.clone = function () {\n        return Range.fromPoints(this.start, this.end);\n    };\n    this.collapseRows = function () {\n        if (this.end.column == 0)\n            return new Range(this.start.row, 0, Math.max(this.start.row, this.end.row - 1), 0);\n        else\n            return new Range(this.start.row, 0, this.end.row, 0);\n    };\n    this.toScreenRange = function (session) {\n        var screenPosStart = session.documentToScreenPosition(this.start);\n        var screenPosEnd = session.documentToScreenPosition(this.end);\n        return new Range(screenPosStart.row, screenPosStart.column, screenPosEnd.row, screenPosEnd.column);\n    };\n    this.moveBy = function (row, column) {\n        this.start.row += row;\n        this.start.column += column;\n        this.end.row += row;\n        this.end.column += column;\n    };\n}).call(Range.prototype);\nRange.fromPoints = function (start, end) {\n    return new Range(start.row, start.column, end.row, end.column);\n};\nRange.comparePoints = comparePoints;\nRange.comparePoints = function (p1, p2) {\n    return p1.row - p2.row || p1.column - p2.column;\n};\nexports.Range = Range;\n\n});\n\nace.define(\"ace/clipboard\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nvar $cancelT;\nmodule.exports = {\n    lineMode: false,\n    pasteCancelled: function () {\n        if ($cancelT && $cancelT > Date.now() - 50)\n            return true;\n        return $cancelT = false;\n    },\n    cancel: function () {\n        $cancelT = Date.now();\n    }\n};\n\n});\n\nace.define(\"ace/keyboard/textinput\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/clipboard\",\"ace/lib/keys\"], function(require, exports, module){\"use strict\";\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar dom = require(\"../lib/dom\");\nvar lang = require(\"../lib/lang\");\nvar clipboard = require(\"../clipboard\");\nvar BROKEN_SETDATA = useragent.isChrome < 18;\nvar USE_IE_MIME_TYPE = useragent.isIE;\nvar HAS_FOCUS_ARGS = useragent.isChrome > 63;\nvar MAX_LINE_LENGTH = 400;\nvar KEYS = require(\"../lib/keys\");\nvar MODS = KEYS.KEY_MODS;\nvar isIOS = useragent.isIOS;\nvar valueResetRegex = isIOS ? /\\s/ : /\\n/;\nvar isMobile = useragent.isMobile;\nvar TextInput = function (parentNode, host) {\n    var text = dom.createElement(\"textarea\");\n    text.className = \"ace_text-input\";\n    text.setAttribute(\"wrap\", \"off\");\n    text.setAttribute(\"autocorrect\", \"off\");\n    text.setAttribute(\"autocapitalize\", \"off\");\n    text.setAttribute(\"spellcheck\", false);\n    text.style.opacity = \"0\";\n    parentNode.insertBefore(text, parentNode.firstChild);\n    var copied = false;\n    var pasted = false;\n    var inComposition = false;\n    var sendingText = false;\n    var tempStyle = '';\n    if (!isMobile)\n        text.style.fontSize = \"1px\";\n    var commandMode = false;\n    var ignoreFocusEvents = false;\n    var lastValue = \"\";\n    var lastSelectionStart = 0;\n    var lastSelectionEnd = 0;\n    var lastRestoreEnd = 0;\n    try {\n        var isFocused = document.activeElement === text;\n    }\n    catch (e) { }\n    this.setAriaOptions = function (options) {\n        if (options.activeDescendant) {\n            text.setAttribute(\"aria-haspopup\", \"true\");\n            text.setAttribute(\"aria-autocomplete\", options.inline ? \"both\" : \"list\");\n            text.setAttribute(\"aria-activedescendant\", options.activeDescendant);\n        }\n        else {\n            text.setAttribute(\"aria-haspopup\", \"false\");\n            text.setAttribute(\"aria-autocomplete\", \"both\");\n            text.removeAttribute(\"aria-activedescendant\");\n        }\n        if (options.role) {\n            text.setAttribute(\"role\", options.role);\n        }\n    };\n    this.setAriaOptions({ role: \"textbox\" });\n    event.addListener(text, \"blur\", function (e) {\n        if (ignoreFocusEvents)\n            return;\n        host.onBlur(e);\n        isFocused = false;\n    }, host);\n    event.addListener(text, \"focus\", function (e) {\n        if (ignoreFocusEvents)\n            return;\n        isFocused = true;\n        if (useragent.isEdge) {\n            try {\n                if (!document.hasFocus())\n                    return;\n            }\n            catch (e) { }\n        }\n        host.onFocus(e);\n        if (useragent.isEdge)\n            setTimeout(resetSelection);\n        else\n            resetSelection();\n    }, host);\n    this.$focusScroll = false;\n    this.focus = function () {\n        if (tempStyle || HAS_FOCUS_ARGS || this.$focusScroll == \"browser\")\n            return text.focus({ preventScroll: true });\n        var top = text.style.top;\n        text.style.position = \"fixed\";\n        text.style.top = \"0px\";\n        try {\n            var isTransformed = text.getBoundingClientRect().top != 0;\n        }\n        catch (e) {\n            return;\n        }\n        var ancestors = [];\n        if (isTransformed) {\n            var t = text.parentElement;\n            while (t && t.nodeType == 1) {\n                ancestors.push(t);\n                t.setAttribute(\"ace_nocontext\", true);\n                if (!t.parentElement && t.getRootNode)\n                    t = t.getRootNode().host;\n                else\n                    t = t.parentElement;\n            }\n        }\n        text.focus({ preventScroll: true });\n        if (isTransformed) {\n            ancestors.forEach(function (p) {\n                p.removeAttribute(\"ace_nocontext\");\n            });\n        }\n        setTimeout(function () {\n            text.style.position = \"\";\n            if (text.style.top == \"0px\")\n                text.style.top = top;\n        }, 0);\n    };\n    this.blur = function () {\n        text.blur();\n    };\n    this.isFocused = function () {\n        return isFocused;\n    };\n    host.on(\"beforeEndOperation\", function () {\n        var curOp = host.curOp;\n        var commandName = curOp && curOp.command && curOp.command.name;\n        if (commandName == \"insertstring\")\n            return;\n        var isUserAction = commandName && (curOp.docChanged || curOp.selectionChanged);\n        if (inComposition && isUserAction) {\n            lastValue = text.value = \"\";\n            onCompositionEnd();\n        }\n        resetSelection();\n    });\n    var resetSelection = isIOS\n        ? function (value) {\n            if (!isFocused || (copied && !value) || sendingText)\n                return;\n            if (!value)\n                value = \"\";\n            var newValue = \"\\n ab\" + value + \"cde fg\\n\";\n            if (newValue != text.value)\n                text.value = lastValue = newValue;\n            var selectionStart = 4;\n            var selectionEnd = 4 + (value.length || (host.selection.isEmpty() ? 0 : 1));\n            if (lastSelectionStart != selectionStart || lastSelectionEnd != selectionEnd) {\n                text.setSelectionRange(selectionStart, selectionEnd);\n            }\n            lastSelectionStart = selectionStart;\n            lastSelectionEnd = selectionEnd;\n        }\n        : function () {\n            if (inComposition || sendingText)\n                return;\n            if (!isFocused && !afterContextMenu)\n                return;\n            inComposition = true;\n            var selectionStart = 0;\n            var selectionEnd = 0;\n            var line = \"\";\n            if (host.session) {\n                var selection = host.selection;\n                var range = selection.getRange();\n                var row = selection.cursor.row;\n                selectionStart = range.start.column;\n                selectionEnd = range.end.column;\n                line = host.session.getLine(row);\n                if (range.start.row != row) {\n                    var prevLine = host.session.getLine(row - 1);\n                    selectionStart = range.start.row < row - 1 ? 0 : selectionStart;\n                    selectionEnd += prevLine.length + 1;\n                    line = prevLine + \"\\n\" + line;\n                }\n                else if (range.end.row != row) {\n                    var nextLine = host.session.getLine(row + 1);\n                    selectionEnd = range.end.row > row + 1 ? nextLine.length : selectionEnd;\n                    selectionEnd += line.length + 1;\n                    line = line + \"\\n\" + nextLine;\n                }\n                else if (isMobile && row > 0) {\n                    line = \"\\n\" + line;\n                    selectionEnd += 1;\n                    selectionStart += 1;\n                }\n                if (line.length > MAX_LINE_LENGTH) {\n                    if (selectionStart < MAX_LINE_LENGTH && selectionEnd < MAX_LINE_LENGTH) {\n                        line = line.slice(0, MAX_LINE_LENGTH);\n                    }\n                    else {\n                        line = \"\\n\";\n                        if (selectionStart == selectionEnd) {\n                            selectionStart = selectionEnd = 0;\n                        }\n                        else {\n                            selectionStart = 0;\n                            selectionEnd = 1;\n                        }\n                    }\n                }\n            }\n            var newValue = line + \"\\n\\n\";\n            if (newValue != lastValue) {\n                text.value = lastValue = newValue;\n                lastSelectionStart = lastSelectionEnd = newValue.length;\n            }\n            if (afterContextMenu) {\n                lastSelectionStart = text.selectionStart;\n                lastSelectionEnd = text.selectionEnd;\n            }\n            if (lastSelectionEnd != selectionEnd\n                || lastSelectionStart != selectionStart\n                || text.selectionEnd != lastSelectionEnd // on ie edge selectionEnd changes silently after the initialization\n            ) {\n                try {\n                    text.setSelectionRange(selectionStart, selectionEnd);\n                    lastSelectionStart = selectionStart;\n                    lastSelectionEnd = selectionEnd;\n                }\n                catch (e) { }\n            }\n            inComposition = false;\n        };\n    this.resetSelection = resetSelection;\n    if (isFocused)\n        host.onFocus();\n    var isAllSelected = function (text) {\n        return text.selectionStart === 0 && text.selectionEnd >= lastValue.length\n            && text.value === lastValue && lastValue\n            && text.selectionEnd !== lastSelectionEnd;\n    };\n    var onSelect = function (e) {\n        if (inComposition)\n            return;\n        if (copied) {\n            copied = false;\n        }\n        else if (isAllSelected(text)) {\n            host.selectAll();\n            resetSelection();\n        }\n        else if (isMobile && text.selectionStart != lastSelectionStart) {\n            resetSelection();\n        }\n    };\n    var inputHandler = null;\n    this.setInputHandler = function (cb) { inputHandler = cb; };\n    this.getInputHandler = function () { return inputHandler; };\n    var afterContextMenu = false;\n    var sendText = function (value, fromInput) {\n        if (afterContextMenu)\n            afterContextMenu = false;\n        if (pasted) {\n            resetSelection();\n            if (value)\n                host.onPaste(value);\n            pasted = false;\n            return \"\";\n        }\n        else {\n            var selectionStart = text.selectionStart;\n            var selectionEnd = text.selectionEnd;\n            var extendLeft = lastSelectionStart;\n            var extendRight = lastValue.length - lastSelectionEnd;\n            var inserted = value;\n            var restoreStart = value.length - selectionStart;\n            var restoreEnd = value.length - selectionEnd;\n            var i = 0;\n            while (extendLeft > 0 && lastValue[i] == value[i]) {\n                i++;\n                extendLeft--;\n            }\n            inserted = inserted.slice(i);\n            i = 1;\n            while (extendRight > 0 && lastValue.length - i > lastSelectionStart - 1 && lastValue[lastValue.length - i] == value[value.length - i]) {\n                i++;\n                extendRight--;\n            }\n            restoreStart -= i - 1;\n            restoreEnd -= i - 1;\n            var endIndex = inserted.length - i + 1;\n            if (endIndex < 0) {\n                extendLeft = -endIndex;\n                endIndex = 0;\n            }\n            inserted = inserted.slice(0, endIndex);\n            if (!fromInput && !inserted && !restoreStart && !extendLeft && !extendRight && !restoreEnd)\n                return \"\";\n            sendingText = true;\n            var shouldReset = false;\n            if (useragent.isAndroid && inserted == \". \") {\n                inserted = \"  \";\n                shouldReset = true;\n            }\n            if (inserted && !extendLeft && !extendRight && !restoreStart && !restoreEnd || commandMode) {\n                host.onTextInput(inserted);\n            }\n            else {\n                host.onTextInput(inserted, {\n                    extendLeft: extendLeft,\n                    extendRight: extendRight,\n                    restoreStart: restoreStart,\n                    restoreEnd: restoreEnd\n                });\n            }\n            sendingText = false;\n            lastValue = value;\n            lastSelectionStart = selectionStart;\n            lastSelectionEnd = selectionEnd;\n            lastRestoreEnd = restoreEnd;\n            return shouldReset ? \"\\n\" : inserted;\n        }\n    };\n    var onInput = function (e) {\n        if (inComposition)\n            return onCompositionUpdate();\n        if (e && e.inputType) {\n            if (e.inputType == \"historyUndo\")\n                return host.execCommand(\"undo\");\n            if (e.inputType == \"historyRedo\")\n                return host.execCommand(\"redo\");\n        }\n        var data = text.value;\n        var inserted = sendText(data, true);\n        if (data.length > MAX_LINE_LENGTH + 100\n            || valueResetRegex.test(inserted)\n            || isMobile && lastSelectionStart < 1 && lastSelectionStart == lastSelectionEnd) {\n            resetSelection();\n        }\n    };\n    var handleClipboardData = function (e, data, forceIEMime) {\n        var clipboardData = e.clipboardData || window.clipboardData;\n        if (!clipboardData || BROKEN_SETDATA)\n            return;\n        var mime = USE_IE_MIME_TYPE || forceIEMime ? \"Text\" : \"text/plain\";\n        try {\n            if (data) {\n                return clipboardData.setData(mime, data) !== false;\n            }\n            else {\n                return clipboardData.getData(mime);\n            }\n        }\n        catch (e) {\n            if (!forceIEMime)\n                return handleClipboardData(e, data, true);\n        }\n    };\n    var doCopy = function (e, isCut) {\n        var data = host.getCopyText();\n        if (!data)\n            return event.preventDefault(e);\n        if (handleClipboardData(e, data)) {\n            if (isIOS) {\n                resetSelection(data);\n                copied = data;\n                setTimeout(function () {\n                    copied = false;\n                }, 10);\n            }\n            isCut ? host.onCut() : host.onCopy();\n            event.preventDefault(e);\n        }\n        else {\n            copied = true;\n            text.value = data;\n            text.select();\n            setTimeout(function () {\n                copied = false;\n                resetSelection();\n                isCut ? host.onCut() : host.onCopy();\n            });\n        }\n    };\n    var onCut = function (e) {\n        doCopy(e, true);\n    };\n    var onCopy = function (e) {\n        doCopy(e, false);\n    };\n    var onPaste = function (e) {\n        var data = handleClipboardData(e);\n        if (clipboard.pasteCancelled())\n            return;\n        if (typeof data == \"string\") {\n            if (data)\n                host.onPaste(data, e);\n            if (useragent.isIE)\n                setTimeout(resetSelection);\n            event.preventDefault(e);\n        }\n        else {\n            text.value = \"\";\n            pasted = true;\n        }\n    };\n    event.addCommandKeyListener(text, host.onCommandKey.bind(host), host);\n    event.addListener(text, \"select\", onSelect, host);\n    event.addListener(text, \"input\", onInput, host);\n    event.addListener(text, \"cut\", onCut, host);\n    event.addListener(text, \"copy\", onCopy, host);\n    event.addListener(text, \"paste\", onPaste, host);\n    if (!('oncut' in text) || !('oncopy' in text) || !('onpaste' in text)) {\n        event.addListener(parentNode, \"keydown\", function (e) {\n            if ((useragent.isMac && !e.metaKey) || !e.ctrlKey)\n                return;\n            switch (e.keyCode) {\n                case 67:\n                    onCopy(e);\n                    break;\n                case 86:\n                    onPaste(e);\n                    break;\n                case 88:\n                    onCut(e);\n                    break;\n            }\n        }, host);\n    }\n    var onCompositionStart = function (e) {\n        if (inComposition || !host.onCompositionStart || host.$readOnly)\n            return;\n        inComposition = {};\n        if (commandMode)\n            return;\n        if (e.data)\n            inComposition.useTextareaForIME = false;\n        setTimeout(onCompositionUpdate, 0);\n        host._signal(\"compositionStart\");\n        host.on(\"mousedown\", cancelComposition);\n        var range = host.getSelectionRange();\n        range.end.row = range.start.row;\n        range.end.column = range.start.column;\n        inComposition.markerRange = range;\n        inComposition.selectionStart = lastSelectionStart;\n        host.onCompositionStart(inComposition);\n        if (inComposition.useTextareaForIME) {\n            lastValue = text.value = \"\";\n            lastSelectionStart = 0;\n            lastSelectionEnd = 0;\n        }\n        else {\n            if (text.msGetInputContext)\n                inComposition.context = text.msGetInputContext();\n            if (text.getInputContext)\n                inComposition.context = text.getInputContext();\n        }\n    };\n    var onCompositionUpdate = function () {\n        if (!inComposition || !host.onCompositionUpdate || host.$readOnly)\n            return;\n        if (commandMode)\n            return cancelComposition();\n        if (inComposition.useTextareaForIME) {\n            host.onCompositionUpdate(text.value);\n        }\n        else {\n            var data = text.value;\n            sendText(data);\n            if (inComposition.markerRange) {\n                if (inComposition.context) {\n                    inComposition.markerRange.start.column = inComposition.selectionStart\n                        = inComposition.context.compositionStartOffset;\n                }\n                inComposition.markerRange.end.column = inComposition.markerRange.start.column\n                    + lastSelectionEnd - inComposition.selectionStart + lastRestoreEnd;\n            }\n        }\n    };\n    var onCompositionEnd = function (e) {\n        if (!host.onCompositionEnd || host.$readOnly)\n            return;\n        inComposition = false;\n        host.onCompositionEnd();\n        host.off(\"mousedown\", cancelComposition);\n        if (e)\n            onInput();\n    };\n    function cancelComposition() {\n        ignoreFocusEvents = true;\n        text.blur();\n        text.focus();\n        ignoreFocusEvents = false;\n    }\n    var syncComposition = lang.delayedCall(onCompositionUpdate, 50).schedule.bind(null, null);\n    function onKeyup(e) {\n        if (e.keyCode == 27 && text.value.length < text.selectionStart) {\n            if (!inComposition)\n                lastValue = text.value;\n            lastSelectionStart = lastSelectionEnd = -1;\n            resetSelection();\n        }\n        syncComposition();\n    }\n    event.addListener(text, \"compositionstart\", onCompositionStart, host);\n    event.addListener(text, \"compositionupdate\", onCompositionUpdate, host);\n    event.addListener(text, \"keyup\", onKeyup, host);\n    event.addListener(text, \"keydown\", syncComposition, host);\n    event.addListener(text, \"compositionend\", onCompositionEnd, host);\n    this.getElement = function () {\n        return text;\n    };\n    this.setCommandMode = function (value) {\n        commandMode = value;\n        text.readOnly = false;\n    };\n    this.setReadOnly = function (readOnly) {\n        if (!commandMode)\n            text.readOnly = readOnly;\n    };\n    this.setCopyWithEmptySelection = function (value) {\n    };\n    this.onContextMenu = function (e) {\n        afterContextMenu = true;\n        resetSelection();\n        host._emit(\"nativecontextmenu\", { target: host, domEvent: e });\n        this.moveToMouse(e, true);\n    };\n    this.moveToMouse = function (e, bringToFront) {\n        if (!tempStyle)\n            tempStyle = text.style.cssText;\n        text.style.cssText = (bringToFront ? \"z-index:100000;\" : \"\")\n            + (useragent.isIE ? \"opacity:0.1;\" : \"\")\n            + \"text-indent: -\" + (lastSelectionStart + lastSelectionEnd) * host.renderer.characterWidth * 0.5 + \"px;\";\n        var rect = host.container.getBoundingClientRect();\n        var style = dom.computedStyle(host.container);\n        var top = rect.top + (parseInt(style.borderTopWidth) || 0);\n        var left = rect.left + (parseInt(rect.borderLeftWidth) || 0);\n        var maxTop = rect.bottom - top - text.clientHeight - 2;\n        var move = function (e) {\n            dom.translate(text, e.clientX - left - 2, Math.min(e.clientY - top - 2, maxTop));\n        };\n        move(e);\n        if (e.type != \"mousedown\")\n            return;\n        host.renderer.$isMousePressed = true;\n        clearTimeout(closeTimeout);\n        if (useragent.isWin)\n            event.capture(host.container, move, onContextMenuClose);\n    };\n    this.onContextMenuClose = onContextMenuClose;\n    var closeTimeout;\n    function onContextMenuClose() {\n        clearTimeout(closeTimeout);\n        closeTimeout = setTimeout(function () {\n            if (tempStyle) {\n                text.style.cssText = tempStyle;\n                tempStyle = '';\n            }\n            host.renderer.$isMousePressed = false;\n            if (host.renderer.$keepTextAreaAtCursor)\n                host.renderer.$moveTextAreaToCursor();\n        }, 0);\n    }\n    var onContextMenu = function (e) {\n        host.textInput.onContextMenu(e);\n        onContextMenuClose();\n    };\n    event.addListener(text, \"mouseup\", onContextMenu, host);\n    event.addListener(text, \"mousedown\", function (e) {\n        e.preventDefault();\n        onContextMenuClose();\n    }, host);\n    event.addListener(host.renderer.scroller, \"contextmenu\", onContextMenu, host);\n    event.addListener(text, \"contextmenu\", onContextMenu, host);\n    if (isIOS)\n        addIosSelectionHandler(parentNode, host, text);\n    function addIosSelectionHandler(parentNode, host, text) {\n        var typingResetTimeout = null;\n        var typing = false;\n        text.addEventListener(\"keydown\", function (e) {\n            if (typingResetTimeout)\n                clearTimeout(typingResetTimeout);\n            typing = true;\n        }, true);\n        text.addEventListener(\"keyup\", function (e) {\n            typingResetTimeout = setTimeout(function () {\n                typing = false;\n            }, 100);\n        }, true);\n        var detectArrowKeys = function (e) {\n            if (document.activeElement !== text)\n                return;\n            if (typing || inComposition || host.$mouseHandler.isMousePressed)\n                return;\n            if (copied) {\n                return;\n            }\n            var selectionStart = text.selectionStart;\n            var selectionEnd = text.selectionEnd;\n            var key = null;\n            var modifier = 0;\n            if (selectionStart == 0) {\n                key = KEYS.up;\n            }\n            else if (selectionStart == 1) {\n                key = KEYS.home;\n            }\n            else if (selectionEnd > lastSelectionEnd && lastValue[selectionEnd] == \"\\n\") {\n                key = KEYS.end;\n            }\n            else if (selectionStart < lastSelectionStart && lastValue[selectionStart - 1] == \" \") {\n                key = KEYS.left;\n                modifier = MODS.option;\n            }\n            else if (selectionStart < lastSelectionStart\n                || (selectionStart == lastSelectionStart\n                    && lastSelectionEnd != lastSelectionStart\n                    && selectionStart == selectionEnd)) {\n                key = KEYS.left;\n            }\n            else if (selectionEnd > lastSelectionEnd && lastValue.slice(0, selectionEnd).split(\"\\n\").length > 2) {\n                key = KEYS.down;\n            }\n            else if (selectionEnd > lastSelectionEnd && lastValue[selectionEnd - 1] == \" \") {\n                key = KEYS.right;\n                modifier = MODS.option;\n            }\n            else if (selectionEnd > lastSelectionEnd\n                || (selectionEnd == lastSelectionEnd\n                    && lastSelectionEnd != lastSelectionStart\n                    && selectionStart == selectionEnd)) {\n                key = KEYS.right;\n            }\n            if (selectionStart !== selectionEnd)\n                modifier |= MODS.shift;\n            if (key) {\n                var result = host.onCommandKey({}, modifier, key);\n                if (!result && host.commands) {\n                    key = KEYS.keyCodeToString(key);\n                    var command = host.commands.findKeyCommand(modifier, key);\n                    if (command)\n                        host.execCommand(command);\n                }\n                lastSelectionStart = selectionStart;\n                lastSelectionEnd = selectionEnd;\n                resetSelection(\"\");\n            }\n        };\n        document.addEventListener(\"selectionchange\", detectArrowKeys);\n        host.on(\"destroy\", function () {\n            document.removeEventListener(\"selectionchange\", detectArrowKeys);\n        });\n    }\n    this.destroy = function () {\n        if (text.parentElement)\n            text.parentElement.removeChild(text);\n    };\n};\nexports.TextInput = TextInput;\nexports.$setUserAgentForTests = function (_isMobile, _isIOS) {\n    isMobile = _isMobile;\n    isIOS = _isIOS;\n};\n\n});\n\nace.define(\"ace/mouse/default_handlers\",[\"require\",\"exports\",\"module\",\"ace/lib/useragent\"], function(require, exports, module){\"use strict\";\nvar useragent = require(\"../lib/useragent\");\nvar DRAG_OFFSET = 0; // pixels\nvar SCROLL_COOLDOWN_T = 550; // milliseconds\nfunction DefaultHandlers(mouseHandler) {\n    mouseHandler.$clickSelection = null;\n    var editor = mouseHandler.editor;\n    editor.setDefaultHandler(\"mousedown\", this.onMouseDown.bind(mouseHandler));\n    editor.setDefaultHandler(\"dblclick\", this.onDoubleClick.bind(mouseHandler));\n    editor.setDefaultHandler(\"tripleclick\", this.onTripleClick.bind(mouseHandler));\n    editor.setDefaultHandler(\"quadclick\", this.onQuadClick.bind(mouseHandler));\n    editor.setDefaultHandler(\"mousewheel\", this.onMouseWheel.bind(mouseHandler));\n    var exports = [\"select\", \"startSelect\", \"selectEnd\", \"selectAllEnd\", \"selectByWordsEnd\",\n        \"selectByLinesEnd\", \"dragWait\", \"dragWaitEnd\", \"focusWait\"];\n    exports.forEach(function (x) {\n        mouseHandler[x] = this[x];\n    }, this);\n    mouseHandler.selectByLines = this.extendSelectionBy.bind(mouseHandler, \"getLineRange\");\n    mouseHandler.selectByWords = this.extendSelectionBy.bind(mouseHandler, \"getWordRange\");\n}\n(function () {\n    this.onMouseDown = function (ev) {\n        var inSelection = ev.inSelection();\n        var pos = ev.getDocumentPosition();\n        this.mousedownEvent = ev;\n        var editor = this.editor;\n        var button = ev.getButton();\n        if (button !== 0) {\n            var selectionRange = editor.getSelectionRange();\n            var selectionEmpty = selectionRange.isEmpty();\n            if (selectionEmpty || button == 1)\n                editor.selection.moveToPosition(pos);\n            if (button == 2) {\n                editor.textInput.onContextMenu(ev.domEvent);\n                if (!useragent.isMozilla)\n                    ev.preventDefault();\n            }\n            return;\n        }\n        this.mousedownEvent.time = Date.now();\n        if (inSelection && !editor.isFocused()) {\n            editor.focus();\n            if (this.$focusTimeout && !this.$clickSelection && !editor.inMultiSelectMode) {\n                this.setState(\"focusWait\");\n                this.captureMouse(ev);\n                return;\n            }\n        }\n        this.captureMouse(ev);\n        this.startSelect(pos, ev.domEvent._clicks > 1);\n        return ev.preventDefault();\n    };\n    this.startSelect = function (pos, waitForClickSelection) {\n        pos = pos || this.editor.renderer.screenToTextCoordinates(this.x, this.y);\n        var editor = this.editor;\n        if (!this.mousedownEvent)\n            return;\n        if (this.mousedownEvent.getShiftKey())\n            editor.selection.selectToPosition(pos);\n        else if (!waitForClickSelection)\n            editor.selection.moveToPosition(pos);\n        if (!waitForClickSelection)\n            this.select();\n        editor.setStyle(\"ace_selecting\");\n        this.setState(\"select\");\n    };\n    this.select = function () {\n        var anchor, editor = this.editor;\n        var cursor = editor.renderer.screenToTextCoordinates(this.x, this.y);\n        if (this.$clickSelection) {\n            var cmp = this.$clickSelection.comparePoint(cursor);\n            if (cmp == -1) {\n                anchor = this.$clickSelection.end;\n            }\n            else if (cmp == 1) {\n                anchor = this.$clickSelection.start;\n            }\n            else {\n                var orientedRange = calcRangeOrientation(this.$clickSelection, cursor);\n                cursor = orientedRange.cursor;\n                anchor = orientedRange.anchor;\n            }\n            editor.selection.setSelectionAnchor(anchor.row, anchor.column);\n        }\n        editor.selection.selectToPosition(cursor);\n        editor.renderer.scrollCursorIntoView();\n    };\n    this.extendSelectionBy = function (unitName) {\n        var anchor, editor = this.editor;\n        var cursor = editor.renderer.screenToTextCoordinates(this.x, this.y);\n        var range = editor.selection[unitName](cursor.row, cursor.column);\n        if (this.$clickSelection) {\n            var cmpStart = this.$clickSelection.comparePoint(range.start);\n            var cmpEnd = this.$clickSelection.comparePoint(range.end);\n            if (cmpStart == -1 && cmpEnd <= 0) {\n                anchor = this.$clickSelection.end;\n                if (range.end.row != cursor.row || range.end.column != cursor.column)\n                    cursor = range.start;\n            }\n            else if (cmpEnd == 1 && cmpStart >= 0) {\n                anchor = this.$clickSelection.start;\n                if (range.start.row != cursor.row || range.start.column != cursor.column)\n                    cursor = range.end;\n            }\n            else if (cmpStart == -1 && cmpEnd == 1) {\n                cursor = range.end;\n                anchor = range.start;\n            }\n            else {\n                var orientedRange = calcRangeOrientation(this.$clickSelection, cursor);\n                cursor = orientedRange.cursor;\n                anchor = orientedRange.anchor;\n            }\n            editor.selection.setSelectionAnchor(anchor.row, anchor.column);\n        }\n        editor.selection.selectToPosition(cursor);\n        editor.renderer.scrollCursorIntoView();\n    };\n    this.selectEnd =\n        this.selectAllEnd =\n            this.selectByWordsEnd =\n                this.selectByLinesEnd = function () {\n                    this.$clickSelection = null;\n                    this.editor.unsetStyle(\"ace_selecting\");\n                };\n    this.focusWait = function () {\n        var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n        var time = Date.now();\n        if (distance > DRAG_OFFSET || time - this.mousedownEvent.time > this.$focusTimeout)\n            this.startSelect(this.mousedownEvent.getDocumentPosition());\n    };\n    this.onDoubleClick = function (ev) {\n        var pos = ev.getDocumentPosition();\n        var editor = this.editor;\n        var session = editor.session;\n        var range = session.getBracketRange(pos);\n        if (range) {\n            if (range.isEmpty()) {\n                range.start.column--;\n                range.end.column++;\n            }\n            this.setState(\"select\");\n        }\n        else {\n            range = editor.selection.getWordRange(pos.row, pos.column);\n            this.setState(\"selectByWords\");\n        }\n        this.$clickSelection = range;\n        this.select();\n    };\n    this.onTripleClick = function (ev) {\n        var pos = ev.getDocumentPosition();\n        var editor = this.editor;\n        this.setState(\"selectByLines\");\n        var range = editor.getSelectionRange();\n        if (range.isMultiLine() && range.contains(pos.row, pos.column)) {\n            this.$clickSelection = editor.selection.getLineRange(range.start.row);\n            this.$clickSelection.end = editor.selection.getLineRange(range.end.row).end;\n        }\n        else {\n            this.$clickSelection = editor.selection.getLineRange(pos.row);\n        }\n        this.select();\n    };\n    this.onQuadClick = function (ev) {\n        var editor = this.editor;\n        editor.selectAll();\n        this.$clickSelection = editor.getSelectionRange();\n        this.setState(\"selectAll\");\n    };\n    this.onMouseWheel = function (ev) {\n        if (ev.getAccelKey())\n            return;\n        if (ev.getShiftKey() && ev.wheelY && !ev.wheelX) {\n            ev.wheelX = ev.wheelY;\n            ev.wheelY = 0;\n        }\n        var editor = this.editor;\n        if (!this.$lastScroll)\n            this.$lastScroll = { t: 0, vx: 0, vy: 0, allowed: 0 };\n        var prevScroll = this.$lastScroll;\n        var t = ev.domEvent.timeStamp;\n        var dt = t - prevScroll.t;\n        var vx = dt ? ev.wheelX / dt : prevScroll.vx;\n        var vy = dt ? ev.wheelY / dt : prevScroll.vy;\n        if (dt < SCROLL_COOLDOWN_T) {\n            vx = (vx + prevScroll.vx) / 2;\n            vy = (vy + prevScroll.vy) / 2;\n        }\n        var direction = Math.abs(vx / vy);\n        var canScroll = false;\n        if (direction >= 1 && editor.renderer.isScrollableBy(ev.wheelX * ev.speed, 0))\n            canScroll = true;\n        if (direction <= 1 && editor.renderer.isScrollableBy(0, ev.wheelY * ev.speed))\n            canScroll = true;\n        if (canScroll) {\n            prevScroll.allowed = t;\n        }\n        else if (t - prevScroll.allowed < SCROLL_COOLDOWN_T) {\n            var isSlower = Math.abs(vx) <= 1.5 * Math.abs(prevScroll.vx)\n                && Math.abs(vy) <= 1.5 * Math.abs(prevScroll.vy);\n            if (isSlower) {\n                canScroll = true;\n                prevScroll.allowed = t;\n            }\n            else {\n                prevScroll.allowed = 0;\n            }\n        }\n        prevScroll.t = t;\n        prevScroll.vx = vx;\n        prevScroll.vy = vy;\n        if (canScroll) {\n            editor.renderer.scrollBy(ev.wheelX * ev.speed, ev.wheelY * ev.speed);\n            return ev.stop();\n        }\n    };\n}).call(DefaultHandlers.prototype);\nexports.DefaultHandlers = DefaultHandlers;\nfunction calcDistance(ax, ay, bx, by) {\n    return Math.sqrt(Math.pow(bx - ax, 2) + Math.pow(by - ay, 2));\n}\nfunction calcRangeOrientation(range, cursor) {\n    if (range.start.row == range.end.row)\n        var cmp = 2 * cursor.column - range.start.column - range.end.column;\n    else if (range.start.row == range.end.row - 1 && !range.start.column && !range.end.column)\n        var cmp = cursor.column - 4;\n    else\n        var cmp = 2 * cursor.row - range.start.row - range.end.row;\n    if (cmp < 0)\n        return { cursor: range.start, anchor: range.end };\n    else\n        return { cursor: range.end, anchor: range.start };\n}\n\n});\n\nace.define(\"ace/tooltip\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nvar CLASSNAME = \"ace_tooltip\";\nfunction Tooltip(parentNode) {\n    this.isOpen = false;\n    this.$element = null;\n    this.$parentNode = parentNode;\n}\n(function () {\n    this.$init = function () {\n        this.$element = dom.createElement(\"div\");\n        this.$element.className = CLASSNAME;\n        this.$element.style.display = \"none\";\n        this.$parentNode.appendChild(this.$element);\n        return this.$element;\n    };\n    this.getElement = function () {\n        return this.$element || this.$init();\n    };\n    this.setText = function (text) {\n        this.getElement().textContent = text;\n    };\n    this.setHtml = function (html) {\n        this.getElement().innerHTML = html;\n    };\n    this.setPosition = function (x, y) {\n        this.getElement().style.left = x + \"px\";\n        this.getElement().style.top = y + \"px\";\n    };\n    this.setClassName = function (className) {\n        dom.addCssClass(this.getElement(), className);\n    };\n    this.show = function (text, x, y) {\n        if (text != null)\n            this.setText(text);\n        if (x != null && y != null)\n            this.setPosition(x, y);\n        if (!this.isOpen) {\n            this.getElement().style.display = \"block\";\n            this.isOpen = true;\n        }\n    };\n    this.hide = function () {\n        if (this.isOpen) {\n            this.getElement().style.display = \"none\";\n            this.getElement().className = CLASSNAME;\n            this.isOpen = false;\n        }\n    };\n    this.getHeight = function () {\n        return this.getElement().offsetHeight;\n    };\n    this.getWidth = function () {\n        return this.getElement().offsetWidth;\n    };\n    this.destroy = function () {\n        this.isOpen = false;\n        if (this.$element && this.$element.parentNode) {\n            this.$element.parentNode.removeChild(this.$element);\n        }\n    };\n}).call(Tooltip.prototype);\nexports.Tooltip = Tooltip;\n\n});\n\nace.define(\"ace/mouse/default_gutter_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/oop\",\"ace/lib/event\",\"ace/tooltip\"], function(require, exports, module){\"use strict\";\nvar dom = require(\"../lib/dom\");\nvar oop = require(\"../lib/oop\");\nvar event = require(\"../lib/event\");\nvar Tooltip = require(\"../tooltip\").Tooltip;\nfunction GutterHandler(mouseHandler) {\n    var editor = mouseHandler.editor;\n    var gutter = editor.renderer.$gutterLayer;\n    var tooltip = new GutterTooltip(editor.container);\n    mouseHandler.editor.setDefaultHandler(\"guttermousedown\", function (e) {\n        if (!editor.isFocused() || e.getButton() != 0)\n            return;\n        var gutterRegion = gutter.getRegion(e);\n        if (gutterRegion == \"foldWidgets\")\n            return;\n        var row = e.getDocumentPosition().row;\n        var selection = editor.session.selection;\n        if (e.getShiftKey())\n            selection.selectTo(row, 0);\n        else {\n            if (e.domEvent.detail == 2) {\n                editor.selectAll();\n                return e.preventDefault();\n            }\n            mouseHandler.$clickSelection = editor.selection.getLineRange(row);\n        }\n        mouseHandler.setState(\"selectByLines\");\n        mouseHandler.captureMouse(e);\n        return e.preventDefault();\n    });\n    var tooltipTimeout, mouseEvent, tooltipAnnotation;\n    function showTooltip() {\n        var row = mouseEvent.getDocumentPosition().row;\n        var annotation = gutter.$annotations[row];\n        if (!annotation)\n            return hideTooltip();\n        var maxRow = editor.session.getLength();\n        if (row == maxRow) {\n            var screenRow = editor.renderer.pixelToScreenCoordinates(0, mouseEvent.y).row;\n            var pos = mouseEvent.$pos;\n            if (screenRow > editor.session.documentToScreenRow(pos.row, pos.column))\n                return hideTooltip();\n        }\n        if (tooltipAnnotation == annotation)\n            return;\n        tooltipAnnotation = annotation.text.join(\"<br/>\");\n        tooltip.setHtml(tooltipAnnotation);\n        var annotationClassName = annotation.className;\n        if (annotationClassName) {\n            tooltip.setClassName(annotationClassName.trim());\n        }\n        tooltip.show();\n        editor._signal(\"showGutterTooltip\", tooltip);\n        editor.on(\"mousewheel\", hideTooltip);\n        if (mouseHandler.$tooltipFollowsMouse) {\n            moveTooltip(mouseEvent);\n        }\n        else {\n            var gutterElement = mouseEvent.domEvent.target;\n            var rect = gutterElement.getBoundingClientRect();\n            var style = tooltip.getElement().style;\n            style.left = rect.right + \"px\";\n            style.top = rect.bottom + \"px\";\n        }\n    }\n    function hideTooltip() {\n        if (tooltipTimeout)\n            tooltipTimeout = clearTimeout(tooltipTimeout);\n        if (tooltipAnnotation) {\n            tooltip.hide();\n            tooltipAnnotation = null;\n            editor._signal(\"hideGutterTooltip\", tooltip);\n            editor.off(\"mousewheel\", hideTooltip);\n        }\n    }\n    function moveTooltip(e) {\n        tooltip.setPosition(e.x, e.y);\n    }\n    mouseHandler.editor.setDefaultHandler(\"guttermousemove\", function (e) {\n        var target = e.domEvent.target || e.domEvent.srcElement;\n        if (dom.hasCssClass(target, \"ace_fold-widget\"))\n            return hideTooltip();\n        if (tooltipAnnotation && mouseHandler.$tooltipFollowsMouse)\n            moveTooltip(e);\n        mouseEvent = e;\n        if (tooltipTimeout)\n            return;\n        tooltipTimeout = setTimeout(function () {\n            tooltipTimeout = null;\n            if (mouseEvent && !mouseHandler.isMousePressed)\n                showTooltip();\n            else\n                hideTooltip();\n        }, 50);\n    });\n    event.addListener(editor.renderer.$gutter, \"mouseout\", function (e) {\n        mouseEvent = null;\n        if (!tooltipAnnotation || tooltipTimeout)\n            return;\n        tooltipTimeout = setTimeout(function () {\n            tooltipTimeout = null;\n            hideTooltip();\n        }, 50);\n    }, editor);\n    editor.on(\"changeSession\", hideTooltip);\n}\nfunction GutterTooltip(parentNode) {\n    Tooltip.call(this, parentNode);\n}\noop.inherits(GutterTooltip, Tooltip);\n(function () {\n    this.setPosition = function (x, y) {\n        var windowWidth = window.innerWidth || document.documentElement.clientWidth;\n        var windowHeight = window.innerHeight || document.documentElement.clientHeight;\n        var width = this.getWidth();\n        var height = this.getHeight();\n        x += 15;\n        y += 15;\n        if (x + width > windowWidth) {\n            x -= (x + width) - windowWidth;\n        }\n        if (y + height > windowHeight) {\n            y -= 20 + height;\n        }\n        Tooltip.prototype.setPosition.call(this, x, y);\n    };\n}).call(GutterTooltip.prototype);\nexports.GutterHandler = GutterHandler;\n\n});\n\nace.define(\"ace/mouse/mouse_event\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\"], function(require, exports, module){\"use strict\";\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar MouseEvent = exports.MouseEvent = function (domEvent, editor) {\n    this.domEvent = domEvent;\n    this.editor = editor;\n    this.x = this.clientX = domEvent.clientX;\n    this.y = this.clientY = domEvent.clientY;\n    this.$pos = null;\n    this.$inSelection = null;\n    this.propagationStopped = false;\n    this.defaultPrevented = false;\n};\n(function () {\n    this.stopPropagation = function () {\n        event.stopPropagation(this.domEvent);\n        this.propagationStopped = true;\n    };\n    this.preventDefault = function () {\n        event.preventDefault(this.domEvent);\n        this.defaultPrevented = true;\n    };\n    this.stop = function () {\n        this.stopPropagation();\n        this.preventDefault();\n    };\n    this.getDocumentPosition = function () {\n        if (this.$pos)\n            return this.$pos;\n        this.$pos = this.editor.renderer.screenToTextCoordinates(this.clientX, this.clientY);\n        return this.$pos;\n    };\n    this.inSelection = function () {\n        if (this.$inSelection !== null)\n            return this.$inSelection;\n        var editor = this.editor;\n        var selectionRange = editor.getSelectionRange();\n        if (selectionRange.isEmpty())\n            this.$inSelection = false;\n        else {\n            var pos = this.getDocumentPosition();\n            this.$inSelection = selectionRange.contains(pos.row, pos.column);\n        }\n        return this.$inSelection;\n    };\n    this.getButton = function () {\n        return event.getButton(this.domEvent);\n    };\n    this.getShiftKey = function () {\n        return this.domEvent.shiftKey;\n    };\n    this.getAccelKey = useragent.isMac\n        ? function () { return this.domEvent.metaKey; }\n        : function () { return this.domEvent.ctrlKey; };\n}).call(MouseEvent.prototype);\n\n});\n\nace.define(\"ace/mouse/dragdrop_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/lib/useragent\"], function(require, exports, module){\"use strict\";\nvar dom = require(\"../lib/dom\");\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar AUTOSCROLL_DELAY = 200;\nvar SCROLL_CURSOR_DELAY = 200;\nvar SCROLL_CURSOR_HYSTERESIS = 5;\nfunction DragdropHandler(mouseHandler) {\n    var editor = mouseHandler.editor;\n    var dragImage = dom.createElement(\"div\");\n    dragImage.style.cssText = \"top:-100px;position:absolute;z-index:2147483647;opacity:0.5\";\n    dragImage.textContent = \"\\xa0\";\n    var exports = [\"dragWait\", \"dragWaitEnd\", \"startDrag\", \"dragReadyEnd\", \"onMouseDrag\"];\n    exports.forEach(function (x) {\n        mouseHandler[x] = this[x];\n    }, this);\n    editor.on(\"mousedown\", this.onMouseDown.bind(mouseHandler));\n    var mouseTarget = editor.container;\n    var dragSelectionMarker, x, y;\n    var timerId, range;\n    var dragCursor, counter = 0;\n    var dragOperation;\n    var isInternal;\n    var autoScrollStartTime;\n    var cursorMovedTime;\n    var cursorPointOnCaretMoved;\n    this.onDragStart = function (e) {\n        if (this.cancelDrag || !mouseTarget.draggable) {\n            var self = this;\n            setTimeout(function () {\n                self.startSelect();\n                self.captureMouse(e);\n            }, 0);\n            return e.preventDefault();\n        }\n        range = editor.getSelectionRange();\n        var dataTransfer = e.dataTransfer;\n        dataTransfer.effectAllowed = editor.getReadOnly() ? \"copy\" : \"copyMove\";\n        editor.container.appendChild(dragImage);\n        dataTransfer.setDragImage && dataTransfer.setDragImage(dragImage, 0, 0);\n        setTimeout(function () {\n            editor.container.removeChild(dragImage);\n        });\n        dataTransfer.clearData();\n        dataTransfer.setData(\"Text\", editor.session.getTextRange());\n        isInternal = true;\n        this.setState(\"drag\");\n    };\n    this.onDragEnd = function (e) {\n        mouseTarget.draggable = false;\n        isInternal = false;\n        this.setState(null);\n        if (!editor.getReadOnly()) {\n            var dropEffect = e.dataTransfer.dropEffect;\n            if (!dragOperation && dropEffect == \"move\")\n                editor.session.remove(editor.getSelectionRange());\n            editor.$resetCursorStyle();\n        }\n        this.editor.unsetStyle(\"ace_dragging\");\n        this.editor.renderer.setCursorStyle(\"\");\n    };\n    this.onDragEnter = function (e) {\n        if (editor.getReadOnly() || !canAccept(e.dataTransfer))\n            return;\n        x = e.clientX;\n        y = e.clientY;\n        if (!dragSelectionMarker)\n            addDragMarker();\n        counter++;\n        e.dataTransfer.dropEffect = dragOperation = getDropEffect(e);\n        return event.preventDefault(e);\n    };\n    this.onDragOver = function (e) {\n        if (editor.getReadOnly() || !canAccept(e.dataTransfer))\n            return;\n        x = e.clientX;\n        y = e.clientY;\n        if (!dragSelectionMarker) {\n            addDragMarker();\n            counter++;\n        }\n        if (onMouseMoveTimer !== null)\n            onMouseMoveTimer = null;\n        e.dataTransfer.dropEffect = dragOperation = getDropEffect(e);\n        return event.preventDefault(e);\n    };\n    this.onDragLeave = function (e) {\n        counter--;\n        if (counter <= 0 && dragSelectionMarker) {\n            clearDragMarker();\n            dragOperation = null;\n            return event.preventDefault(e);\n        }\n    };\n    this.onDrop = function (e) {\n        if (!dragCursor)\n            return;\n        var dataTransfer = e.dataTransfer;\n        if (isInternal) {\n            switch (dragOperation) {\n                case \"move\":\n                    if (range.contains(dragCursor.row, dragCursor.column)) {\n                        range = {\n                            start: dragCursor,\n                            end: dragCursor\n                        };\n                    }\n                    else {\n                        range = editor.moveText(range, dragCursor);\n                    }\n                    break;\n                case \"copy\":\n                    range = editor.moveText(range, dragCursor, true);\n                    break;\n            }\n        }\n        else {\n            var dropData = dataTransfer.getData('Text');\n            range = {\n                start: dragCursor,\n                end: editor.session.insert(dragCursor, dropData)\n            };\n            editor.focus();\n            dragOperation = null;\n        }\n        clearDragMarker();\n        return event.preventDefault(e);\n    };\n    event.addListener(mouseTarget, \"dragstart\", this.onDragStart.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"dragend\", this.onDragEnd.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"dragenter\", this.onDragEnter.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"dragover\", this.onDragOver.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"dragleave\", this.onDragLeave.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"drop\", this.onDrop.bind(mouseHandler), editor);\n    function scrollCursorIntoView(cursor, prevCursor) {\n        var now = Date.now();\n        var vMovement = !prevCursor || cursor.row != prevCursor.row;\n        var hMovement = !prevCursor || cursor.column != prevCursor.column;\n        if (!cursorMovedTime || vMovement || hMovement) {\n            editor.moveCursorToPosition(cursor);\n            cursorMovedTime = now;\n            cursorPointOnCaretMoved = { x: x, y: y };\n        }\n        else {\n            var distance = calcDistance(cursorPointOnCaretMoved.x, cursorPointOnCaretMoved.y, x, y);\n            if (distance > SCROLL_CURSOR_HYSTERESIS) {\n                cursorMovedTime = null;\n            }\n            else if (now - cursorMovedTime >= SCROLL_CURSOR_DELAY) {\n                editor.renderer.scrollCursorIntoView();\n                cursorMovedTime = null;\n            }\n        }\n    }\n    function autoScroll(cursor, prevCursor) {\n        var now = Date.now();\n        var lineHeight = editor.renderer.layerConfig.lineHeight;\n        var characterWidth = editor.renderer.layerConfig.characterWidth;\n        var editorRect = editor.renderer.scroller.getBoundingClientRect();\n        var offsets = {\n            x: {\n                left: x - editorRect.left,\n                right: editorRect.right - x\n            },\n            y: {\n                top: y - editorRect.top,\n                bottom: editorRect.bottom - y\n            }\n        };\n        var nearestXOffset = Math.min(offsets.x.left, offsets.x.right);\n        var nearestYOffset = Math.min(offsets.y.top, offsets.y.bottom);\n        var scrollCursor = { row: cursor.row, column: cursor.column };\n        if (nearestXOffset / characterWidth <= 2) {\n            scrollCursor.column += (offsets.x.left < offsets.x.right ? -3 : +2);\n        }\n        if (nearestYOffset / lineHeight <= 1) {\n            scrollCursor.row += (offsets.y.top < offsets.y.bottom ? -1 : +1);\n        }\n        var vScroll = cursor.row != scrollCursor.row;\n        var hScroll = cursor.column != scrollCursor.column;\n        var vMovement = !prevCursor || cursor.row != prevCursor.row;\n        if (vScroll || (hScroll && !vMovement)) {\n            if (!autoScrollStartTime)\n                autoScrollStartTime = now;\n            else if (now - autoScrollStartTime >= AUTOSCROLL_DELAY)\n                editor.renderer.scrollCursorIntoView(scrollCursor);\n        }\n        else {\n            autoScrollStartTime = null;\n        }\n    }\n    function onDragInterval() {\n        var prevCursor = dragCursor;\n        dragCursor = editor.renderer.screenToTextCoordinates(x, y);\n        scrollCursorIntoView(dragCursor, prevCursor);\n        autoScroll(dragCursor, prevCursor);\n    }\n    function addDragMarker() {\n        range = editor.selection.toOrientedRange();\n        dragSelectionMarker = editor.session.addMarker(range, \"ace_selection\", editor.getSelectionStyle());\n        editor.clearSelection();\n        if (editor.isFocused())\n            editor.renderer.$cursorLayer.setBlinking(false);\n        clearInterval(timerId);\n        onDragInterval();\n        timerId = setInterval(onDragInterval, 20);\n        counter = 0;\n        event.addListener(document, \"mousemove\", onMouseMove);\n    }\n    function clearDragMarker() {\n        clearInterval(timerId);\n        editor.session.removeMarker(dragSelectionMarker);\n        dragSelectionMarker = null;\n        editor.selection.fromOrientedRange(range);\n        if (editor.isFocused() && !isInternal)\n            editor.$resetCursorStyle();\n        range = null;\n        dragCursor = null;\n        counter = 0;\n        autoScrollStartTime = null;\n        cursorMovedTime = null;\n        event.removeListener(document, \"mousemove\", onMouseMove);\n    }\n    var onMouseMoveTimer = null;\n    function onMouseMove() {\n        if (onMouseMoveTimer == null) {\n            onMouseMoveTimer = setTimeout(function () {\n                if (onMouseMoveTimer != null && dragSelectionMarker)\n                    clearDragMarker();\n            }, 20);\n        }\n    }\n    function canAccept(dataTransfer) {\n        var types = dataTransfer.types;\n        return !types || Array.prototype.some.call(types, function (type) {\n            return type == 'text/plain' || type == 'Text';\n        });\n    }\n    function getDropEffect(e) {\n        var copyAllowed = ['copy', 'copymove', 'all', 'uninitialized'];\n        var moveAllowed = ['move', 'copymove', 'linkmove', 'all', 'uninitialized'];\n        var copyModifierState = useragent.isMac ? e.altKey : e.ctrlKey;\n        var effectAllowed = \"uninitialized\";\n        try {\n            effectAllowed = e.dataTransfer.effectAllowed.toLowerCase();\n        }\n        catch (e) { }\n        var dropEffect = \"none\";\n        if (copyModifierState && copyAllowed.indexOf(effectAllowed) >= 0)\n            dropEffect = \"copy\";\n        else if (moveAllowed.indexOf(effectAllowed) >= 0)\n            dropEffect = \"move\";\n        else if (copyAllowed.indexOf(effectAllowed) >= 0)\n            dropEffect = \"copy\";\n        return dropEffect;\n    }\n}\n(function () {\n    this.dragWait = function () {\n        var interval = Date.now() - this.mousedownEvent.time;\n        if (interval > this.editor.getDragDelay())\n            this.startDrag();\n    };\n    this.dragWaitEnd = function () {\n        var target = this.editor.container;\n        target.draggable = false;\n        this.startSelect(this.mousedownEvent.getDocumentPosition());\n        this.selectEnd();\n    };\n    this.dragReadyEnd = function (e) {\n        this.editor.$resetCursorStyle();\n        this.editor.unsetStyle(\"ace_dragging\");\n        this.editor.renderer.setCursorStyle(\"\");\n        this.dragWaitEnd();\n    };\n    this.startDrag = function () {\n        this.cancelDrag = false;\n        var editor = this.editor;\n        var target = editor.container;\n        target.draggable = true;\n        editor.renderer.$cursorLayer.setBlinking(false);\n        editor.setStyle(\"ace_dragging\");\n        var cursorStyle = useragent.isWin ? \"default\" : \"move\";\n        editor.renderer.setCursorStyle(cursorStyle);\n        this.setState(\"dragReady\");\n    };\n    this.onMouseDrag = function (e) {\n        var target = this.editor.container;\n        if (useragent.isIE && this.state == \"dragReady\") {\n            var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n            if (distance > 3)\n                target.dragDrop();\n        }\n        if (this.state === \"dragWait\") {\n            var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n            if (distance > 0) {\n                target.draggable = false;\n                this.startSelect(this.mousedownEvent.getDocumentPosition());\n            }\n        }\n    };\n    this.onMouseDown = function (e) {\n        if (!this.$dragEnabled)\n            return;\n        this.mousedownEvent = e;\n        var editor = this.editor;\n        var inSelection = e.inSelection();\n        var button = e.getButton();\n        var clickCount = e.domEvent.detail || 1;\n        if (clickCount === 1 && button === 0 && inSelection) {\n            if (e.editor.inMultiSelectMode && (e.getAccelKey() || e.getShiftKey()))\n                return;\n            this.mousedownEvent.time = Date.now();\n            var eventTarget = e.domEvent.target || e.domEvent.srcElement;\n            if (\"unselectable\" in eventTarget)\n                eventTarget.unselectable = \"on\";\n            if (editor.getDragDelay()) {\n                if (useragent.isWebKit) {\n                    this.cancelDrag = true;\n                    var mouseTarget = editor.container;\n                    mouseTarget.draggable = true;\n                }\n                this.setState(\"dragWait\");\n            }\n            else {\n                this.startDrag();\n            }\n            this.captureMouse(e, this.onMouseDrag.bind(this));\n            e.defaultPrevented = true;\n        }\n    };\n}).call(DragdropHandler.prototype);\nfunction calcDistance(ax, ay, bx, by) {\n    return Math.sqrt(Math.pow(bx - ax, 2) + Math.pow(by - ay, 2));\n}\nexports.DragdropHandler = DragdropHandler;\n\n});\n\nace.define(\"ace/mouse/touch_handler\",[\"require\",\"exports\",\"module\",\"ace/mouse/mouse_event\",\"ace/lib/event\",\"ace/lib/dom\"], function(require, exports, module){\"use strict\";\nvar MouseEvent = require(\"./mouse_event\").MouseEvent;\nvar event = require(\"../lib/event\");\nvar dom = require(\"../lib/dom\");\nexports.addTouchListeners = function (el, editor) {\n    var mode = \"scroll\";\n    var startX;\n    var startY;\n    var touchStartT;\n    var lastT;\n    var longTouchTimer;\n    var animationTimer;\n    var animationSteps = 0;\n    var pos;\n    var clickCount = 0;\n    var vX = 0;\n    var vY = 0;\n    var pressed;\n    var contextMenu;\n    function createContextMenu() {\n        var clipboard = window.navigator && window.navigator.clipboard;\n        var isOpen = false;\n        var updateMenu = function () {\n            var selected = editor.getCopyText();\n            var hasUndo = editor.session.getUndoManager().hasUndo();\n            contextMenu.replaceChild(dom.buildDom(isOpen ? [\"span\",\n                !selected && [\"span\", { class: \"ace_mobile-button\", action: \"selectall\" }, \"Select All\"],\n                selected && [\"span\", { class: \"ace_mobile-button\", action: \"copy\" }, \"Copy\"],\n                selected && [\"span\", { class: \"ace_mobile-button\", action: \"cut\" }, \"Cut\"],\n                clipboard && [\"span\", { class: \"ace_mobile-button\", action: \"paste\" }, \"Paste\"],\n                hasUndo && [\"span\", { class: \"ace_mobile-button\", action: \"undo\" }, \"Undo\"],\n                [\"span\", { class: \"ace_mobile-button\", action: \"find\" }, \"Find\"],\n                [\"span\", { class: \"ace_mobile-button\", action: \"openCommandPallete\" }, \"Palette\"]\n            ] : [\"span\"]), contextMenu.firstChild);\n        };\n        var handleClick = function (e) {\n            var action = e.target.getAttribute(\"action\");\n            if (action == \"more\" || !isOpen) {\n                isOpen = !isOpen;\n                return updateMenu();\n            }\n            if (action == \"paste\") {\n                clipboard.readText().then(function (text) {\n                    editor.execCommand(action, text);\n                });\n            }\n            else if (action) {\n                if (action == \"cut\" || action == \"copy\") {\n                    if (clipboard)\n                        clipboard.writeText(editor.getCopyText());\n                    else\n                        document.execCommand(\"copy\");\n                }\n                editor.execCommand(action);\n            }\n            contextMenu.firstChild.style.display = \"none\";\n            isOpen = false;\n            if (action != \"openCommandPallete\")\n                editor.focus();\n        };\n        contextMenu = dom.buildDom([\"div\",\n            {\n                class: \"ace_mobile-menu\",\n                ontouchstart: function (e) {\n                    mode = \"menu\";\n                    e.stopPropagation();\n                    e.preventDefault();\n                    editor.textInput.focus();\n                },\n                ontouchend: function (e) {\n                    e.stopPropagation();\n                    e.preventDefault();\n                    handleClick(e);\n                },\n                onclick: handleClick\n            },\n            [\"span\"],\n            [\"span\", { class: \"ace_mobile-button\", action: \"more\" }, \"...\"]\n        ], editor.container);\n    }\n    function showContextMenu() {\n        if (!contextMenu)\n            createContextMenu();\n        var cursor = editor.selection.cursor;\n        var pagePos = editor.renderer.textToScreenCoordinates(cursor.row, cursor.column);\n        var leftOffset = editor.renderer.textToScreenCoordinates(0, 0).pageX;\n        var scrollLeft = editor.renderer.scrollLeft;\n        var rect = editor.container.getBoundingClientRect();\n        contextMenu.style.top = pagePos.pageY - rect.top - 3 + \"px\";\n        if (pagePos.pageX - rect.left < rect.width - 70) {\n            contextMenu.style.left = \"\";\n            contextMenu.style.right = \"10px\";\n        }\n        else {\n            contextMenu.style.right = \"\";\n            contextMenu.style.left = leftOffset + scrollLeft - rect.left + \"px\";\n        }\n        contextMenu.style.display = \"\";\n        contextMenu.firstChild.style.display = \"none\";\n        editor.on(\"input\", hideContextMenu);\n    }\n    function hideContextMenu(e) {\n        if (contextMenu)\n            contextMenu.style.display = \"none\";\n        editor.off(\"input\", hideContextMenu);\n    }\n    function handleLongTap() {\n        longTouchTimer = null;\n        clearTimeout(longTouchTimer);\n        var range = editor.selection.getRange();\n        var inSelection = range.contains(pos.row, pos.column);\n        if (range.isEmpty() || !inSelection) {\n            editor.selection.moveToPosition(pos);\n            editor.selection.selectWord();\n        }\n        mode = \"wait\";\n        showContextMenu();\n    }\n    function switchToSelectionMode() {\n        longTouchTimer = null;\n        clearTimeout(longTouchTimer);\n        editor.selection.moveToPosition(pos);\n        var range = clickCount >= 2\n            ? editor.selection.getLineRange(pos.row)\n            : editor.session.getBracketRange(pos);\n        if (range && !range.isEmpty()) {\n            editor.selection.setRange(range);\n        }\n        else {\n            editor.selection.selectWord();\n        }\n        mode = \"wait\";\n    }\n    event.addListener(el, \"contextmenu\", function (e) {\n        if (!pressed)\n            return;\n        var textarea = editor.textInput.getElement();\n        textarea.focus();\n    }, editor);\n    event.addListener(el, \"touchstart\", function (e) {\n        var touches = e.touches;\n        if (longTouchTimer || touches.length > 1) {\n            clearTimeout(longTouchTimer);\n            longTouchTimer = null;\n            touchStartT = -1;\n            mode = \"zoom\";\n            return;\n        }\n        pressed = editor.$mouseHandler.isMousePressed = true;\n        var h = editor.renderer.layerConfig.lineHeight;\n        var w = editor.renderer.layerConfig.lineHeight;\n        var t = e.timeStamp;\n        lastT = t;\n        var touchObj = touches[0];\n        var x = touchObj.clientX;\n        var y = touchObj.clientY;\n        if (Math.abs(startX - x) + Math.abs(startY - y) > h)\n            touchStartT = -1;\n        startX = e.clientX = x;\n        startY = e.clientY = y;\n        vX = vY = 0;\n        var ev = new MouseEvent(e, editor);\n        pos = ev.getDocumentPosition();\n        if (t - touchStartT < 500 && touches.length == 1 && !animationSteps) {\n            clickCount++;\n            e.preventDefault();\n            e.button = 0;\n            switchToSelectionMode();\n        }\n        else {\n            clickCount = 0;\n            var cursor = editor.selection.cursor;\n            var anchor = editor.selection.isEmpty() ? cursor : editor.selection.anchor;\n            var cursorPos = editor.renderer.$cursorLayer.getPixelPosition(cursor, true);\n            var anchorPos = editor.renderer.$cursorLayer.getPixelPosition(anchor, true);\n            var rect = editor.renderer.scroller.getBoundingClientRect();\n            var offsetTop = editor.renderer.layerConfig.offset;\n            var offsetLeft = editor.renderer.scrollLeft;\n            var weightedDistance = function (x, y) {\n                x = x / w;\n                y = y / h - 0.75;\n                return x * x + y * y;\n            };\n            if (e.clientX < rect.left) {\n                mode = \"zoom\";\n                return;\n            }\n            var diff1 = weightedDistance(e.clientX - rect.left - cursorPos.left + offsetLeft, e.clientY - rect.top - cursorPos.top + offsetTop);\n            var diff2 = weightedDistance(e.clientX - rect.left - anchorPos.left + offsetLeft, e.clientY - rect.top - anchorPos.top + offsetTop);\n            if (diff1 < 3.5 && diff2 < 3.5)\n                mode = diff1 > diff2 ? \"cursor\" : \"anchor\";\n            if (diff2 < 3.5)\n                mode = \"anchor\";\n            else if (diff1 < 3.5)\n                mode = \"cursor\";\n            else\n                mode = \"scroll\";\n            longTouchTimer = setTimeout(handleLongTap, 450);\n        }\n        touchStartT = t;\n    }, editor);\n    event.addListener(el, \"touchend\", function (e) {\n        pressed = editor.$mouseHandler.isMousePressed = false;\n        if (animationTimer)\n            clearInterval(animationTimer);\n        if (mode == \"zoom\") {\n            mode = \"\";\n            animationSteps = 0;\n        }\n        else if (longTouchTimer) {\n            editor.selection.moveToPosition(pos);\n            animationSteps = 0;\n            showContextMenu();\n        }\n        else if (mode == \"scroll\") {\n            animate();\n            hideContextMenu();\n        }\n        else {\n            showContextMenu();\n        }\n        clearTimeout(longTouchTimer);\n        longTouchTimer = null;\n    }, editor);\n    event.addListener(el, \"touchmove\", function (e) {\n        if (longTouchTimer) {\n            clearTimeout(longTouchTimer);\n            longTouchTimer = null;\n        }\n        var touches = e.touches;\n        if (touches.length > 1 || mode == \"zoom\")\n            return;\n        var touchObj = touches[0];\n        var wheelX = startX - touchObj.clientX;\n        var wheelY = startY - touchObj.clientY;\n        if (mode == \"wait\") {\n            if (wheelX * wheelX + wheelY * wheelY > 4)\n                mode = \"cursor\";\n            else\n                return e.preventDefault();\n        }\n        startX = touchObj.clientX;\n        startY = touchObj.clientY;\n        e.clientX = touchObj.clientX;\n        e.clientY = touchObj.clientY;\n        var t = e.timeStamp;\n        var dt = t - lastT;\n        lastT = t;\n        if (mode == \"scroll\") {\n            var mouseEvent = new MouseEvent(e, editor);\n            mouseEvent.speed = 1;\n            mouseEvent.wheelX = wheelX;\n            mouseEvent.wheelY = wheelY;\n            if (10 * Math.abs(wheelX) < Math.abs(wheelY))\n                wheelX = 0;\n            if (10 * Math.abs(wheelY) < Math.abs(wheelX))\n                wheelY = 0;\n            if (dt != 0) {\n                vX = wheelX / dt;\n                vY = wheelY / dt;\n            }\n            editor._emit(\"mousewheel\", mouseEvent);\n            if (!mouseEvent.propagationStopped) {\n                vX = vY = 0;\n            }\n        }\n        else {\n            var ev = new MouseEvent(e, editor);\n            var pos = ev.getDocumentPosition();\n            if (mode == \"cursor\")\n                editor.selection.moveCursorToPosition(pos);\n            else if (mode == \"anchor\")\n                editor.selection.setSelectionAnchor(pos.row, pos.column);\n            editor.renderer.scrollCursorIntoView(pos);\n            e.preventDefault();\n        }\n    }, editor);\n    function animate() {\n        animationSteps += 60;\n        animationTimer = setInterval(function () {\n            if (animationSteps-- <= 0) {\n                clearInterval(animationTimer);\n                animationTimer = null;\n            }\n            if (Math.abs(vX) < 0.01)\n                vX = 0;\n            if (Math.abs(vY) < 0.01)\n                vY = 0;\n            if (animationSteps < 20)\n                vX = 0.9 * vX;\n            if (animationSteps < 20)\n                vY = 0.9 * vY;\n            var oldScrollTop = editor.session.getScrollTop();\n            editor.renderer.scrollBy(10 * vX, 10 * vY);\n            if (oldScrollTop == editor.session.getScrollTop())\n                animationSteps = 0;\n        }, 10);\n    }\n};\n\n});\n\nace.define(\"ace/mouse/mouse_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\",\"ace/mouse/default_handlers\",\"ace/mouse/default_gutter_handler\",\"ace/mouse/mouse_event\",\"ace/mouse/dragdrop_handler\",\"ace/mouse/touch_handler\",\"ace/config\"], function(require, exports, module){\"use strict\";\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar DefaultHandlers = require(\"./default_handlers\").DefaultHandlers;\nvar DefaultGutterHandler = require(\"./default_gutter_handler\").GutterHandler;\nvar MouseEvent = require(\"./mouse_event\").MouseEvent;\nvar DragdropHandler = require(\"./dragdrop_handler\").DragdropHandler;\nvar addTouchListeners = require(\"./touch_handler\").addTouchListeners;\nvar config = require(\"../config\");\nvar MouseHandler = function (editor) {\n    var _self = this;\n    this.editor = editor;\n    new DefaultHandlers(this);\n    new DefaultGutterHandler(this);\n    new DragdropHandler(this);\n    var focusEditor = function (e) {\n        var windowBlurred = !document.hasFocus || !document.hasFocus()\n            || !editor.isFocused() && document.activeElement == (editor.textInput && editor.textInput.getElement());\n        if (windowBlurred)\n            window.focus();\n        editor.focus();\n        setTimeout(function () {\n            if (!editor.isFocused())\n                editor.focus();\n        });\n    };\n    var mouseTarget = editor.renderer.getMouseEventTarget();\n    event.addListener(mouseTarget, \"click\", this.onMouseEvent.bind(this, \"click\"), editor);\n    event.addListener(mouseTarget, \"mousemove\", this.onMouseMove.bind(this, \"mousemove\"), editor);\n    event.addMultiMouseDownListener([\n        mouseTarget,\n        editor.renderer.scrollBarV && editor.renderer.scrollBarV.inner,\n        editor.renderer.scrollBarH && editor.renderer.scrollBarH.inner,\n        editor.textInput && editor.textInput.getElement()\n    ].filter(Boolean), [400, 300, 250], this, \"onMouseEvent\", editor);\n    event.addMouseWheelListener(editor.container, this.onMouseWheel.bind(this, \"mousewheel\"), editor);\n    addTouchListeners(editor.container, editor);\n    var gutterEl = editor.renderer.$gutter;\n    event.addListener(gutterEl, \"mousedown\", this.onMouseEvent.bind(this, \"guttermousedown\"), editor);\n    event.addListener(gutterEl, \"click\", this.onMouseEvent.bind(this, \"gutterclick\"), editor);\n    event.addListener(gutterEl, \"dblclick\", this.onMouseEvent.bind(this, \"gutterdblclick\"), editor);\n    event.addListener(gutterEl, \"mousemove\", this.onMouseEvent.bind(this, \"guttermousemove\"), editor);\n    event.addListener(mouseTarget, \"mousedown\", focusEditor, editor);\n    event.addListener(gutterEl, \"mousedown\", focusEditor, editor);\n    if (useragent.isIE && editor.renderer.scrollBarV) {\n        event.addListener(editor.renderer.scrollBarV.element, \"mousedown\", focusEditor, editor);\n        event.addListener(editor.renderer.scrollBarH.element, \"mousedown\", focusEditor, editor);\n    }\n    editor.on(\"mousemove\", function (e) {\n        if (_self.state || _self.$dragDelay || !_self.$dragEnabled)\n            return;\n        var character = editor.renderer.screenToTextCoordinates(e.x, e.y);\n        var range = editor.session.selection.getRange();\n        var renderer = editor.renderer;\n        if (!range.isEmpty() && range.insideStart(character.row, character.column)) {\n            renderer.setCursorStyle(\"default\");\n        }\n        else {\n            renderer.setCursorStyle(\"\");\n        }\n    }, editor);\n};\n(function () {\n    this.onMouseEvent = function (name, e) {\n        if (!this.editor.session)\n            return;\n        this.editor._emit(name, new MouseEvent(e, this.editor));\n    };\n    this.onMouseMove = function (name, e) {\n        var listeners = this.editor._eventRegistry && this.editor._eventRegistry.mousemove;\n        if (!listeners || !listeners.length)\n            return;\n        this.editor._emit(name, new MouseEvent(e, this.editor));\n    };\n    this.onMouseWheel = function (name, e) {\n        var mouseEvent = new MouseEvent(e, this.editor);\n        mouseEvent.speed = this.$scrollSpeed * 2;\n        mouseEvent.wheelX = e.wheelX;\n        mouseEvent.wheelY = e.wheelY;\n        this.editor._emit(name, mouseEvent);\n    };\n    this.setState = function (state) {\n        this.state = state;\n    };\n    this.captureMouse = function (ev, mouseMoveHandler) {\n        this.x = ev.x;\n        this.y = ev.y;\n        this.isMousePressed = true;\n        var editor = this.editor;\n        var renderer = this.editor.renderer;\n        renderer.$isMousePressed = true;\n        var self = this;\n        var onMouseMove = function (e) {\n            if (!e)\n                return;\n            if (useragent.isWebKit && !e.which && self.releaseMouse)\n                return self.releaseMouse();\n            self.x = e.clientX;\n            self.y = e.clientY;\n            mouseMoveHandler && mouseMoveHandler(e);\n            self.mouseEvent = new MouseEvent(e, self.editor);\n            self.$mouseMoved = true;\n        };\n        var onCaptureEnd = function (e) {\n            editor.off(\"beforeEndOperation\", onOperationEnd);\n            clearInterval(timerId);\n            if (editor.session)\n                onCaptureInterval();\n            self[self.state + \"End\"] && self[self.state + \"End\"](e);\n            self.state = \"\";\n            self.isMousePressed = renderer.$isMousePressed = false;\n            if (renderer.$keepTextAreaAtCursor)\n                renderer.$moveTextAreaToCursor();\n            self.$onCaptureMouseMove = self.releaseMouse = null;\n            e && self.onMouseEvent(\"mouseup\", e);\n            editor.endOperation();\n        };\n        var onCaptureInterval = function () {\n            self[self.state] && self[self.state]();\n            self.$mouseMoved = false;\n        };\n        if (useragent.isOldIE && ev.domEvent.type == \"dblclick\") {\n            return setTimeout(function () { onCaptureEnd(ev); });\n        }\n        var onOperationEnd = function (e) {\n            if (!self.releaseMouse)\n                return;\n            if (editor.curOp.command.name && editor.curOp.selectionChanged) {\n                self[self.state + \"End\"] && self[self.state + \"End\"]();\n                self.state = \"\";\n                self.releaseMouse();\n            }\n        };\n        editor.on(\"beforeEndOperation\", onOperationEnd);\n        editor.startOperation({ command: { name: \"mouse\" } });\n        self.$onCaptureMouseMove = onMouseMove;\n        self.releaseMouse = event.capture(this.editor.container, onMouseMove, onCaptureEnd);\n        var timerId = setInterval(onCaptureInterval, 20);\n    };\n    this.releaseMouse = null;\n    this.cancelContextMenu = function () {\n        var stop = function (e) {\n            if (e && e.domEvent && e.domEvent.type != \"contextmenu\")\n                return;\n            this.editor.off(\"nativecontextmenu\", stop);\n            if (e && e.domEvent)\n                event.stopEvent(e.domEvent);\n        }.bind(this);\n        setTimeout(stop, 10);\n        this.editor.on(\"nativecontextmenu\", stop);\n    };\n    this.destroy = function () {\n        if (this.releaseMouse)\n            this.releaseMouse();\n    };\n}).call(MouseHandler.prototype);\nconfig.defineOptions(MouseHandler.prototype, \"mouseHandler\", {\n    scrollSpeed: { initialValue: 2 },\n    dragDelay: { initialValue: (useragent.isMac ? 150 : 0) },\n    dragEnabled: { initialValue: true },\n    focusTimeout: { initialValue: 0 },\n    tooltipFollowsMouse: { initialValue: true }\n});\nexports.MouseHandler = MouseHandler;\n\n});\n\nace.define(\"ace/mouse/fold_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module){\"use strict\";\nvar dom = require(\"../lib/dom\");\nfunction FoldHandler(editor) {\n    editor.on(\"click\", function (e) {\n        var position = e.getDocumentPosition();\n        var session = editor.session;\n        var fold = session.getFoldAt(position.row, position.column, 1);\n        if (fold) {\n            if (e.getAccelKey())\n                session.removeFold(fold);\n            else\n                session.expandFold(fold);\n            e.stop();\n        }\n        var target = e.domEvent && e.domEvent.target;\n        if (target && dom.hasCssClass(target, \"ace_inline_button\")) {\n            if (dom.hasCssClass(target, \"ace_toggle_wrap\")) {\n                session.setOption(\"wrap\", !session.getUseWrapMode());\n                editor.renderer.scrollCursorIntoView();\n            }\n        }\n    });\n    editor.on(\"gutterclick\", function (e) {\n        var gutterRegion = editor.renderer.$gutterLayer.getRegion(e);\n        if (gutterRegion == \"foldWidgets\") {\n            var row = e.getDocumentPosition().row;\n            var session = editor.session;\n            if (session.foldWidgets && session.foldWidgets[row])\n                editor.session.onFoldWidgetClick(row, e);\n            if (!editor.isFocused())\n                editor.focus();\n            e.stop();\n        }\n    });\n    editor.on(\"gutterdblclick\", function (e) {\n        var gutterRegion = editor.renderer.$gutterLayer.getRegion(e);\n        if (gutterRegion == \"foldWidgets\") {\n            var row = e.getDocumentPosition().row;\n            var session = editor.session;\n            var data = session.getParentFoldRangeData(row, true);\n            var range = data.range || data.firstRange;\n            if (range) {\n                row = range.start.row;\n                var fold = session.getFoldAt(row, session.getLine(row).length, 1);\n                if (fold) {\n                    session.removeFold(fold);\n                }\n                else {\n                    session.addFold(\"...\", range);\n                    editor.renderer.scrollCursorIntoView({ row: range.start.row, column: 0 });\n                }\n            }\n            e.stop();\n        }\n    });\n}\nexports.FoldHandler = FoldHandler;\n\n});\n\nace.define(\"ace/keyboard/keybinding\",[\"require\",\"exports\",\"module\",\"ace/lib/keys\",\"ace/lib/event\"], function(require, exports, module){\"use strict\";\nvar keyUtil = require(\"../lib/keys\");\nvar event = require(\"../lib/event\");\nvar KeyBinding = function (editor) {\n    this.$editor = editor;\n    this.$data = { editor: editor };\n    this.$handlers = [];\n    this.setDefaultHandler(editor.commands);\n};\n(function () {\n    this.setDefaultHandler = function (kb) {\n        this.removeKeyboardHandler(this.$defaultHandler);\n        this.$defaultHandler = kb;\n        this.addKeyboardHandler(kb, 0);\n    };\n    this.setKeyboardHandler = function (kb) {\n        var h = this.$handlers;\n        if (h[h.length - 1] == kb)\n            return;\n        while (h[h.length - 1] && h[h.length - 1] != this.$defaultHandler)\n            this.removeKeyboardHandler(h[h.length - 1]);\n        this.addKeyboardHandler(kb, 1);\n    };\n    this.addKeyboardHandler = function (kb, pos) {\n        if (!kb)\n            return;\n        if (typeof kb == \"function\" && !kb.handleKeyboard)\n            kb.handleKeyboard = kb;\n        var i = this.$handlers.indexOf(kb);\n        if (i != -1)\n            this.$handlers.splice(i, 1);\n        if (pos == undefined)\n            this.$handlers.push(kb);\n        else\n            this.$handlers.splice(pos, 0, kb);\n        if (i == -1 && kb.attach)\n            kb.attach(this.$editor);\n    };\n    this.removeKeyboardHandler = function (kb) {\n        var i = this.$handlers.indexOf(kb);\n        if (i == -1)\n            return false;\n        this.$handlers.splice(i, 1);\n        kb.detach && kb.detach(this.$editor);\n        return true;\n    };\n    this.getKeyboardHandler = function () {\n        return this.$handlers[this.$handlers.length - 1];\n    };\n    this.getStatusText = function () {\n        var data = this.$data;\n        var editor = data.editor;\n        return this.$handlers.map(function (h) {\n            return h.getStatusText && h.getStatusText(editor, data) || \"\";\n        }).filter(Boolean).join(\" \");\n    };\n    this.$callKeyboardHandlers = function (hashId, keyString, keyCode, e) {\n        var toExecute;\n        var success = false;\n        var commands = this.$editor.commands;\n        for (var i = this.$handlers.length; i--;) {\n            toExecute = this.$handlers[i].handleKeyboard(this.$data, hashId, keyString, keyCode, e);\n            if (!toExecute || !toExecute.command)\n                continue;\n            if (toExecute.command == \"null\") {\n                success = true;\n            }\n            else {\n                success = commands.exec(toExecute.command, this.$editor, toExecute.args, e);\n            }\n            if (success && e && hashId != -1 &&\n                toExecute.passEvent != true && toExecute.command.passEvent != true) {\n                event.stopEvent(e);\n            }\n            if (success)\n                break;\n        }\n        if (!success && hashId == -1) {\n            toExecute = { command: \"insertstring\" };\n            success = commands.exec(\"insertstring\", this.$editor, keyString);\n        }\n        if (success && this.$editor._signal)\n            this.$editor._signal(\"keyboardActivity\", toExecute);\n        return success;\n    };\n    this.onCommandKey = function (e, hashId, keyCode) {\n        var keyString = keyUtil.keyCodeToString(keyCode);\n        return this.$callKeyboardHandlers(hashId, keyString, keyCode, e);\n    };\n    this.onTextInput = function (text) {\n        return this.$callKeyboardHandlers(-1, text);\n    };\n}).call(KeyBinding.prototype);\nexports.KeyBinding = KeyBinding;\n\n});\n\nace.define(\"ace/lib/bidiutil\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nvar ArabicAlefBetIntervalsBegine = ['\\u0621', '\\u0641'];\nvar ArabicAlefBetIntervalsEnd = ['\\u063A', '\\u064a'];\nvar dir = 0, hiLevel = 0;\nvar lastArabic = false, hasUBAT_AL = false, hasUBAT_B = false, hasUBAT_S = false, hasBlockSep = false, hasSegSep = false;\nvar impTab_LTR = [ [0, 3, 0, 1, 0, 0, 0], [0, 3, 0, 1, 2, 2, 0], [0, 3, 0, 0x11, 2, 0, 1], [0, 3, 5, 5, 4, 1, 0], [0, 3, 0x15, 0x15, 4, 0, 1], [0, 3, 5, 5, 4, 2, 0]\n];\nvar impTab_RTL = [ [2, 0, 1, 1, 0, 1, 0], [2, 0, 1, 1, 0, 2, 0], [2, 0, 2, 1, 3, 2, 0], [2, 0, 2, 0x21, 3, 1, 1]\n];\nvar LTR = 0, RTL = 1;\nvar L = 0;\nvar R = 1;\nvar EN = 2;\nvar AN = 3;\nvar ON = 4;\nvar B = 5;\nvar S = 6;\nvar AL = 7;\nvar WS = 8;\nvar CS = 9;\nvar ES = 10;\nvar ET = 11;\nvar NSM = 12;\nvar LRE = 13;\nvar RLE = 14;\nvar PDF = 15;\nvar LRO = 16;\nvar RLO = 17;\nvar BN = 18;\nvar UnicodeTBL00 = [\n    BN, BN, BN, BN, BN, BN, BN, BN, BN, S, B, S, WS, B, BN, BN,\n    BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, B, B, B, S,\n    WS, ON, ON, ET, ET, ET, ON, ON, ON, ON, ON, ES, CS, ES, CS, CS,\n    EN, EN, EN, EN, EN, EN, EN, EN, EN, EN, CS, ON, ON, ON, ON, ON,\n    ON, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L,\n    L, L, L, L, L, L, L, L, L, L, L, ON, ON, ON, ON, ON,\n    ON, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L,\n    L, L, L, L, L, L, L, L, L, L, L, ON, ON, ON, ON, BN,\n    BN, BN, BN, BN, BN, B, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN,\n    BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN,\n    CS, ON, ET, ET, ET, ET, ON, ON, ON, ON, L, ON, ON, BN, ON, ON,\n    ET, ET, EN, EN, ON, L, ON, ON, ON, EN, L, ON, ON, ON, ON, ON\n];\nvar UnicodeTBL20 = [\n    WS, WS, WS, WS, WS, WS, WS, WS, WS, WS, WS, BN, BN, BN, L, R,\n    ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON,\n    ON, ON, ON, ON, ON, ON, ON, ON, WS, B, LRE, RLE, PDF, LRO, RLO, CS,\n    ET, ET, ET, ET, ET, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON,\n    ON, ON, ON, ON, CS, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON,\n    ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, WS\n];\nfunction _computeLevels(chars, levels, len, charTypes) {\n    var impTab = dir ? impTab_RTL : impTab_LTR, prevState = null, newClass = null, newLevel = null, newState = 0, action = null, cond = null, condPos = -1, i = null, ix = null, classes = [];\n    if (!charTypes) {\n        for (i = 0, charTypes = []; i < len; i++) {\n            charTypes[i] = _getCharacterType(chars[i]);\n        }\n    }\n    hiLevel = dir;\n    lastArabic = false;\n    hasUBAT_AL = false;\n    hasUBAT_B = false;\n    hasUBAT_S = false;\n    for (ix = 0; ix < len; ix++) {\n        prevState = newState;\n        classes[ix] = newClass = _getCharClass(chars, charTypes, classes, ix);\n        newState = impTab[prevState][newClass];\n        action = newState & 0xF0;\n        newState &= 0x0F;\n        levels[ix] = newLevel = impTab[newState][5];\n        if (action > 0) {\n            if (action == 0x10) {\n                for (i = condPos; i < ix; i++) {\n                    levels[i] = 1;\n                }\n                condPos = -1;\n            }\n            else {\n                condPos = -1;\n            }\n        }\n        cond = impTab[newState][6];\n        if (cond) {\n            if (condPos == -1) {\n                condPos = ix;\n            }\n        }\n        else {\n            if (condPos > -1) {\n                for (i = condPos; i < ix; i++) {\n                    levels[i] = newLevel;\n                }\n                condPos = -1;\n            }\n        }\n        if (charTypes[ix] == B) {\n            levels[ix] = 0;\n        }\n        hiLevel |= newLevel;\n    }\n    if (hasUBAT_S) {\n        for (i = 0; i < len; i++) {\n            if (charTypes[i] == S) {\n                levels[i] = dir;\n                for (var j = i - 1; j >= 0; j--) {\n                    if (charTypes[j] == WS) {\n                        levels[j] = dir;\n                    }\n                    else {\n                        break;\n                    }\n                }\n            }\n        }\n    }\n}\nfunction _invertLevel(lev, levels, _array) {\n    if (hiLevel < lev) {\n        return;\n    }\n    if (lev == 1 && dir == RTL && !hasUBAT_B) {\n        _array.reverse();\n        return;\n    }\n    var len = _array.length, start = 0, end, lo, hi, tmp;\n    while (start < len) {\n        if (levels[start] >= lev) {\n            end = start + 1;\n            while (end < len && levels[end] >= lev) {\n                end++;\n            }\n            for (lo = start, hi = end - 1; lo < hi; lo++, hi--) {\n                tmp = _array[lo];\n                _array[lo] = _array[hi];\n                _array[hi] = tmp;\n            }\n            start = end;\n        }\n        start++;\n    }\n}\nfunction _getCharClass(chars, types, classes, ix) {\n    var cType = types[ix], wType, nType, len, i;\n    switch (cType) {\n        case L:\n        case R:\n            lastArabic = false;\n        case ON:\n        case AN:\n            return cType;\n        case EN:\n            return lastArabic ? AN : EN;\n        case AL:\n            lastArabic = true;\n            hasUBAT_AL = true;\n            return R;\n        case WS:\n            return ON;\n        case CS:\n            if (ix < 1 || (ix + 1) >= types.length ||\n                ((wType = classes[ix - 1]) != EN && wType != AN) ||\n                ((nType = types[ix + 1]) != EN && nType != AN)) {\n                return ON;\n            }\n            if (lastArabic) {\n                nType = AN;\n            }\n            return nType == wType ? nType : ON;\n        case ES:\n            wType = ix > 0 ? classes[ix - 1] : B;\n            if (wType == EN && (ix + 1) < types.length && types[ix + 1] == EN) {\n                return EN;\n            }\n            return ON;\n        case ET:\n            if (ix > 0 && classes[ix - 1] == EN) {\n                return EN;\n            }\n            if (lastArabic) {\n                return ON;\n            }\n            i = ix + 1;\n            len = types.length;\n            while (i < len && types[i] == ET) {\n                i++;\n            }\n            if (i < len && types[i] == EN) {\n                return EN;\n            }\n            return ON;\n        case NSM:\n            len = types.length;\n            i = ix + 1;\n            while (i < len && types[i] == NSM) {\n                i++;\n            }\n            if (i < len) {\n                var c = chars[ix], rtlCandidate = (c >= 0x0591 && c <= 0x08FF) || c == 0xFB1E;\n                wType = types[i];\n                if (rtlCandidate && (wType == R || wType == AL)) {\n                    return R;\n                }\n            }\n            if (ix < 1 || (wType = types[ix - 1]) == B) {\n                return ON;\n            }\n            return classes[ix - 1];\n        case B:\n            lastArabic = false;\n            hasUBAT_B = true;\n            return dir;\n        case S:\n            hasUBAT_S = true;\n            return ON;\n        case LRE:\n        case RLE:\n        case LRO:\n        case RLO:\n        case PDF:\n            lastArabic = false;\n        case BN:\n            return ON;\n    }\n}\nfunction _getCharacterType(ch) {\n    var uc = ch.charCodeAt(0), hi = uc >> 8;\n    if (hi == 0) {\n        return ((uc > 0x00BF) ? L : UnicodeTBL00[uc]);\n    }\n    else if (hi == 5) {\n        return (/[\\u0591-\\u05f4]/.test(ch) ? R : L);\n    }\n    else if (hi == 6) {\n        if (/[\\u0610-\\u061a\\u064b-\\u065f\\u06d6-\\u06e4\\u06e7-\\u06ed]/.test(ch))\n            return NSM;\n        else if (/[\\u0660-\\u0669\\u066b-\\u066c]/.test(ch))\n            return AN;\n        else if (uc == 0x066A)\n            return ET;\n        else if (/[\\u06f0-\\u06f9]/.test(ch))\n            return EN;\n        else\n            return AL;\n    }\n    else if (hi == 0x20 && uc <= 0x205F) {\n        return UnicodeTBL20[uc & 0xFF];\n    }\n    else if (hi == 0xFE) {\n        return (uc >= 0xFE70 ? AL : ON);\n    }\n    return ON;\n}\nfunction _isArabicDiacritics(ch) {\n    return (ch >= '\\u064b' && ch <= '\\u0655');\n}\nexports.L = L;\nexports.R = R;\nexports.EN = EN;\nexports.ON_R = 3;\nexports.AN = 4;\nexports.R_H = 5;\nexports.B = 6;\nexports.RLE = 7;\nexports.DOT = \"\\xB7\";\nexports.doBidiReorder = function (text, textCharTypes, isRtl) {\n    if (text.length < 2)\n        return {};\n    var chars = text.split(\"\"), logicalFromVisual = new Array(chars.length), bidiLevels = new Array(chars.length), levels = [];\n    dir = isRtl ? RTL : LTR;\n    _computeLevels(chars, levels, chars.length, textCharTypes);\n    for (var i = 0; i < logicalFromVisual.length; logicalFromVisual[i] = i, i++)\n        ;\n    _invertLevel(2, levels, logicalFromVisual);\n    _invertLevel(1, levels, logicalFromVisual);\n    for (var i = 0; i < logicalFromVisual.length - 1; i++) { //fix levels to reflect character width\n        if (textCharTypes[i] === AN) {\n            levels[i] = exports.AN;\n        }\n        else if (levels[i] === R && ((textCharTypes[i] > AL && textCharTypes[i] < LRE)\n            || textCharTypes[i] === ON || textCharTypes[i] === BN)) {\n            levels[i] = exports.ON_R;\n        }\n        else if ((i > 0 && chars[i - 1] === '\\u0644') && /\\u0622|\\u0623|\\u0625|\\u0627/.test(chars[i])) {\n            levels[i - 1] = levels[i] = exports.R_H;\n            i++;\n        }\n    }\n    if (chars[chars.length - 1] === exports.DOT)\n        levels[chars.length - 1] = exports.B;\n    if (chars[0] === '\\u202B')\n        levels[0] = exports.RLE;\n    for (var i = 0; i < logicalFromVisual.length; i++) {\n        bidiLevels[i] = levels[logicalFromVisual[i]];\n    }\n    return { 'logicalFromVisual': logicalFromVisual, 'bidiLevels': bidiLevels };\n};\nexports.hasBidiCharacters = function (text, textCharTypes) {\n    var ret = false;\n    for (var i = 0; i < text.length; i++) {\n        textCharTypes[i] = _getCharacterType(text.charAt(i));\n        if (!ret && (textCharTypes[i] == R || textCharTypes[i] == AL || textCharTypes[i] == AN))\n            ret = true;\n    }\n    return ret;\n};\nexports.getVisualFromLogicalIdx = function (logIdx, rowMap) {\n    for (var i = 0; i < rowMap.logicalFromVisual.length; i++) {\n        if (rowMap.logicalFromVisual[i] == logIdx)\n            return i;\n    }\n    return 0;\n};\n\n});\n\nace.define(\"ace/bidihandler\",[\"require\",\"exports\",\"module\",\"ace/lib/bidiutil\",\"ace/lib/lang\"], function(require, exports, module){\"use strict\";\nvar bidiUtil = require(\"./lib/bidiutil\");\nvar lang = require(\"./lib/lang\");\nvar bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac\\u202B]/;\nvar BidiHandler = function (session) {\n    this.session = session;\n    this.bidiMap = {};\n    this.currentRow = null;\n    this.bidiUtil = bidiUtil;\n    this.charWidths = [];\n    this.EOL = \"\\xAC\";\n    this.showInvisibles = true;\n    this.isRtlDir = false;\n    this.$isRtl = false;\n    this.line = \"\";\n    this.wrapIndent = 0;\n    this.EOF = \"\\xB6\";\n    this.RLE = \"\\u202B\";\n    this.contentWidth = 0;\n    this.fontMetrics = null;\n    this.rtlLineOffset = 0;\n    this.wrapOffset = 0;\n    this.isMoveLeftOperation = false;\n    this.seenBidi = bidiRE.test(session.getValue());\n};\n(function () {\n    this.isBidiRow = function (screenRow, docRow, splitIndex) {\n        if (!this.seenBidi)\n            return false;\n        if (screenRow !== this.currentRow) {\n            this.currentRow = screenRow;\n            this.updateRowLine(docRow, splitIndex);\n            this.updateBidiMap();\n        }\n        return this.bidiMap.bidiLevels;\n    };\n    this.onChange = function (delta) {\n        if (!this.seenBidi) {\n            if (delta.action == \"insert\" && bidiRE.test(delta.lines.join(\"\\n\"))) {\n                this.seenBidi = true;\n                this.currentRow = null;\n            }\n        }\n        else {\n            this.currentRow = null;\n        }\n    };\n    this.getDocumentRow = function () {\n        var docRow = 0;\n        var rowCache = this.session.$screenRowCache;\n        if (rowCache.length) {\n            var index = this.session.$getRowCacheIndex(rowCache, this.currentRow);\n            if (index >= 0)\n                docRow = this.session.$docRowCache[index];\n        }\n        return docRow;\n    };\n    this.getSplitIndex = function () {\n        var splitIndex = 0;\n        var rowCache = this.session.$screenRowCache;\n        if (rowCache.length) {\n            var currentIndex, prevIndex = this.session.$getRowCacheIndex(rowCache, this.currentRow);\n            while (this.currentRow - splitIndex > 0) {\n                currentIndex = this.session.$getRowCacheIndex(rowCache, this.currentRow - splitIndex - 1);\n                if (currentIndex !== prevIndex)\n                    break;\n                prevIndex = currentIndex;\n                splitIndex++;\n            }\n        }\n        else {\n            splitIndex = this.currentRow;\n        }\n        return splitIndex;\n    };\n    this.updateRowLine = function (docRow, splitIndex) {\n        if (docRow === undefined)\n            docRow = this.getDocumentRow();\n        var isLastRow = (docRow === this.session.getLength() - 1), endOfLine = isLastRow ? this.EOF : this.EOL;\n        this.wrapIndent = 0;\n        this.line = this.session.getLine(docRow);\n        this.isRtlDir = this.$isRtl || this.line.charAt(0) === this.RLE;\n        if (this.session.$useWrapMode) {\n            var splits = this.session.$wrapData[docRow];\n            if (splits) {\n                if (splitIndex === undefined)\n                    splitIndex = this.getSplitIndex();\n                if (splitIndex > 0 && splits.length) {\n                    this.wrapIndent = splits.indent;\n                    this.wrapOffset = this.wrapIndent * this.charWidths[bidiUtil.L];\n                    this.line = (splitIndex < splits.length) ?\n                        this.line.substring(splits[splitIndex - 1], splits[splitIndex]) :\n                        this.line.substring(splits[splits.length - 1]);\n                }\n                else {\n                    this.line = this.line.substring(0, splits[splitIndex]);\n                }\n                if (splitIndex == splits.length) {\n                    this.line += (this.showInvisibles) ? endOfLine : bidiUtil.DOT;\n                }\n            }\n        }\n        else {\n            this.line += this.showInvisibles ? endOfLine : bidiUtil.DOT;\n        }\n        var session = this.session, shift = 0, size;\n        this.line = this.line.replace(/\\t|[\\u1100-\\u2029, \\u202F-\\uFFE6]/g, function (ch, i) {\n            if (ch === '\\t' || session.isFullWidth(ch.charCodeAt(0))) {\n                size = (ch === '\\t') ? session.getScreenTabSize(i + shift) : 2;\n                shift += size - 1;\n                return lang.stringRepeat(bidiUtil.DOT, size);\n            }\n            return ch;\n        });\n        if (this.isRtlDir) {\n            this.fontMetrics.$main.textContent = (this.line.charAt(this.line.length - 1) == bidiUtil.DOT) ? this.line.substr(0, this.line.length - 1) : this.line;\n            this.rtlLineOffset = this.contentWidth - this.fontMetrics.$main.getBoundingClientRect().width;\n        }\n    };\n    this.updateBidiMap = function () {\n        var textCharTypes = [];\n        if (bidiUtil.hasBidiCharacters(this.line, textCharTypes) || this.isRtlDir) {\n            this.bidiMap = bidiUtil.doBidiReorder(this.line, textCharTypes, this.isRtlDir);\n        }\n        else {\n            this.bidiMap = {};\n        }\n    };\n    this.markAsDirty = function () {\n        this.currentRow = null;\n    };\n    this.updateCharacterWidths = function (fontMetrics) {\n        if (this.characterWidth === fontMetrics.$characterSize.width)\n            return;\n        this.fontMetrics = fontMetrics;\n        var characterWidth = this.characterWidth = fontMetrics.$characterSize.width;\n        var bidiCharWidth = fontMetrics.$measureCharWidth(\"\\u05d4\");\n        this.charWidths[bidiUtil.L] = this.charWidths[bidiUtil.EN] = this.charWidths[bidiUtil.ON_R] = characterWidth;\n        this.charWidths[bidiUtil.R] = this.charWidths[bidiUtil.AN] = bidiCharWidth;\n        this.charWidths[bidiUtil.R_H] = bidiCharWidth * 0.45;\n        this.charWidths[bidiUtil.B] = this.charWidths[bidiUtil.RLE] = 0;\n        this.currentRow = null;\n    };\n    this.setShowInvisibles = function (showInvisibles) {\n        this.showInvisibles = showInvisibles;\n        this.currentRow = null;\n    };\n    this.setEolChar = function (eolChar) {\n        this.EOL = eolChar;\n    };\n    this.setContentWidth = function (width) {\n        this.contentWidth = width;\n    };\n    this.isRtlLine = function (row) {\n        if (this.$isRtl)\n            return true;\n        if (row != undefined)\n            return (this.session.getLine(row).charAt(0) == this.RLE);\n        else\n            return this.isRtlDir;\n    };\n    this.setRtlDirection = function (editor, isRtlDir) {\n        var cursor = editor.getCursorPosition();\n        for (var row = editor.selection.getSelectionAnchor().row; row <= cursor.row; row++) {\n            if (!isRtlDir && editor.session.getLine(row).charAt(0) === editor.session.$bidiHandler.RLE)\n                editor.session.doc.removeInLine(row, 0, 1);\n            else if (isRtlDir && editor.session.getLine(row).charAt(0) !== editor.session.$bidiHandler.RLE)\n                editor.session.doc.insert({ column: 0, row: row }, editor.session.$bidiHandler.RLE);\n        }\n    };\n    this.getPosLeft = function (col) {\n        col -= this.wrapIndent;\n        var leftBoundary = (this.line.charAt(0) === this.RLE) ? 1 : 0;\n        var logicalIdx = (col > leftBoundary) ? (this.session.getOverwrite() ? col : col - 1) : leftBoundary;\n        var visualIdx = bidiUtil.getVisualFromLogicalIdx(logicalIdx, this.bidiMap), levels = this.bidiMap.bidiLevels, left = 0;\n        if (!this.session.getOverwrite() && col <= leftBoundary && levels[visualIdx] % 2 !== 0)\n            visualIdx++;\n        for (var i = 0; i < visualIdx; i++) {\n            left += this.charWidths[levels[i]];\n        }\n        if (!this.session.getOverwrite() && (col > leftBoundary) && (levels[visualIdx] % 2 === 0))\n            left += this.charWidths[levels[visualIdx]];\n        if (this.wrapIndent)\n            left += this.isRtlDir ? (-1 * this.wrapOffset) : this.wrapOffset;\n        if (this.isRtlDir)\n            left += this.rtlLineOffset;\n        return left;\n    };\n    this.getSelections = function (startCol, endCol) {\n        var map = this.bidiMap, levels = map.bidiLevels, level, selections = [], offset = 0, selColMin = Math.min(startCol, endCol) - this.wrapIndent, selColMax = Math.max(startCol, endCol) - this.wrapIndent, isSelected = false, isSelectedPrev = false, selectionStart = 0;\n        if (this.wrapIndent)\n            offset += this.isRtlDir ? (-1 * this.wrapOffset) : this.wrapOffset;\n        for (var logIdx, visIdx = 0; visIdx < levels.length; visIdx++) {\n            logIdx = map.logicalFromVisual[visIdx];\n            level = levels[visIdx];\n            isSelected = (logIdx >= selColMin) && (logIdx < selColMax);\n            if (isSelected && !isSelectedPrev) {\n                selectionStart = offset;\n            }\n            else if (!isSelected && isSelectedPrev) {\n                selections.push({ left: selectionStart, width: offset - selectionStart });\n            }\n            offset += this.charWidths[level];\n            isSelectedPrev = isSelected;\n        }\n        if (isSelected && (visIdx === levels.length)) {\n            selections.push({ left: selectionStart, width: offset - selectionStart });\n        }\n        if (this.isRtlDir) {\n            for (var i = 0; i < selections.length; i++) {\n                selections[i].left += this.rtlLineOffset;\n            }\n        }\n        return selections;\n    };\n    this.offsetToCol = function (posX) {\n        if (this.isRtlDir)\n            posX -= this.rtlLineOffset;\n        var logicalIdx = 0, posX = Math.max(posX, 0), offset = 0, visualIdx = 0, levels = this.bidiMap.bidiLevels, charWidth = this.charWidths[levels[visualIdx]];\n        if (this.wrapIndent)\n            posX -= this.isRtlDir ? (-1 * this.wrapOffset) : this.wrapOffset;\n        while (posX > offset + charWidth / 2) {\n            offset += charWidth;\n            if (visualIdx === levels.length - 1) {\n                charWidth = 0;\n                break;\n            }\n            charWidth = this.charWidths[levels[++visualIdx]];\n        }\n        if (visualIdx > 0 && (levels[visualIdx - 1] % 2 !== 0) && (levels[visualIdx] % 2 === 0)) {\n            if (posX < offset)\n                visualIdx--;\n            logicalIdx = this.bidiMap.logicalFromVisual[visualIdx];\n        }\n        else if (visualIdx > 0 && (levels[visualIdx - 1] % 2 === 0) && (levels[visualIdx] % 2 !== 0)) {\n            logicalIdx = 1 + ((posX > offset) ? this.bidiMap.logicalFromVisual[visualIdx]\n                : this.bidiMap.logicalFromVisual[visualIdx - 1]);\n        }\n        else if ((this.isRtlDir && visualIdx === levels.length - 1 && charWidth === 0 && (levels[visualIdx - 1] % 2 === 0))\n            || (!this.isRtlDir && visualIdx === 0 && (levels[visualIdx] % 2 !== 0))) {\n            logicalIdx = 1 + this.bidiMap.logicalFromVisual[visualIdx];\n        }\n        else {\n            if (visualIdx > 0 && (levels[visualIdx - 1] % 2 !== 0) && charWidth !== 0)\n                visualIdx--;\n            logicalIdx = this.bidiMap.logicalFromVisual[visualIdx];\n        }\n        if (logicalIdx === 0 && this.isRtlDir)\n            logicalIdx++;\n        return (logicalIdx + this.wrapIndent);\n    };\n}).call(BidiHandler.prototype);\nexports.BidiHandler = BidiHandler;\n\n});\n\nace.define(\"ace/selection\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/lib/event_emitter\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"./lib/oop\");\nvar lang = require(\"./lib/lang\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Range = require(\"./range\").Range;\nvar Selection = function (session) {\n    this.session = session;\n    this.doc = session.getDocument();\n    this.clearSelection();\n    this.cursor = this.lead = this.doc.createAnchor(0, 0);\n    this.anchor = this.doc.createAnchor(0, 0);\n    this.$silent = false;\n    var self = this;\n    this.cursor.on(\"change\", function (e) {\n        self.$cursorChanged = true;\n        if (!self.$silent)\n            self._emit(\"changeCursor\");\n        if (!self.$isEmpty && !self.$silent)\n            self._emit(\"changeSelection\");\n        if (!self.$keepDesiredColumnOnChange && e.old.column != e.value.column)\n            self.$desiredColumn = null;\n    });\n    this.anchor.on(\"change\", function () {\n        self.$anchorChanged = true;\n        if (!self.$isEmpty && !self.$silent)\n            self._emit(\"changeSelection\");\n    });\n};\n(function () {\n    oop.implement(this, EventEmitter);\n    this.isEmpty = function () {\n        return this.$isEmpty || (this.anchor.row == this.lead.row &&\n            this.anchor.column == this.lead.column);\n    };\n    this.isMultiLine = function () {\n        return !this.$isEmpty && this.anchor.row != this.cursor.row;\n    };\n    this.getCursor = function () {\n        return this.lead.getPosition();\n    };\n    this.setAnchor = function (row, column) {\n        this.$isEmpty = false;\n        this.anchor.setPosition(row, column);\n    };\n    this.setSelectionAnchor = this.setAnchor;\n    this.getAnchor = function () {\n        if (this.$isEmpty)\n            return this.getSelectionLead();\n        return this.anchor.getPosition();\n    };\n    this.getSelectionAnchor = this.getAnchor;\n    this.getSelectionLead = function () {\n        return this.lead.getPosition();\n    };\n    this.isBackwards = function () {\n        var anchor = this.anchor;\n        var lead = this.lead;\n        return (anchor.row > lead.row || (anchor.row == lead.row && anchor.column > lead.column));\n    };\n    this.getRange = function () {\n        var anchor = this.anchor;\n        var lead = this.lead;\n        if (this.$isEmpty)\n            return Range.fromPoints(lead, lead);\n        return this.isBackwards()\n            ? Range.fromPoints(lead, anchor)\n            : Range.fromPoints(anchor, lead);\n    };\n    this.clearSelection = function () {\n        if (!this.$isEmpty) {\n            this.$isEmpty = true;\n            this._emit(\"changeSelection\");\n        }\n    };\n    this.selectAll = function () {\n        this.$setSelection(0, 0, Number.MAX_VALUE, Number.MAX_VALUE);\n    };\n    this.setRange =\n        this.setSelectionRange = function (range, reverse) {\n            var start = reverse ? range.end : range.start;\n            var end = reverse ? range.start : range.end;\n            this.$setSelection(start.row, start.column, end.row, end.column);\n        };\n    this.$setSelection = function (anchorRow, anchorColumn, cursorRow, cursorColumn) {\n        if (this.$silent)\n            return;\n        var wasEmpty = this.$isEmpty;\n        var wasMultiselect = this.inMultiSelectMode;\n        this.$silent = true;\n        this.$cursorChanged = this.$anchorChanged = false;\n        this.anchor.setPosition(anchorRow, anchorColumn);\n        this.cursor.setPosition(cursorRow, cursorColumn);\n        this.$isEmpty = !Range.comparePoints(this.anchor, this.cursor);\n        this.$silent = false;\n        if (this.$cursorChanged)\n            this._emit(\"changeCursor\");\n        if (this.$cursorChanged || this.$anchorChanged || wasEmpty != this.$isEmpty || wasMultiselect)\n            this._emit(\"changeSelection\");\n    };\n    this.$moveSelection = function (mover) {\n        var lead = this.lead;\n        if (this.$isEmpty)\n            this.setSelectionAnchor(lead.row, lead.column);\n        mover.call(this);\n    };\n    this.selectTo = function (row, column) {\n        this.$moveSelection(function () {\n            this.moveCursorTo(row, column);\n        });\n    };\n    this.selectToPosition = function (pos) {\n        this.$moveSelection(function () {\n            this.moveCursorToPosition(pos);\n        });\n    };\n    this.moveTo = function (row, column) {\n        this.clearSelection();\n        this.moveCursorTo(row, column);\n    };\n    this.moveToPosition = function (pos) {\n        this.clearSelection();\n        this.moveCursorToPosition(pos);\n    };\n    this.selectUp = function () {\n        this.$moveSelection(this.moveCursorUp);\n    };\n    this.selectDown = function () {\n        this.$moveSelection(this.moveCursorDown);\n    };\n    this.selectRight = function () {\n        this.$moveSelection(this.moveCursorRight);\n    };\n    this.selectLeft = function () {\n        this.$moveSelection(this.moveCursorLeft);\n    };\n    this.selectLineStart = function () {\n        this.$moveSelection(this.moveCursorLineStart);\n    };\n    this.selectLineEnd = function () {\n        this.$moveSelection(this.moveCursorLineEnd);\n    };\n    this.selectFileEnd = function () {\n        this.$moveSelection(this.moveCursorFileEnd);\n    };\n    this.selectFileStart = function () {\n        this.$moveSelection(this.moveCursorFileStart);\n    };\n    this.selectWordRight = function () {\n        this.$moveSelection(this.moveCursorWordRight);\n    };\n    this.selectWordLeft = function () {\n        this.$moveSelection(this.moveCursorWordLeft);\n    };\n    this.getWordRange = function (row, column) {\n        if (typeof column == \"undefined\") {\n            var cursor = row || this.lead;\n            row = cursor.row;\n            column = cursor.column;\n        }\n        return this.session.getWordRange(row, column);\n    };\n    this.selectWord = function () {\n        this.setSelectionRange(this.getWordRange());\n    };\n    this.selectAWord = function () {\n        var cursor = this.getCursor();\n        var range = this.session.getAWordRange(cursor.row, cursor.column);\n        this.setSelectionRange(range);\n    };\n    this.getLineRange = function (row, excludeLastChar) {\n        var rowStart = typeof row == \"number\" ? row : this.lead.row;\n        var rowEnd;\n        var foldLine = this.session.getFoldLine(rowStart);\n        if (foldLine) {\n            rowStart = foldLine.start.row;\n            rowEnd = foldLine.end.row;\n        }\n        else {\n            rowEnd = rowStart;\n        }\n        if (excludeLastChar === true)\n            return new Range(rowStart, 0, rowEnd, this.session.getLine(rowEnd).length);\n        else\n            return new Range(rowStart, 0, rowEnd + 1, 0);\n    };\n    this.selectLine = function () {\n        this.setSelectionRange(this.getLineRange());\n    };\n    this.moveCursorUp = function () {\n        this.moveCursorBy(-1, 0);\n    };\n    this.moveCursorDown = function () {\n        this.moveCursorBy(1, 0);\n    };\n    this.wouldMoveIntoSoftTab = function (cursor, tabSize, direction) {\n        var start = cursor.column;\n        var end = cursor.column + tabSize;\n        if (direction < 0) {\n            start = cursor.column - tabSize;\n            end = cursor.column;\n        }\n        return this.session.isTabStop(cursor) && this.doc.getLine(cursor.row).slice(start, end).split(\" \").length - 1 == tabSize;\n    };\n    this.moveCursorLeft = function () {\n        var cursor = this.lead.getPosition(), fold;\n        if (fold = this.session.getFoldAt(cursor.row, cursor.column, -1)) {\n            this.moveCursorTo(fold.start.row, fold.start.column);\n        }\n        else if (cursor.column === 0) {\n            if (cursor.row > 0) {\n                this.moveCursorTo(cursor.row - 1, this.doc.getLine(cursor.row - 1).length);\n            }\n        }\n        else {\n            var tabSize = this.session.getTabSize();\n            if (this.wouldMoveIntoSoftTab(cursor, tabSize, -1) && !this.session.getNavigateWithinSoftTabs()) {\n                this.moveCursorBy(0, -tabSize);\n            }\n            else {\n                this.moveCursorBy(0, -1);\n            }\n        }\n    };\n    this.moveCursorRight = function () {\n        var cursor = this.lead.getPosition(), fold;\n        if (fold = this.session.getFoldAt(cursor.row, cursor.column, 1)) {\n            this.moveCursorTo(fold.end.row, fold.end.column);\n        }\n        else if (this.lead.column == this.doc.getLine(this.lead.row).length) {\n            if (this.lead.row < this.doc.getLength() - 1) {\n                this.moveCursorTo(this.lead.row + 1, 0);\n            }\n        }\n        else {\n            var tabSize = this.session.getTabSize();\n            var cursor = this.lead;\n            if (this.wouldMoveIntoSoftTab(cursor, tabSize, 1) && !this.session.getNavigateWithinSoftTabs()) {\n                this.moveCursorBy(0, tabSize);\n            }\n            else {\n                this.moveCursorBy(0, 1);\n            }\n        }\n    };\n    this.moveCursorLineStart = function () {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var screenRow = this.session.documentToScreenRow(row, column);\n        var firstColumnPosition = this.session.screenToDocumentPosition(screenRow, 0);\n        var beforeCursor = this.session.getDisplayLine(row, null, firstColumnPosition.row, firstColumnPosition.column);\n        var leadingSpace = beforeCursor.match(/^\\s*/);\n        if (leadingSpace[0].length != column && !this.session.$useEmacsStyleLineStart)\n            firstColumnPosition.column += leadingSpace[0].length;\n        this.moveCursorToPosition(firstColumnPosition);\n    };\n    this.moveCursorLineEnd = function () {\n        var lead = this.lead;\n        var lineEnd = this.session.getDocumentLastRowColumnPosition(lead.row, lead.column);\n        if (this.lead.column == lineEnd.column) {\n            var line = this.session.getLine(lineEnd.row);\n            if (lineEnd.column == line.length) {\n                var textEnd = line.search(/\\s+$/);\n                if (textEnd > 0)\n                    lineEnd.column = textEnd;\n            }\n        }\n        this.moveCursorTo(lineEnd.row, lineEnd.column);\n    };\n    this.moveCursorFileEnd = function () {\n        var row = this.doc.getLength() - 1;\n        var column = this.doc.getLine(row).length;\n        this.moveCursorTo(row, column);\n    };\n    this.moveCursorFileStart = function () {\n        this.moveCursorTo(0, 0);\n    };\n    this.moveCursorLongWordRight = function () {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var line = this.doc.getLine(row);\n        var rightOfCursor = line.substring(column);\n        this.session.nonTokenRe.lastIndex = 0;\n        this.session.tokenRe.lastIndex = 0;\n        var fold = this.session.getFoldAt(row, column, 1);\n        if (fold) {\n            this.moveCursorTo(fold.end.row, fold.end.column);\n            return;\n        }\n        if (this.session.nonTokenRe.exec(rightOfCursor)) {\n            column += this.session.nonTokenRe.lastIndex;\n            this.session.nonTokenRe.lastIndex = 0;\n            rightOfCursor = line.substring(column);\n        }\n        if (column >= line.length) {\n            this.moveCursorTo(row, line.length);\n            this.moveCursorRight();\n            if (row < this.doc.getLength() - 1)\n                this.moveCursorWordRight();\n            return;\n        }\n        if (this.session.tokenRe.exec(rightOfCursor)) {\n            column += this.session.tokenRe.lastIndex;\n            this.session.tokenRe.lastIndex = 0;\n        }\n        this.moveCursorTo(row, column);\n    };\n    this.moveCursorLongWordLeft = function () {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var fold;\n        if (fold = this.session.getFoldAt(row, column, -1)) {\n            this.moveCursorTo(fold.start.row, fold.start.column);\n            return;\n        }\n        var str = this.session.getFoldStringAt(row, column, -1);\n        if (str == null) {\n            str = this.doc.getLine(row).substring(0, column);\n        }\n        var leftOfCursor = lang.stringReverse(str);\n        this.session.nonTokenRe.lastIndex = 0;\n        this.session.tokenRe.lastIndex = 0;\n        if (this.session.nonTokenRe.exec(leftOfCursor)) {\n            column -= this.session.nonTokenRe.lastIndex;\n            leftOfCursor = leftOfCursor.slice(this.session.nonTokenRe.lastIndex);\n            this.session.nonTokenRe.lastIndex = 0;\n        }\n        if (column <= 0) {\n            this.moveCursorTo(row, 0);\n            this.moveCursorLeft();\n            if (row > 0)\n                this.moveCursorWordLeft();\n            return;\n        }\n        if (this.session.tokenRe.exec(leftOfCursor)) {\n            column -= this.session.tokenRe.lastIndex;\n            this.session.tokenRe.lastIndex = 0;\n        }\n        this.moveCursorTo(row, column);\n    };\n    this.$shortWordEndIndex = function (rightOfCursor) {\n        var index = 0, ch;\n        var whitespaceRe = /\\s/;\n        var tokenRe = this.session.tokenRe;\n        tokenRe.lastIndex = 0;\n        if (this.session.tokenRe.exec(rightOfCursor)) {\n            index = this.session.tokenRe.lastIndex;\n        }\n        else {\n            while ((ch = rightOfCursor[index]) && whitespaceRe.test(ch))\n                index++;\n            if (index < 1) {\n                tokenRe.lastIndex = 0;\n                while ((ch = rightOfCursor[index]) && !tokenRe.test(ch)) {\n                    tokenRe.lastIndex = 0;\n                    index++;\n                    if (whitespaceRe.test(ch)) {\n                        if (index > 2) {\n                            index--;\n                            break;\n                        }\n                        else {\n                            while ((ch = rightOfCursor[index]) && whitespaceRe.test(ch))\n                                index++;\n                            if (index > 2)\n                                break;\n                        }\n                    }\n                }\n            }\n        }\n        tokenRe.lastIndex = 0;\n        return index;\n    };\n    this.moveCursorShortWordRight = function () {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var line = this.doc.getLine(row);\n        var rightOfCursor = line.substring(column);\n        var fold = this.session.getFoldAt(row, column, 1);\n        if (fold)\n            return this.moveCursorTo(fold.end.row, fold.end.column);\n        if (column == line.length) {\n            var l = this.doc.getLength();\n            do {\n                row++;\n                rightOfCursor = this.doc.getLine(row);\n            } while (row < l && /^\\s*$/.test(rightOfCursor));\n            if (!/^\\s+/.test(rightOfCursor))\n                rightOfCursor = \"\";\n            column = 0;\n        }\n        var index = this.$shortWordEndIndex(rightOfCursor);\n        this.moveCursorTo(row, column + index);\n    };\n    this.moveCursorShortWordLeft = function () {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var fold;\n        if (fold = this.session.getFoldAt(row, column, -1))\n            return this.moveCursorTo(fold.start.row, fold.start.column);\n        var line = this.session.getLine(row).substring(0, column);\n        if (column === 0) {\n            do {\n                row--;\n                line = this.doc.getLine(row);\n            } while (row > 0 && /^\\s*$/.test(line));\n            column = line.length;\n            if (!/\\s+$/.test(line))\n                line = \"\";\n        }\n        var leftOfCursor = lang.stringReverse(line);\n        var index = this.$shortWordEndIndex(leftOfCursor);\n        return this.moveCursorTo(row, column - index);\n    };\n    this.moveCursorWordRight = function () {\n        if (this.session.$selectLongWords)\n            this.moveCursorLongWordRight();\n        else\n            this.moveCursorShortWordRight();\n    };\n    this.moveCursorWordLeft = function () {\n        if (this.session.$selectLongWords)\n            this.moveCursorLongWordLeft();\n        else\n            this.moveCursorShortWordLeft();\n    };\n    this.moveCursorBy = function (rows, chars) {\n        var screenPos = this.session.documentToScreenPosition(this.lead.row, this.lead.column);\n        var offsetX;\n        if (chars === 0) {\n            if (rows !== 0) {\n                if (this.session.$bidiHandler.isBidiRow(screenPos.row, this.lead.row)) {\n                    offsetX = this.session.$bidiHandler.getPosLeft(screenPos.column);\n                    screenPos.column = Math.round(offsetX / this.session.$bidiHandler.charWidths[0]);\n                }\n                else {\n                    offsetX = screenPos.column * this.session.$bidiHandler.charWidths[0];\n                }\n            }\n            if (this.$desiredColumn)\n                screenPos.column = this.$desiredColumn;\n            else\n                this.$desiredColumn = screenPos.column;\n        }\n        if (rows != 0 && this.session.lineWidgets && this.session.lineWidgets[this.lead.row]) {\n            var widget = this.session.lineWidgets[this.lead.row];\n            if (rows < 0)\n                rows -= widget.rowsAbove || 0;\n            else if (rows > 0)\n                rows += widget.rowCount - (widget.rowsAbove || 0);\n        }\n        var docPos = this.session.screenToDocumentPosition(screenPos.row + rows, screenPos.column, offsetX);\n        if (rows !== 0 && chars === 0 && docPos.row === this.lead.row && docPos.column === this.lead.column) {\n        }\n        this.moveCursorTo(docPos.row, docPos.column + chars, chars === 0);\n    };\n    this.moveCursorToPosition = function (position) {\n        this.moveCursorTo(position.row, position.column);\n    };\n    this.moveCursorTo = function (row, column, keepDesiredColumn) {\n        var fold = this.session.getFoldAt(row, column, 1);\n        if (fold) {\n            row = fold.start.row;\n            column = fold.start.column;\n        }\n        this.$keepDesiredColumnOnChange = true;\n        var line = this.session.getLine(row);\n        if (/[\\uDC00-\\uDFFF]/.test(line.charAt(column)) && line.charAt(column - 1)) {\n            if (this.lead.row == row && this.lead.column == column + 1)\n                column = column - 1;\n            else\n                column = column + 1;\n        }\n        this.lead.setPosition(row, column);\n        this.$keepDesiredColumnOnChange = false;\n        if (!keepDesiredColumn)\n            this.$desiredColumn = null;\n    };\n    this.moveCursorToScreen = function (row, column, keepDesiredColumn) {\n        var pos = this.session.screenToDocumentPosition(row, column);\n        this.moveCursorTo(pos.row, pos.column, keepDesiredColumn);\n    };\n    this.detach = function () {\n        this.lead.detach();\n        this.anchor.detach();\n    };\n    this.fromOrientedRange = function (range) {\n        this.setSelectionRange(range, range.cursor == range.start);\n        this.$desiredColumn = range.desiredColumn || this.$desiredColumn;\n    };\n    this.toOrientedRange = function (range) {\n        var r = this.getRange();\n        if (range) {\n            range.start.column = r.start.column;\n            range.start.row = r.start.row;\n            range.end.column = r.end.column;\n            range.end.row = r.end.row;\n        }\n        else {\n            range = r;\n        }\n        range.cursor = this.isBackwards() ? range.start : range.end;\n        range.desiredColumn = this.$desiredColumn;\n        return range;\n    };\n    this.getRangeOfMovements = function (func) {\n        var start = this.getCursor();\n        try {\n            func(this);\n            var end = this.getCursor();\n            return Range.fromPoints(start, end);\n        }\n        catch (e) {\n            return Range.fromPoints(start, start);\n        }\n        finally {\n            this.moveCursorToPosition(start);\n        }\n    };\n    this.toJSON = function () {\n        if (this.rangeCount) {\n            var data = this.ranges.map(function (r) {\n                var r1 = r.clone();\n                r1.isBackwards = r.cursor == r.start;\n                return r1;\n            });\n        }\n        else {\n            var data = this.getRange();\n            data.isBackwards = this.isBackwards();\n        }\n        return data;\n    };\n    this.fromJSON = function (data) {\n        if (data.start == undefined) {\n            if (this.rangeList && data.length > 1) {\n                this.toSingleRange(data[0]);\n                for (var i = data.length; i--;) {\n                    var r = Range.fromPoints(data[i].start, data[i].end);\n                    if (data[i].isBackwards)\n                        r.cursor = r.start;\n                    this.addRange(r, true);\n                }\n                return;\n            }\n            else {\n                data = data[0];\n            }\n        }\n        if (this.rangeList)\n            this.toSingleRange(data);\n        this.setSelectionRange(data, data.isBackwards);\n    };\n    this.isEqual = function (data) {\n        if ((data.length || this.rangeCount) && data.length != this.rangeCount)\n            return false;\n        if (!data.length || !this.ranges)\n            return this.getRange().isEqual(data);\n        for (var i = this.ranges.length; i--;) {\n            if (!this.ranges[i].isEqual(data[i]))\n                return false;\n        }\n        return true;\n    };\n}).call(Selection.prototype);\nexports.Selection = Selection;\n\n});\n\nace.define(\"ace/tokenizer\",[\"require\",\"exports\",\"module\",\"ace/config\"], function(require, exports, module){\"use strict\";\nvar config = require(\"./config\");\nvar MAX_TOKEN_COUNT = 2000;\nvar Tokenizer = function (rules) {\n    this.states = rules;\n    this.regExps = {};\n    this.matchMappings = {};\n    for (var key in this.states) {\n        var state = this.states[key];\n        var ruleRegExps = [];\n        var matchTotal = 0;\n        var mapping = this.matchMappings[key] = { defaultToken: \"text\" };\n        var flag = \"g\";\n        var splitterRurles = [];\n        for (var i = 0; i < state.length; i++) {\n            var rule = state[i];\n            if (rule.defaultToken)\n                mapping.defaultToken = rule.defaultToken;\n            if (rule.caseInsensitive && flag.indexOf(\"i\") === -1)\n                flag += \"i\";\n            if (rule.unicode && flag.indexOf(\"u\") === -1)\n                flag += \"u\";\n            if (rule.regex == null)\n                continue;\n            if (rule.regex instanceof RegExp)\n                rule.regex = rule.regex.toString().slice(1, -1);\n            var adjustedregex = rule.regex;\n            var matchcount = new RegExp(\"(?:(\" + adjustedregex + \")|(.))\").exec(\"a\").length - 2;\n            if (Array.isArray(rule.token)) {\n                if (rule.token.length == 1 || matchcount == 1) {\n                    rule.token = rule.token[0];\n                }\n                else if (matchcount - 1 != rule.token.length) {\n                    this.reportError(\"number of classes and regexp groups doesn't match\", {\n                        rule: rule,\n                        groupCount: matchcount - 1\n                    });\n                    rule.token = rule.token[0];\n                }\n                else {\n                    rule.tokenArray = rule.token;\n                    rule.token = null;\n                    rule.onMatch = this.$arrayTokens;\n                }\n            }\n            else if (typeof rule.token == \"function\" && !rule.onMatch) {\n                if (matchcount > 1)\n                    rule.onMatch = this.$applyToken;\n                else\n                    rule.onMatch = rule.token;\n            }\n            if (matchcount > 1) {\n                if (/\\\\\\d/.test(rule.regex)) {\n                    adjustedregex = rule.regex.replace(/\\\\([0-9]+)/g, function (match, digit) {\n                        return \"\\\\\" + (parseInt(digit, 10) + matchTotal + 1);\n                    });\n                }\n                else {\n                    matchcount = 1;\n                    adjustedregex = this.removeCapturingGroups(rule.regex);\n                }\n                if (!rule.splitRegex && typeof rule.token != \"string\")\n                    splitterRurles.push(rule); // flag will be known only at the very end\n            }\n            mapping[matchTotal] = i;\n            matchTotal += matchcount;\n            ruleRegExps.push(adjustedregex);\n            if (!rule.onMatch)\n                rule.onMatch = null;\n        }\n        if (!ruleRegExps.length) {\n            mapping[0] = 0;\n            ruleRegExps.push(\"$\");\n        }\n        splitterRurles.forEach(function (rule) {\n            rule.splitRegex = this.createSplitterRegexp(rule.regex, flag);\n        }, this);\n        this.regExps[key] = new RegExp(\"(\" + ruleRegExps.join(\")|(\") + \")|($)\", flag);\n    }\n};\n(function () {\n    this.$setMaxTokenCount = function (m) {\n        MAX_TOKEN_COUNT = m | 0;\n    };\n    this.$applyToken = function (str) {\n        var values = this.splitRegex.exec(str).slice(1);\n        var types = this.token.apply(this, values);\n        if (typeof types === \"string\")\n            return [{ type: types, value: str }];\n        var tokens = [];\n        for (var i = 0, l = types.length; i < l; i++) {\n            if (values[i])\n                tokens[tokens.length] = {\n                    type: types[i],\n                    value: values[i]\n                };\n        }\n        return tokens;\n    };\n    this.$arrayTokens = function (str) {\n        if (!str)\n            return [];\n        var values = this.splitRegex.exec(str);\n        if (!values)\n            return \"text\";\n        var tokens = [];\n        var types = this.tokenArray;\n        for (var i = 0, l = types.length; i < l; i++) {\n            if (values[i + 1])\n                tokens[tokens.length] = {\n                    type: types[i],\n                    value: values[i + 1]\n                };\n        }\n        return tokens;\n    };\n    this.removeCapturingGroups = function (src) {\n        var r = src.replace(/\\\\.|\\[(?:\\\\.|[^\\\\\\]])*|\\(\\?[:=!<]|(\\()/g, function (x, y) { return y ? \"(?:\" : x; });\n        return r;\n    };\n    this.createSplitterRegexp = function (src, flag) {\n        if (src.indexOf(\"(?=\") != -1) {\n            var stack = 0;\n            var inChClass = false;\n            var lastCapture = {};\n            src.replace(/(\\\\.)|(\\((?:\\?[=!])?)|(\\))|([\\[\\]])/g, function (m, esc, parenOpen, parenClose, square, index) {\n                if (inChClass) {\n                    inChClass = square != \"]\";\n                }\n                else if (square) {\n                    inChClass = true;\n                }\n                else if (parenClose) {\n                    if (stack == lastCapture.stack) {\n                        lastCapture.end = index + 1;\n                        lastCapture.stack = -1;\n                    }\n                    stack--;\n                }\n                else if (parenOpen) {\n                    stack++;\n                    if (parenOpen.length != 1) {\n                        lastCapture.stack = stack;\n                        lastCapture.start = index;\n                    }\n                }\n                return m;\n            });\n            if (lastCapture.end != null && /^\\)*$/.test(src.substr(lastCapture.end)))\n                src = src.substring(0, lastCapture.start) + src.substr(lastCapture.end);\n        }\n        if (src.charAt(0) != \"^\")\n            src = \"^\" + src;\n        if (src.charAt(src.length - 1) != \"$\")\n            src += \"$\";\n        return new RegExp(src, (flag || \"\").replace(\"g\", \"\"));\n    };\n    this.getLineTokens = function (line, startState) {\n        if (startState && typeof startState != \"string\") {\n            var stack = startState.slice(0);\n            startState = stack[0];\n            if (startState === \"#tmp\") {\n                stack.shift();\n                startState = stack.shift();\n            }\n        }\n        else\n            var stack = [];\n        var currentState = startState || \"start\";\n        var state = this.states[currentState];\n        if (!state) {\n            currentState = \"start\";\n            state = this.states[currentState];\n        }\n        var mapping = this.matchMappings[currentState];\n        var re = this.regExps[currentState];\n        re.lastIndex = 0;\n        var match, tokens = [];\n        var lastIndex = 0;\n        var matchAttempts = 0;\n        var token = { type: null, value: \"\" };\n        while (match = re.exec(line)) {\n            var type = mapping.defaultToken;\n            var rule = null;\n            var value = match[0];\n            var index = re.lastIndex;\n            if (index - value.length > lastIndex) {\n                var skipped = line.substring(lastIndex, index - value.length);\n                if (token.type == type) {\n                    token.value += skipped;\n                }\n                else {\n                    if (token.type)\n                        tokens.push(token);\n                    token = { type: type, value: skipped };\n                }\n            }\n            for (var i = 0; i < match.length - 2; i++) {\n                if (match[i + 1] === undefined)\n                    continue;\n                rule = state[mapping[i]];\n                if (rule.onMatch)\n                    type = rule.onMatch(value, currentState, stack, line);\n                else\n                    type = rule.token;\n                if (rule.next) {\n                    if (typeof rule.next == \"string\") {\n                        currentState = rule.next;\n                    }\n                    else {\n                        currentState = rule.next(currentState, stack);\n                    }\n                    state = this.states[currentState];\n                    if (!state) {\n                        this.reportError(\"state doesn't exist\", currentState);\n                        currentState = \"start\";\n                        state = this.states[currentState];\n                    }\n                    mapping = this.matchMappings[currentState];\n                    lastIndex = index;\n                    re = this.regExps[currentState];\n                    re.lastIndex = index;\n                }\n                if (rule.consumeLineEnd)\n                    lastIndex = index;\n                break;\n            }\n            if (value) {\n                if (typeof type === \"string\") {\n                    if ((!rule || rule.merge !== false) && token.type === type) {\n                        token.value += value;\n                    }\n                    else {\n                        if (token.type)\n                            tokens.push(token);\n                        token = { type: type, value: value };\n                    }\n                }\n                else if (type) {\n                    if (token.type)\n                        tokens.push(token);\n                    token = { type: null, value: \"\" };\n                    for (var i = 0; i < type.length; i++)\n                        tokens.push(type[i]);\n                }\n            }\n            if (lastIndex == line.length)\n                break;\n            lastIndex = index;\n            if (matchAttempts++ > MAX_TOKEN_COUNT) {\n                if (matchAttempts > 2 * line.length) {\n                    this.reportError(\"infinite loop with in ace tokenizer\", {\n                        startState: startState,\n                        line: line\n                    });\n                }\n                while (lastIndex < line.length) {\n                    if (token.type)\n                        tokens.push(token);\n                    token = {\n                        value: line.substring(lastIndex, lastIndex += 500),\n                        type: \"overflow\"\n                    };\n                }\n                currentState = \"start\";\n                stack = [];\n                break;\n            }\n        }\n        if (token.type)\n            tokens.push(token);\n        if (stack.length > 1) {\n            if (stack[0] !== currentState)\n                stack.unshift(\"#tmp\", currentState);\n        }\n        return {\n            tokens: tokens,\n            state: stack.length ? stack : currentState\n        };\n    };\n    this.reportError = config.reportError;\n}).call(Tokenizer.prototype);\nexports.Tokenizer = Tokenizer;\n\n});\n\nace.define(\"ace/mode/text_highlight_rules\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\"], function(require, exports, module){\"use strict\";\nvar lang = require(\"../lib/lang\");\nvar TextHighlightRules = function () {\n    this.$rules = {\n        \"start\": [{\n                token: \"empty_line\",\n                regex: '^$'\n            }, {\n                defaultToken: \"text\"\n            }]\n    };\n};\n(function () {\n    this.addRules = function (rules, prefix) {\n        if (!prefix) {\n            for (var key in rules)\n                this.$rules[key] = rules[key];\n            return;\n        }\n        for (var key in rules) {\n            var state = rules[key];\n            for (var i = 0; i < state.length; i++) {\n                var rule = state[i];\n                if (rule.next || rule.onMatch) {\n                    if (typeof rule.next == \"string\") {\n                        if (rule.next.indexOf(prefix) !== 0)\n                            rule.next = prefix + rule.next;\n                    }\n                    if (rule.nextState && rule.nextState.indexOf(prefix) !== 0)\n                        rule.nextState = prefix + rule.nextState;\n                }\n            }\n            this.$rules[prefix + key] = state;\n        }\n    };\n    this.getRules = function () {\n        return this.$rules;\n    };\n    this.embedRules = function (HighlightRules, prefix, escapeRules, states, append) {\n        var embedRules = typeof HighlightRules == \"function\"\n            ? new HighlightRules().getRules()\n            : HighlightRules;\n        if (states) {\n            for (var i = 0; i < states.length; i++)\n                states[i] = prefix + states[i];\n        }\n        else {\n            states = [];\n            for (var key in embedRules)\n                states.push(prefix + key);\n        }\n        this.addRules(embedRules, prefix);\n        if (escapeRules) {\n            var addRules = Array.prototype[append ? \"push\" : \"unshift\"];\n            for (var i = 0; i < states.length; i++)\n                addRules.apply(this.$rules[states[i]], lang.deepCopy(escapeRules));\n        }\n        if (!this.$embeds)\n            this.$embeds = [];\n        this.$embeds.push(prefix);\n    };\n    this.getEmbeds = function () {\n        return this.$embeds;\n    };\n    var pushState = function (currentState, stack) {\n        if (currentState != \"start\" || stack.length)\n            stack.unshift(this.nextState, currentState);\n        return this.nextState;\n    };\n    var popState = function (currentState, stack) {\n        stack.shift();\n        return stack.shift() || \"start\";\n    };\n    this.normalizeRules = function () {\n        var id = 0;\n        var rules = this.$rules;\n        function processState(key) {\n            var state = rules[key];\n            state.processed = true;\n            for (var i = 0; i < state.length; i++) {\n                var rule = state[i];\n                var toInsert = null;\n                if (Array.isArray(rule)) {\n                    toInsert = rule;\n                    rule = {};\n                }\n                if (!rule.regex && rule.start) {\n                    rule.regex = rule.start;\n                    if (!rule.next)\n                        rule.next = [];\n                    rule.next.push({\n                        defaultToken: rule.token\n                    }, {\n                        token: rule.token + \".end\",\n                        regex: rule.end || rule.start,\n                        next: \"pop\"\n                    });\n                    rule.token = rule.token + \".start\";\n                    rule.push = true;\n                }\n                var next = rule.next || rule.push;\n                if (next && Array.isArray(next)) {\n                    var stateName = rule.stateName;\n                    if (!stateName) {\n                        stateName = rule.token;\n                        if (typeof stateName != \"string\")\n                            stateName = stateName[0] || \"\";\n                        if (rules[stateName])\n                            stateName += id++;\n                    }\n                    rules[stateName] = next;\n                    rule.next = stateName;\n                    processState(stateName);\n                }\n                else if (next == \"pop\") {\n                    rule.next = popState;\n                }\n                if (rule.push) {\n                    rule.nextState = rule.next || rule.push;\n                    rule.next = pushState;\n                    delete rule.push;\n                }\n                if (rule.rules) {\n                    for (var r in rule.rules) {\n                        if (rules[r]) {\n                            if (rules[r].push)\n                                rules[r].push.apply(rules[r], rule.rules[r]);\n                        }\n                        else {\n                            rules[r] = rule.rules[r];\n                        }\n                    }\n                }\n                var includeName = typeof rule == \"string\" ? rule : rule.include;\n                if (includeName) {\n                    if (includeName === \"$self\")\n                        includeName = \"start\";\n                    if (Array.isArray(includeName))\n                        toInsert = includeName.map(function (x) { return rules[x]; });\n                    else\n                        toInsert = rules[includeName];\n                }\n                if (toInsert) {\n                    var args = [i, 1].concat(toInsert);\n                    if (rule.noEscape)\n                        args = args.filter(function (x) { return !x.next; });\n                    state.splice.apply(state, args);\n                    i--;\n                }\n                if (rule.keywordMap) {\n                    rule.token = this.createKeywordMapper(rule.keywordMap, rule.defaultToken || \"text\", rule.caseInsensitive);\n                    delete rule.defaultToken;\n                }\n            }\n        }\n        Object.keys(rules).forEach(processState, this);\n    };\n    this.createKeywordMapper = function (map, defaultToken, ignoreCase, splitChar) {\n        var keywords = Object.create(null);\n        this.$keywordList = [];\n        Object.keys(map).forEach(function (className) {\n            var a = map[className];\n            var list = a.split(splitChar || \"|\");\n            for (var i = list.length; i--;) {\n                var word = list[i];\n                this.$keywordList.push(word);\n                if (ignoreCase)\n                    word = word.toLowerCase();\n                keywords[word] = className;\n            }\n        }, this);\n        map = null;\n        return ignoreCase\n            ? function (value) { return keywords[value.toLowerCase()] || defaultToken; }\n            : function (value) { return keywords[value] || defaultToken; };\n    };\n    this.getKeywords = function () {\n        return this.$keywords;\n    };\n}).call(TextHighlightRules.prototype);\nexports.TextHighlightRules = TextHighlightRules;\n\n});\n\nace.define(\"ace/mode/behaviour\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nvar Behaviour = function () {\n    this.$behaviours = {};\n};\n(function () {\n    this.add = function (name, action, callback) {\n        switch (undefined) {\n            case this.$behaviours:\n                this.$behaviours = {};\n            case this.$behaviours[name]:\n                this.$behaviours[name] = {};\n        }\n        this.$behaviours[name][action] = callback;\n    };\n    this.addBehaviours = function (behaviours) {\n        for (var key in behaviours) {\n            for (var action in behaviours[key]) {\n                this.add(key, action, behaviours[key][action]);\n            }\n        }\n    };\n    this.remove = function (name) {\n        if (this.$behaviours && this.$behaviours[name]) {\n            delete this.$behaviours[name];\n        }\n    };\n    this.inherit = function (mode, filter) {\n        if (typeof mode === \"function\") {\n            var behaviours = new mode().getBehaviours(filter);\n        }\n        else {\n            var behaviours = mode.getBehaviours(filter);\n        }\n        this.addBehaviours(behaviours);\n    };\n    this.getBehaviours = function (filter) {\n        if (!filter) {\n            return this.$behaviours;\n        }\n        else {\n            var ret = {};\n            for (var i = 0; i < filter.length; i++) {\n                if (this.$behaviours[filter[i]]) {\n                    ret[filter[i]] = this.$behaviours[filter[i]];\n                }\n            }\n            return ret;\n        }\n    };\n}).call(Behaviour.prototype);\nexports.Behaviour = Behaviour;\n\n});\n\nace.define(\"ace/token_iterator\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar Range = require(\"./range\").Range;\nvar TokenIterator = function (session, initialRow, initialColumn) {\n    this.$session = session;\n    this.$row = initialRow;\n    this.$rowTokens = session.getTokens(initialRow);\n    var token = session.getTokenAt(initialRow, initialColumn);\n    this.$tokenIndex = token ? token.index : -1;\n};\n(function () {\n    this.stepBackward = function () {\n        this.$tokenIndex -= 1;\n        while (this.$tokenIndex < 0) {\n            this.$row -= 1;\n            if (this.$row < 0) {\n                this.$row = 0;\n                return null;\n            }\n            this.$rowTokens = this.$session.getTokens(this.$row);\n            this.$tokenIndex = this.$rowTokens.length - 1;\n        }\n        return this.$rowTokens[this.$tokenIndex];\n    };\n    this.stepForward = function () {\n        this.$tokenIndex += 1;\n        var rowCount;\n        while (this.$tokenIndex >= this.$rowTokens.length) {\n            this.$row += 1;\n            if (!rowCount)\n                rowCount = this.$session.getLength();\n            if (this.$row >= rowCount) {\n                this.$row = rowCount - 1;\n                return null;\n            }\n            this.$rowTokens = this.$session.getTokens(this.$row);\n            this.$tokenIndex = 0;\n        }\n        return this.$rowTokens[this.$tokenIndex];\n    };\n    this.getCurrentToken = function () {\n        return this.$rowTokens[this.$tokenIndex];\n    };\n    this.getCurrentTokenRow = function () {\n        return this.$row;\n    };\n    this.getCurrentTokenColumn = function () {\n        var rowTokens = this.$rowTokens;\n        var tokenIndex = this.$tokenIndex;\n        var column = rowTokens[tokenIndex].start;\n        if (column !== undefined)\n            return column;\n        column = 0;\n        while (tokenIndex > 0) {\n            tokenIndex -= 1;\n            column += rowTokens[tokenIndex].value.length;\n        }\n        return column;\n    };\n    this.getCurrentTokenPosition = function () {\n        return { row: this.$row, column: this.getCurrentTokenColumn() };\n    };\n    this.getCurrentTokenRange = function () {\n        var token = this.$rowTokens[this.$tokenIndex];\n        var column = this.getCurrentTokenColumn();\n        return new Range(this.$row, column, this.$row, column + token.value.length);\n    };\n}).call(TokenIterator.prototype);\nexports.TokenIterator = TokenIterator;\n\n});\n\nace.define(\"ace/mode/behaviour/cstyle\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/behaviour\",\"ace/token_iterator\",\"ace/lib/lang\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"../../lib/oop\");\nvar Behaviour = require(\"../behaviour\").Behaviour;\nvar TokenIterator = require(\"../../token_iterator\").TokenIterator;\nvar lang = require(\"../../lib/lang\");\nvar SAFE_INSERT_IN_TOKENS = [\"text\", \"paren.rparen\", \"rparen\", \"paren\", \"punctuation.operator\"];\nvar SAFE_INSERT_BEFORE_TOKENS = [\"text\", \"paren.rparen\", \"rparen\", \"paren\", \"punctuation.operator\", \"comment\"];\nvar context;\nvar contextCache = {};\nvar defaultQuotes = { '\"': '\"', \"'\": \"'\" };\nvar initContext = function (editor) {\n    var id = -1;\n    if (editor.multiSelect) {\n        id = editor.selection.index;\n        if (contextCache.rangeCount != editor.multiSelect.rangeCount)\n            contextCache = { rangeCount: editor.multiSelect.rangeCount };\n    }\n    if (contextCache[id])\n        return context = contextCache[id];\n    context = contextCache[id] = {\n        autoInsertedBrackets: 0,\n        autoInsertedRow: -1,\n        autoInsertedLineEnd: \"\",\n        maybeInsertedBrackets: 0,\n        maybeInsertedRow: -1,\n        maybeInsertedLineStart: \"\",\n        maybeInsertedLineEnd: \"\"\n    };\n};\nvar getWrapped = function (selection, selected, opening, closing) {\n    var rowDiff = selection.end.row - selection.start.row;\n    return {\n        text: opening + selected + closing,\n        selection: [\n            0,\n            selection.start.column + 1,\n            rowDiff,\n            selection.end.column + (rowDiff ? 0 : 1)\n        ]\n    };\n};\nvar CstyleBehaviour = function (options) {\n    this.add(\"braces\", \"insertion\", function (state, action, editor, session, text) {\n        var cursor = editor.getCursorPosition();\n        var line = session.doc.getLine(cursor.row);\n        if (text == '{') {\n            initContext(editor);\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && selected !== \"{\" && editor.getWrapBehavioursEnabled()) {\n                return getWrapped(selection, selected, '{', '}');\n            }\n            else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                if (/[\\]\\}\\)]/.test(line[cursor.column]) || editor.inMultiSelectMode || options && options.braces) {\n                    CstyleBehaviour.recordAutoInsert(editor, session, \"}\");\n                    return {\n                        text: '{}',\n                        selection: [1, 1]\n                    };\n                }\n                else {\n                    CstyleBehaviour.recordMaybeInsert(editor, session, \"{\");\n                    return {\n                        text: '{',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        }\n        else if (text == '}') {\n            initContext(editor);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar == '}') {\n                var matching = session.$findOpeningBracket('}', { column: cursor.column + 1, row: cursor.row });\n                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                    CstyleBehaviour.popAutoInsertedClosing();\n                    return {\n                        text: '',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        }\n        else if (text == \"\\n\" || text == \"\\r\\n\") {\n            initContext(editor);\n            var closing = \"\";\n            if (CstyleBehaviour.isMaybeInsertedClosing(cursor, line)) {\n                closing = lang.stringRepeat(\"}\", context.maybeInsertedBrackets);\n                CstyleBehaviour.clearMaybeInsertedClosing();\n            }\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar === '}') {\n                var openBracePos = session.findMatchingBracket({ row: cursor.row, column: cursor.column + 1 }, '}');\n                if (!openBracePos)\n                    return null;\n                var next_indent = this.$getIndent(session.getLine(openBracePos.row));\n            }\n            else if (closing) {\n                var next_indent = this.$getIndent(line);\n            }\n            else {\n                CstyleBehaviour.clearMaybeInsertedClosing();\n                return;\n            }\n            var indent = next_indent + session.getTabString();\n            return {\n                text: '\\n' + indent + '\\n' + next_indent + closing,\n                selection: [1, indent.length, 1, indent.length]\n            };\n        }\n        else {\n            CstyleBehaviour.clearMaybeInsertedClosing();\n        }\n    });\n    this.add(\"braces\", \"deletion\", function (state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected == '{') {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.end.column, range.end.column + 1);\n            if (rightChar == '}') {\n                range.end.column++;\n                return range;\n            }\n            else {\n                context.maybeInsertedBrackets--;\n            }\n        }\n    });\n    this.add(\"parens\", \"insertion\", function (state, action, editor, session, text) {\n        if (text == '(') {\n            initContext(editor);\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && editor.getWrapBehavioursEnabled()) {\n                return getWrapped(selection, selected, '(', ')');\n            }\n            else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                CstyleBehaviour.recordAutoInsert(editor, session, \")\");\n                return {\n                    text: '()',\n                    selection: [1, 1]\n                };\n            }\n        }\n        else if (text == ')') {\n            initContext(editor);\n            var cursor = editor.getCursorPosition();\n            var line = session.doc.getLine(cursor.row);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar == ')') {\n                var matching = session.$findOpeningBracket(')', { column: cursor.column + 1, row: cursor.row });\n                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                    CstyleBehaviour.popAutoInsertedClosing();\n                    return {\n                        text: '',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        }\n    });\n    this.add(\"parens\", \"deletion\", function (state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected == '(') {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n            if (rightChar == ')') {\n                range.end.column++;\n                return range;\n            }\n        }\n    });\n    this.add(\"brackets\", \"insertion\", function (state, action, editor, session, text) {\n        if (text == '[') {\n            initContext(editor);\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && editor.getWrapBehavioursEnabled()) {\n                return getWrapped(selection, selected, '[', ']');\n            }\n            else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                CstyleBehaviour.recordAutoInsert(editor, session, \"]\");\n                return {\n                    text: '[]',\n                    selection: [1, 1]\n                };\n            }\n        }\n        else if (text == ']') {\n            initContext(editor);\n            var cursor = editor.getCursorPosition();\n            var line = session.doc.getLine(cursor.row);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar == ']') {\n                var matching = session.$findOpeningBracket(']', { column: cursor.column + 1, row: cursor.row });\n                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                    CstyleBehaviour.popAutoInsertedClosing();\n                    return {\n                        text: '',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        }\n    });\n    this.add(\"brackets\", \"deletion\", function (state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected == '[') {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n            if (rightChar == ']') {\n                range.end.column++;\n                return range;\n            }\n        }\n    });\n    this.add(\"string_dquotes\", \"insertion\", function (state, action, editor, session, text) {\n        var quotes = session.$mode.$quotes || defaultQuotes;\n        if (text.length == 1 && quotes[text]) {\n            if (this.lineCommentStart && this.lineCommentStart.indexOf(text) != -1)\n                return;\n            initContext(editor);\n            var quote = text;\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && (selected.length != 1 || !quotes[selected]) && editor.getWrapBehavioursEnabled()) {\n                return getWrapped(selection, selected, quote, quote);\n            }\n            else if (!selected) {\n                var cursor = editor.getCursorPosition();\n                var line = session.doc.getLine(cursor.row);\n                var leftChar = line.substring(cursor.column - 1, cursor.column);\n                var rightChar = line.substring(cursor.column, cursor.column + 1);\n                var token = session.getTokenAt(cursor.row, cursor.column);\n                var rightToken = session.getTokenAt(cursor.row, cursor.column + 1);\n                if (leftChar == \"\\\\\" && token && /escape/.test(token.type))\n                    return null;\n                var stringBefore = token && /string|escape/.test(token.type);\n                var stringAfter = !rightToken || /string|escape/.test(rightToken.type);\n                var pair;\n                if (rightChar == quote) {\n                    pair = stringBefore !== stringAfter;\n                    if (pair && /string\\.end/.test(rightToken.type))\n                        pair = false;\n                }\n                else {\n                    if (stringBefore && !stringAfter)\n                        return null; // wrap string with different quote\n                    if (stringBefore && stringAfter)\n                        return null; // do not pair quotes inside strings\n                    var wordRe = session.$mode.tokenRe;\n                    wordRe.lastIndex = 0;\n                    var isWordBefore = wordRe.test(leftChar);\n                    wordRe.lastIndex = 0;\n                    var isWordAfter = wordRe.test(rightChar);\n                    var pairQuotesAfter = session.$mode.$pairQuotesAfter;\n                    var shouldPairQuotes = pairQuotesAfter && pairQuotesAfter[quote] && pairQuotesAfter[quote].test(leftChar);\n                    if ((!shouldPairQuotes && isWordBefore) || isWordAfter)\n                        return null; // before or after alphanumeric\n                    if (rightChar && !/[\\s;,.})\\]\\\\]/.test(rightChar))\n                        return null; // there is rightChar and it isn't closing\n                    var charBefore = line[cursor.column - 2];\n                    if (leftChar == quote && (charBefore == quote || wordRe.test(charBefore)))\n                        return null;\n                    pair = true;\n                }\n                return {\n                    text: pair ? quote + quote : \"\",\n                    selection: [1, 1]\n                };\n            }\n        }\n    });\n    this.add(\"string_dquotes\", \"deletion\", function (state, action, editor, session, range) {\n        var quotes = session.$mode.$quotes || defaultQuotes;\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && quotes.hasOwnProperty(selected)) {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n            if (rightChar == selected) {\n                range.end.column++;\n                return range;\n            }\n        }\n    });\n};\nCstyleBehaviour.isSaneInsertion = function (editor, session) {\n    var cursor = editor.getCursorPosition();\n    var iterator = new TokenIterator(session, cursor.row, cursor.column);\n    if (!this.$matchTokenType(iterator.getCurrentToken() || \"text\", SAFE_INSERT_IN_TOKENS)) {\n        if (/[)}\\]]/.test(editor.session.getLine(cursor.row)[cursor.column]))\n            return true;\n        var iterator2 = new TokenIterator(session, cursor.row, cursor.column + 1);\n        if (!this.$matchTokenType(iterator2.getCurrentToken() || \"text\", SAFE_INSERT_IN_TOKENS))\n            return false;\n    }\n    iterator.stepForward();\n    return iterator.getCurrentTokenRow() !== cursor.row ||\n        this.$matchTokenType(iterator.getCurrentToken() || \"text\", SAFE_INSERT_BEFORE_TOKENS);\n};\nCstyleBehaviour.$matchTokenType = function (token, types) {\n    return types.indexOf(token.type || token) > -1;\n};\nCstyleBehaviour.recordAutoInsert = function (editor, session, bracket) {\n    var cursor = editor.getCursorPosition();\n    var line = session.doc.getLine(cursor.row);\n    if (!this.isAutoInsertedClosing(cursor, line, context.autoInsertedLineEnd[0]))\n        context.autoInsertedBrackets = 0;\n    context.autoInsertedRow = cursor.row;\n    context.autoInsertedLineEnd = bracket + line.substr(cursor.column);\n    context.autoInsertedBrackets++;\n};\nCstyleBehaviour.recordMaybeInsert = function (editor, session, bracket) {\n    var cursor = editor.getCursorPosition();\n    var line = session.doc.getLine(cursor.row);\n    if (!this.isMaybeInsertedClosing(cursor, line))\n        context.maybeInsertedBrackets = 0;\n    context.maybeInsertedRow = cursor.row;\n    context.maybeInsertedLineStart = line.substr(0, cursor.column) + bracket;\n    context.maybeInsertedLineEnd = line.substr(cursor.column);\n    context.maybeInsertedBrackets++;\n};\nCstyleBehaviour.isAutoInsertedClosing = function (cursor, line, bracket) {\n    return context.autoInsertedBrackets > 0 &&\n        cursor.row === context.autoInsertedRow &&\n        bracket === context.autoInsertedLineEnd[0] &&\n        line.substr(cursor.column) === context.autoInsertedLineEnd;\n};\nCstyleBehaviour.isMaybeInsertedClosing = function (cursor, line) {\n    return context.maybeInsertedBrackets > 0 &&\n        cursor.row === context.maybeInsertedRow &&\n        line.substr(cursor.column) === context.maybeInsertedLineEnd &&\n        line.substr(0, cursor.column) == context.maybeInsertedLineStart;\n};\nCstyleBehaviour.popAutoInsertedClosing = function () {\n    context.autoInsertedLineEnd = context.autoInsertedLineEnd.substr(1);\n    context.autoInsertedBrackets--;\n};\nCstyleBehaviour.clearMaybeInsertedClosing = function () {\n    if (context) {\n        context.maybeInsertedBrackets = 0;\n        context.maybeInsertedRow = -1;\n    }\n};\noop.inherits(CstyleBehaviour, Behaviour);\nexports.CstyleBehaviour = CstyleBehaviour;\n\n});\n\nace.define(\"ace/unicode\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nvar wordChars = [48, 9, 8, 25, 5, 0, 2, 25, 48, 0, 11, 0, 5, 0, 6, 22, 2, 30, 2, 457, 5, 11, 15, 4, 8, 0, 2, 0, 18, 116, 2, 1, 3, 3, 9, 0, 2, 2, 2, 0, 2, 19, 2, 82, 2, 138, 2, 4, 3, 155, 12, 37, 3, 0, 8, 38, 10, 44, 2, 0, 2, 1, 2, 1, 2, 0, 9, 26, 6, 2, 30, 10, 7, 61, 2, 9, 5, 101, 2, 7, 3, 9, 2, 18, 3, 0, 17, 58, 3, 100, 15, 53, 5, 0, 6, 45, 211, 57, 3, 18, 2, 5, 3, 11, 3, 9, 2, 1, 7, 6, 2, 2, 2, 7, 3, 1, 3, 21, 2, 6, 2, 0, 4, 3, 3, 8, 3, 1, 3, 3, 9, 0, 5, 1, 2, 4, 3, 11, 16, 2, 2, 5, 5, 1, 3, 21, 2, 6, 2, 1, 2, 1, 2, 1, 3, 0, 2, 4, 5, 1, 3, 2, 4, 0, 8, 3, 2, 0, 8, 15, 12, 2, 2, 8, 2, 2, 2, 21, 2, 6, 2, 1, 2, 4, 3, 9, 2, 2, 2, 2, 3, 0, 16, 3, 3, 9, 18, 2, 2, 7, 3, 1, 3, 21, 2, 6, 2, 1, 2, 4, 3, 8, 3, 1, 3, 2, 9, 1, 5, 1, 2, 4, 3, 9, 2, 0, 17, 1, 2, 5, 4, 2, 2, 3, 4, 1, 2, 0, 2, 1, 4, 1, 4, 2, 4, 11, 5, 4, 4, 2, 2, 3, 3, 0, 7, 0, 15, 9, 18, 2, 2, 7, 2, 2, 2, 22, 2, 9, 2, 4, 4, 7, 2, 2, 2, 3, 8, 1, 2, 1, 7, 3, 3, 9, 19, 1, 2, 7, 2, 2, 2, 22, 2, 9, 2, 4, 3, 8, 2, 2, 2, 3, 8, 1, 8, 0, 2, 3, 3, 9, 19, 1, 2, 7, 2, 2, 2, 22, 2, 15, 4, 7, 2, 2, 2, 3, 10, 0, 9, 3, 3, 9, 11, 5, 3, 1, 2, 17, 4, 23, 2, 8, 2, 0, 3, 6, 4, 0, 5, 5, 2, 0, 2, 7, 19, 1, 14, 57, 6, 14, 2, 9, 40, 1, 2, 0, 3, 1, 2, 0, 3, 0, 7, 3, 2, 6, 2, 2, 2, 0, 2, 0, 3, 1, 2, 12, 2, 2, 3, 4, 2, 0, 2, 5, 3, 9, 3, 1, 35, 0, 24, 1, 7, 9, 12, 0, 2, 0, 2, 0, 5, 9, 2, 35, 5, 19, 2, 5, 5, 7, 2, 35, 10, 0, 58, 73, 7, 77, 3, 37, 11, 42, 2, 0, 4, 328, 2, 3, 3, 6, 2, 0, 2, 3, 3, 40, 2, 3, 3, 32, 2, 3, 3, 6, 2, 0, 2, 3, 3, 14, 2, 56, 2, 3, 3, 66, 5, 0, 33, 15, 17, 84, 13, 619, 3, 16, 2, 25, 6, 74, 22, 12, 2, 6, 12, 20, 12, 19, 13, 12, 2, 2, 2, 1, 13, 51, 3, 29, 4, 0, 5, 1, 3, 9, 34, 2, 3, 9, 7, 87, 9, 42, 6, 69, 11, 28, 4, 11, 5, 11, 11, 39, 3, 4, 12, 43, 5, 25, 7, 10, 38, 27, 5, 62, 2, 28, 3, 10, 7, 9, 14, 0, 89, 75, 5, 9, 18, 8, 13, 42, 4, 11, 71, 55, 9, 9, 4, 48, 83, 2, 2, 30, 14, 230, 23, 280, 3, 5, 3, 37, 3, 5, 3, 7, 2, 0, 2, 0, 2, 0, 2, 30, 3, 52, 2, 6, 2, 0, 4, 2, 2, 6, 4, 3, 3, 5, 5, 12, 6, 2, 2, 6, 67, 1, 20, 0, 29, 0, 14, 0, 17, 4, 60, 12, 5, 0, 4, 11, 18, 0, 5, 0, 3, 9, 2, 0, 4, 4, 7, 0, 2, 0, 2, 0, 2, 3, 2, 10, 3, 3, 6, 4, 5, 0, 53, 1, 2684, 46, 2, 46, 2, 132, 7, 6, 15, 37, 11, 53, 10, 0, 17, 22, 10, 6, 2, 6, 2, 6, 2, 6, 2, 6, 2, 6, 2, 6, 2, 6, 2, 31, 48, 0, 470, 1, 36, 5, 2, 4, 6, 1, 5, 85, 3, 1, 3, 2, 2, 89, 2, 3, 6, 40, 4, 93, 18, 23, 57, 15, 513, 6581, 75, 20939, 53, 1164, 68, 45, 3, 268, 4, 27, 21, 31, 3, 13, 13, 1, 2, 24, 9, 69, 11, 1, 38, 8, 3, 102, 3, 1, 111, 44, 25, 51, 13, 68, 12, 9, 7, 23, 4, 0, 5, 45, 3, 35, 13, 28, 4, 64, 15, 10, 39, 54, 10, 13, 3, 9, 7, 22, 4, 1, 5, 66, 25, 2, 227, 42, 2, 1, 3, 9, 7, 11171, 13, 22, 5, 48, 8453, 301, 3, 61, 3, 105, 39, 6, 13, 4, 6, 11, 2, 12, 2, 4, 2, 0, 2, 1, 2, 1, 2, 107, 34, 362, 19, 63, 3, 53, 41, 11, 5, 15, 17, 6, 13, 1, 25, 2, 33, 4, 2, 134, 20, 9, 8, 25, 5, 0, 2, 25, 12, 88, 4, 5, 3, 5, 3, 5, 3, 2];\nvar code = 0;\nvar str = [];\nfor (var i = 0; i < wordChars.length; i += 2) {\n    str.push(code += wordChars[i]);\n    if (wordChars[i + 1])\n        str.push(45, code += wordChars[i + 1]);\n}\nexports.wordChars = String.fromCharCode.apply(null, str);\n\n});\n\nace.define(\"ace/mode/text\",[\"require\",\"exports\",\"module\",\"ace/config\",\"ace/tokenizer\",\"ace/mode/text_highlight_rules\",\"ace/mode/behaviour/cstyle\",\"ace/unicode\",\"ace/lib/lang\",\"ace/token_iterator\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar config = require(\"../config\");\nvar Tokenizer = require(\"../tokenizer\").Tokenizer;\nvar TextHighlightRules = require(\"./text_highlight_rules\").TextHighlightRules;\nvar CstyleBehaviour = require(\"./behaviour/cstyle\").CstyleBehaviour;\nvar unicode = require(\"../unicode\");\nvar lang = require(\"../lib/lang\");\nvar TokenIterator = require(\"../token_iterator\").TokenIterator;\nvar Range = require(\"../range\").Range;\nvar Mode = function () {\n    this.HighlightRules = TextHighlightRules;\n};\n(function () {\n    this.$defaultBehaviour = new CstyleBehaviour();\n    this.tokenRe = new RegExp(\"^[\" + unicode.wordChars + \"\\\\$_]+\", \"g\");\n    this.nonTokenRe = new RegExp(\"^(?:[^\" + unicode.wordChars + \"\\\\$_]|\\\\s])+\", \"g\");\n    this.getTokenizer = function () {\n        if (!this.$tokenizer) {\n            this.$highlightRules = this.$highlightRules || new this.HighlightRules(this.$highlightRuleConfig);\n            this.$tokenizer = new Tokenizer(this.$highlightRules.getRules());\n        }\n        return this.$tokenizer;\n    };\n    this.lineCommentStart = \"\";\n    this.blockComment = \"\";\n    this.toggleCommentLines = function (state, session, startRow, endRow) {\n        var doc = session.doc;\n        var ignoreBlankLines = true;\n        var shouldRemove = true;\n        var minIndent = Infinity;\n        var tabSize = session.getTabSize();\n        var insertAtTabStop = false;\n        if (!this.lineCommentStart) {\n            if (!this.blockComment)\n                return false;\n            var lineCommentStart = this.blockComment.start;\n            var lineCommentEnd = this.blockComment.end;\n            var regexpStart = new RegExp(\"^(\\\\s*)(?:\" + lang.escapeRegExp(lineCommentStart) + \")\");\n            var regexpEnd = new RegExp(\"(?:\" + lang.escapeRegExp(lineCommentEnd) + \")\\\\s*$\");\n            var comment = function (line, i) {\n                if (testRemove(line, i))\n                    return;\n                if (!ignoreBlankLines || /\\S/.test(line)) {\n                    doc.insertInLine({ row: i, column: line.length }, lineCommentEnd);\n                    doc.insertInLine({ row: i, column: minIndent }, lineCommentStart);\n                }\n            };\n            var uncomment = function (line, i) {\n                var m;\n                if (m = line.match(regexpEnd))\n                    doc.removeInLine(i, line.length - m[0].length, line.length);\n                if (m = line.match(regexpStart))\n                    doc.removeInLine(i, m[1].length, m[0].length);\n            };\n            var testRemove = function (line, row) {\n                if (regexpStart.test(line))\n                    return true;\n                var tokens = session.getTokens(row);\n                for (var i = 0; i < tokens.length; i++) {\n                    if (tokens[i].type === \"comment\")\n                        return true;\n                }\n            };\n        }\n        else {\n            if (Array.isArray(this.lineCommentStart)) {\n                var regexpStart = this.lineCommentStart.map(lang.escapeRegExp).join(\"|\");\n                var lineCommentStart = this.lineCommentStart[0];\n            }\n            else {\n                var regexpStart = lang.escapeRegExp(this.lineCommentStart);\n                var lineCommentStart = this.lineCommentStart;\n            }\n            regexpStart = new RegExp(\"^(\\\\s*)(?:\" + regexpStart + \") ?\");\n            insertAtTabStop = session.getUseSoftTabs();\n            var uncomment = function (line, i) {\n                var m = line.match(regexpStart);\n                if (!m)\n                    return;\n                var start = m[1].length, end = m[0].length;\n                if (!shouldInsertSpace(line, start, end) && m[0][end - 1] == \" \")\n                    end--;\n                doc.removeInLine(i, start, end);\n            };\n            var commentWithSpace = lineCommentStart + \" \";\n            var comment = function (line, i) {\n                if (!ignoreBlankLines || /\\S/.test(line)) {\n                    if (shouldInsertSpace(line, minIndent, minIndent))\n                        doc.insertInLine({ row: i, column: minIndent }, commentWithSpace);\n                    else\n                        doc.insertInLine({ row: i, column: minIndent }, lineCommentStart);\n                }\n            };\n            var testRemove = function (line, i) {\n                return regexpStart.test(line);\n            };\n            var shouldInsertSpace = function (line, before, after) {\n                var spaces = 0;\n                while (before-- && line.charAt(before) == \" \")\n                    spaces++;\n                if (spaces % tabSize != 0)\n                    return false;\n                var spaces = 0;\n                while (line.charAt(after++) == \" \")\n                    spaces++;\n                if (tabSize > 2)\n                    return spaces % tabSize != tabSize - 1;\n                else\n                    return spaces % tabSize == 0;\n            };\n        }\n        function iter(fun) {\n            for (var i = startRow; i <= endRow; i++)\n                fun(doc.getLine(i), i);\n        }\n        var minEmptyLength = Infinity;\n        iter(function (line, i) {\n            var indent = line.search(/\\S/);\n            if (indent !== -1) {\n                if (indent < minIndent)\n                    minIndent = indent;\n                if (shouldRemove && !testRemove(line, i))\n                    shouldRemove = false;\n            }\n            else if (minEmptyLength > line.length) {\n                minEmptyLength = line.length;\n            }\n        });\n        if (minIndent == Infinity) {\n            minIndent = minEmptyLength;\n            ignoreBlankLines = false;\n            shouldRemove = false;\n        }\n        if (insertAtTabStop && minIndent % tabSize != 0)\n            minIndent = Math.floor(minIndent / tabSize) * tabSize;\n        iter(shouldRemove ? uncomment : comment);\n    };\n    this.toggleBlockComment = function (state, session, range, cursor) {\n        var comment = this.blockComment;\n        if (!comment)\n            return;\n        if (!comment.start && comment[0])\n            comment = comment[0];\n        var iterator = new TokenIterator(session, cursor.row, cursor.column);\n        var token = iterator.getCurrentToken();\n        var sel = session.selection;\n        var initialRange = session.selection.toOrientedRange();\n        var startRow, colDiff;\n        if (token && /comment/.test(token.type)) {\n            var startRange, endRange;\n            while (token && /comment/.test(token.type)) {\n                var i = token.value.indexOf(comment.start);\n                if (i != -1) {\n                    var row = iterator.getCurrentTokenRow();\n                    var column = iterator.getCurrentTokenColumn() + i;\n                    startRange = new Range(row, column, row, column + comment.start.length);\n                    break;\n                }\n                token = iterator.stepBackward();\n            }\n            var iterator = new TokenIterator(session, cursor.row, cursor.column);\n            var token = iterator.getCurrentToken();\n            while (token && /comment/.test(token.type)) {\n                var i = token.value.indexOf(comment.end);\n                if (i != -1) {\n                    var row = iterator.getCurrentTokenRow();\n                    var column = iterator.getCurrentTokenColumn() + i;\n                    endRange = new Range(row, column, row, column + comment.end.length);\n                    break;\n                }\n                token = iterator.stepForward();\n            }\n            if (endRange)\n                session.remove(endRange);\n            if (startRange) {\n                session.remove(startRange);\n                startRow = startRange.start.row;\n                colDiff = -comment.start.length;\n            }\n        }\n        else {\n            colDiff = comment.start.length;\n            startRow = range.start.row;\n            session.insert(range.end, comment.end);\n            session.insert(range.start, comment.start);\n        }\n        if (initialRange.start.row == startRow)\n            initialRange.start.column += colDiff;\n        if (initialRange.end.row == startRow)\n            initialRange.end.column += colDiff;\n        session.selection.fromOrientedRange(initialRange);\n    };\n    this.getNextLineIndent = function (state, line, tab) {\n        return this.$getIndent(line);\n    };\n    this.checkOutdent = function (state, line, input) {\n        return false;\n    };\n    this.autoOutdent = function (state, doc, row) {\n    };\n    this.$getIndent = function (line) {\n        return line.match(/^\\s*/)[0];\n    };\n    this.createWorker = function (session) {\n        return null;\n    };\n    this.createModeDelegates = function (mapping) {\n        this.$embeds = [];\n        this.$modes = {};\n        for (var i in mapping) {\n            if (mapping[i]) {\n                var Mode = mapping[i];\n                var id = Mode.prototype.$id;\n                var mode = config.$modes[id];\n                if (!mode)\n                    config.$modes[id] = mode = new Mode();\n                if (!config.$modes[i])\n                    config.$modes[i] = mode;\n                this.$embeds.push(i);\n                this.$modes[i] = mode;\n            }\n        }\n        var delegations = [\"toggleBlockComment\", \"toggleCommentLines\", \"getNextLineIndent\",\n            \"checkOutdent\", \"autoOutdent\", \"transformAction\", \"getCompletions\"];\n        for (var i = 0; i < delegations.length; i++) {\n            (function (scope) {\n                var functionName = delegations[i];\n                var defaultHandler = scope[functionName];\n                scope[delegations[i]] = function () {\n                    return this.$delegator(functionName, arguments, defaultHandler);\n                };\n            }(this));\n        }\n    };\n    this.$delegator = function (method, args, defaultHandler) {\n        var state = args[0] || \"start\";\n        if (typeof state != \"string\") {\n            if (Array.isArray(state[2])) {\n                var language = state[2][state[2].length - 1];\n                var mode = this.$modes[language];\n                if (mode)\n                    return mode[method].apply(mode, [state[1]].concat([].slice.call(args, 1)));\n            }\n            state = state[0] || \"start\";\n        }\n        for (var i = 0; i < this.$embeds.length; i++) {\n            if (!this.$modes[this.$embeds[i]])\n                continue;\n            var split = state.split(this.$embeds[i]);\n            if (!split[0] && split[1]) {\n                args[0] = split[1];\n                var mode = this.$modes[this.$embeds[i]];\n                return mode[method].apply(mode, args);\n            }\n        }\n        var ret = defaultHandler.apply(this, args);\n        return defaultHandler ? ret : undefined;\n    };\n    this.transformAction = function (state, action, editor, session, param) {\n        if (this.$behaviour) {\n            var behaviours = this.$behaviour.getBehaviours();\n            for (var key in behaviours) {\n                if (behaviours[key][action]) {\n                    var ret = behaviours[key][action].apply(this, arguments);\n                    if (ret) {\n                        return ret;\n                    }\n                }\n            }\n        }\n    };\n    this.getKeywords = function (append) {\n        if (!this.completionKeywords) {\n            var rules = this.$tokenizer.rules;\n            var completionKeywords = [];\n            for (var rule in rules) {\n                var ruleItr = rules[rule];\n                for (var r = 0, l = ruleItr.length; r < l; r++) {\n                    if (typeof ruleItr[r].token === \"string\") {\n                        if (/keyword|support|storage/.test(ruleItr[r].token))\n                            completionKeywords.push(ruleItr[r].regex);\n                    }\n                    else if (typeof ruleItr[r].token === \"object\") {\n                        for (var a = 0, aLength = ruleItr[r].token.length; a < aLength; a++) {\n                            if (/keyword|support|storage/.test(ruleItr[r].token[a])) {\n                                var rule = ruleItr[r].regex.match(/\\(.+?\\)/g)[a];\n                                completionKeywords.push(rule.substr(1, rule.length - 2));\n                            }\n                        }\n                    }\n                }\n            }\n            this.completionKeywords = completionKeywords;\n        }\n        if (!append)\n            return this.$keywordList;\n        return completionKeywords.concat(this.$keywordList || []);\n    };\n    this.$createKeywordList = function () {\n        if (!this.$highlightRules)\n            this.getTokenizer();\n        return this.$keywordList = this.$highlightRules.$keywordList || [];\n    };\n    this.getCompletions = function (state, session, pos, prefix) {\n        var keywords = this.$keywordList || this.$createKeywordList();\n        return keywords.map(function (word) {\n            return {\n                name: word,\n                value: word,\n                score: 0,\n                meta: \"keyword\"\n            };\n        });\n    };\n    this.$id = \"ace/mode/text\";\n}).call(Mode.prototype);\nexports.Mode = Mode;\n\n});\n\nace.define(\"ace/apply_delta\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nfunction throwDeltaError(delta, errorText) {\n    console.log(\"Invalid Delta:\", delta);\n    throw \"Invalid Delta: \" + errorText;\n}\nfunction positionInDocument(docLines, position) {\n    return position.row >= 0 && position.row < docLines.length &&\n        position.column >= 0 && position.column <= docLines[position.row].length;\n}\nfunction validateDelta(docLines, delta) {\n    if (delta.action != \"insert\" && delta.action != \"remove\")\n        throwDeltaError(delta, \"delta.action must be 'insert' or 'remove'\");\n    if (!(delta.lines instanceof Array))\n        throwDeltaError(delta, \"delta.lines must be an Array\");\n    if (!delta.start || !delta.end)\n        throwDeltaError(delta, \"delta.start/end must be an present\");\n    var start = delta.start;\n    if (!positionInDocument(docLines, delta.start))\n        throwDeltaError(delta, \"delta.start must be contained in document\");\n    var end = delta.end;\n    if (delta.action == \"remove\" && !positionInDocument(docLines, end))\n        throwDeltaError(delta, \"delta.end must contained in document for 'remove' actions\");\n    var numRangeRows = end.row - start.row;\n    var numRangeLastLineChars = (end.column - (numRangeRows == 0 ? start.column : 0));\n    if (numRangeRows != delta.lines.length - 1 || delta.lines[numRangeRows].length != numRangeLastLineChars)\n        throwDeltaError(delta, \"delta.range must match delta lines\");\n}\nexports.applyDelta = function (docLines, delta, doNotValidate) {\n    var row = delta.start.row;\n    var startColumn = delta.start.column;\n    var line = docLines[row] || \"\";\n    switch (delta.action) {\n        case \"insert\":\n            var lines = delta.lines;\n            if (lines.length === 1) {\n                docLines[row] = line.substring(0, startColumn) + delta.lines[0] + line.substring(startColumn);\n            }\n            else {\n                var args = [row, 1].concat(delta.lines);\n                docLines.splice.apply(docLines, args);\n                docLines[row] = line.substring(0, startColumn) + docLines[row];\n                docLines[row + delta.lines.length - 1] += line.substring(startColumn);\n            }\n            break;\n        case \"remove\":\n            var endColumn = delta.end.column;\n            var endRow = delta.end.row;\n            if (row === endRow) {\n                docLines[row] = line.substring(0, startColumn) + line.substring(endColumn);\n            }\n            else {\n                docLines.splice(row, endRow - row + 1, line.substring(0, startColumn) + docLines[endRow].substring(endColumn));\n            }\n            break;\n    }\n};\n\n});\n\nace.define(\"ace/anchor\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"./lib/oop\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Anchor = exports.Anchor = function (doc, row, column) {\n    this.$onChange = this.onChange.bind(this);\n    this.attach(doc);\n    if (typeof column == \"undefined\")\n        this.setPosition(row.row, row.column);\n    else\n        this.setPosition(row, column);\n};\n(function () {\n    oop.implement(this, EventEmitter);\n    this.getPosition = function () {\n        return this.$clipPositionToDocument(this.row, this.column);\n    };\n    this.getDocument = function () {\n        return this.document;\n    };\n    this.$insertRight = false;\n    this.onChange = function (delta) {\n        if (delta.start.row == delta.end.row && delta.start.row != this.row)\n            return;\n        if (delta.start.row > this.row)\n            return;\n        var point = $getTransformedPoint(delta, { row: this.row, column: this.column }, this.$insertRight);\n        this.setPosition(point.row, point.column, true);\n    };\n    function $pointsInOrder(point1, point2, equalPointsInOrder) {\n        var bColIsAfter = equalPointsInOrder ? point1.column <= point2.column : point1.column < point2.column;\n        return (point1.row < point2.row) || (point1.row == point2.row && bColIsAfter);\n    }\n    function $getTransformedPoint(delta, point, moveIfEqual) {\n        var deltaIsInsert = delta.action == \"insert\";\n        var deltaRowShift = (deltaIsInsert ? 1 : -1) * (delta.end.row - delta.start.row);\n        var deltaColShift = (deltaIsInsert ? 1 : -1) * (delta.end.column - delta.start.column);\n        var deltaStart = delta.start;\n        var deltaEnd = deltaIsInsert ? deltaStart : delta.end; // Collapse insert range.\n        if ($pointsInOrder(point, deltaStart, moveIfEqual)) {\n            return {\n                row: point.row,\n                column: point.column\n            };\n        }\n        if ($pointsInOrder(deltaEnd, point, !moveIfEqual)) {\n            return {\n                row: point.row + deltaRowShift,\n                column: point.column + (point.row == deltaEnd.row ? deltaColShift : 0)\n            };\n        }\n        return {\n            row: deltaStart.row,\n            column: deltaStart.column\n        };\n    }\n    this.setPosition = function (row, column, noClip) {\n        var pos;\n        if (noClip) {\n            pos = {\n                row: row,\n                column: column\n            };\n        }\n        else {\n            pos = this.$clipPositionToDocument(row, column);\n        }\n        if (this.row == pos.row && this.column == pos.column)\n            return;\n        var old = {\n            row: this.row,\n            column: this.column\n        };\n        this.row = pos.row;\n        this.column = pos.column;\n        this._signal(\"change\", {\n            old: old,\n            value: pos\n        });\n    };\n    this.detach = function () {\n        this.document.off(\"change\", this.$onChange);\n    };\n    this.attach = function (doc) {\n        this.document = doc || this.document;\n        this.document.on(\"change\", this.$onChange);\n    };\n    this.$clipPositionToDocument = function (row, column) {\n        var pos = {};\n        if (row >= this.document.getLength()) {\n            pos.row = Math.max(0, this.document.getLength() - 1);\n            pos.column = this.document.getLine(pos.row).length;\n        }\n        else if (row < 0) {\n            pos.row = 0;\n            pos.column = 0;\n        }\n        else {\n            pos.row = row;\n            pos.column = Math.min(this.document.getLine(pos.row).length, Math.max(0, column));\n        }\n        if (column < 0)\n            pos.column = 0;\n        return pos;\n    };\n}).call(Anchor.prototype);\n\n});\n\nace.define(\"ace/document\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/apply_delta\",\"ace/lib/event_emitter\",\"ace/range\",\"ace/anchor\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"./lib/oop\");\nvar applyDelta = require(\"./apply_delta\").applyDelta;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Range = require(\"./range\").Range;\nvar Anchor = require(\"./anchor\").Anchor;\nvar Document = function (textOrLines) {\n    this.$lines = [\"\"];\n    if (textOrLines.length === 0) {\n        this.$lines = [\"\"];\n    }\n    else if (Array.isArray(textOrLines)) {\n        this.insertMergedLines({ row: 0, column: 0 }, textOrLines);\n    }\n    else {\n        this.insert({ row: 0, column: 0 }, textOrLines);\n    }\n};\n(function () {\n    oop.implement(this, EventEmitter);\n    this.setValue = function (text) {\n        var len = this.getLength() - 1;\n        this.remove(new Range(0, 0, len, this.getLine(len).length));\n        this.insert({ row: 0, column: 0 }, text || \"\");\n    };\n    this.getValue = function () {\n        return this.getAllLines().join(this.getNewLineCharacter());\n    };\n    this.createAnchor = function (row, column) {\n        return new Anchor(this, row, column);\n    };\n    if (\"aaa\".split(/a/).length === 0) {\n        this.$split = function (text) {\n            return text.replace(/\\r\\n|\\r/g, \"\\n\").split(\"\\n\");\n        };\n    }\n    else {\n        this.$split = function (text) {\n            return text.split(/\\r\\n|\\r|\\n/);\n        };\n    }\n    this.$detectNewLine = function (text) {\n        var match = text.match(/^.*?(\\r\\n|\\r|\\n)/m);\n        this.$autoNewLine = match ? match[1] : \"\\n\";\n        this._signal(\"changeNewLineMode\");\n    };\n    this.getNewLineCharacter = function () {\n        switch (this.$newLineMode) {\n            case \"windows\":\n                return \"\\r\\n\";\n            case \"unix\":\n                return \"\\n\";\n            default:\n                return this.$autoNewLine || \"\\n\";\n        }\n    };\n    this.$autoNewLine = \"\";\n    this.$newLineMode = \"auto\";\n    this.setNewLineMode = function (newLineMode) {\n        if (this.$newLineMode === newLineMode)\n            return;\n        this.$newLineMode = newLineMode;\n        this._signal(\"changeNewLineMode\");\n    };\n    this.getNewLineMode = function () {\n        return this.$newLineMode;\n    };\n    this.isNewLine = function (text) {\n        return (text == \"\\r\\n\" || text == \"\\r\" || text == \"\\n\");\n    };\n    this.getLine = function (row) {\n        return this.$lines[row] || \"\";\n    };\n    this.getLines = function (firstRow, lastRow) {\n        return this.$lines.slice(firstRow, lastRow + 1);\n    };\n    this.getAllLines = function () {\n        return this.getLines(0, this.getLength());\n    };\n    this.getLength = function () {\n        return this.$lines.length;\n    };\n    this.getTextRange = function (range) {\n        return this.getLinesForRange(range).join(this.getNewLineCharacter());\n    };\n    this.getLinesForRange = function (range) {\n        var lines;\n        if (range.start.row === range.end.row) {\n            lines = [this.getLine(range.start.row).substring(range.start.column, range.end.column)];\n        }\n        else {\n            lines = this.getLines(range.start.row, range.end.row);\n            lines[0] = (lines[0] || \"\").substring(range.start.column);\n            var l = lines.length - 1;\n            if (range.end.row - range.start.row == l)\n                lines[l] = lines[l].substring(0, range.end.column);\n        }\n        return lines;\n    };\n    this.insertLines = function (row, lines) {\n        console.warn(\"Use of document.insertLines is deprecated. Use the insertFullLines method instead.\");\n        return this.insertFullLines(row, lines);\n    };\n    this.removeLines = function (firstRow, lastRow) {\n        console.warn(\"Use of document.removeLines is deprecated. Use the removeFullLines method instead.\");\n        return this.removeFullLines(firstRow, lastRow);\n    };\n    this.insertNewLine = function (position) {\n        console.warn(\"Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead.\");\n        return this.insertMergedLines(position, [\"\", \"\"]);\n    };\n    this.insert = function (position, text) {\n        if (this.getLength() <= 1)\n            this.$detectNewLine(text);\n        return this.insertMergedLines(position, this.$split(text));\n    };\n    this.insertInLine = function (position, text) {\n        var start = this.clippedPos(position.row, position.column);\n        var end = this.pos(position.row, position.column + text.length);\n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"insert\",\n            lines: [text]\n        }, true);\n        return this.clonePos(end);\n    };\n    this.clippedPos = function (row, column) {\n        var length = this.getLength();\n        if (row === undefined) {\n            row = length;\n        }\n        else if (row < 0) {\n            row = 0;\n        }\n        else if (row >= length) {\n            row = length - 1;\n            column = undefined;\n        }\n        var line = this.getLine(row);\n        if (column == undefined)\n            column = line.length;\n        column = Math.min(Math.max(column, 0), line.length);\n        return { row: row, column: column };\n    };\n    this.clonePos = function (pos) {\n        return { row: pos.row, column: pos.column };\n    };\n    this.pos = function (row, column) {\n        return { row: row, column: column };\n    };\n    this.$clipPosition = function (position) {\n        var length = this.getLength();\n        if (position.row >= length) {\n            position.row = Math.max(0, length - 1);\n            position.column = this.getLine(length - 1).length;\n        }\n        else {\n            position.row = Math.max(0, position.row);\n            position.column = Math.min(Math.max(position.column, 0), this.getLine(position.row).length);\n        }\n        return position;\n    };\n    this.insertFullLines = function (row, lines) {\n        row = Math.min(Math.max(row, 0), this.getLength());\n        var column = 0;\n        if (row < this.getLength()) {\n            lines = lines.concat([\"\"]);\n            column = 0;\n        }\n        else {\n            lines = [\"\"].concat(lines);\n            row--;\n            column = this.$lines[row].length;\n        }\n        this.insertMergedLines({ row: row, column: column }, lines);\n    };\n    this.insertMergedLines = function (position, lines) {\n        var start = this.clippedPos(position.row, position.column);\n        var end = {\n            row: start.row + lines.length - 1,\n            column: (lines.length == 1 ? start.column : 0) + lines[lines.length - 1].length\n        };\n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"insert\",\n            lines: lines\n        });\n        return this.clonePos(end);\n    };\n    this.remove = function (range) {\n        var start = this.clippedPos(range.start.row, range.start.column);\n        var end = this.clippedPos(range.end.row, range.end.column);\n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"remove\",\n            lines: this.getLinesForRange({ start: start, end: end })\n        });\n        return this.clonePos(start);\n    };\n    this.removeInLine = function (row, startColumn, endColumn) {\n        var start = this.clippedPos(row, startColumn);\n        var end = this.clippedPos(row, endColumn);\n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"remove\",\n            lines: this.getLinesForRange({ start: start, end: end })\n        }, true);\n        return this.clonePos(start);\n    };\n    this.removeFullLines = function (firstRow, lastRow) {\n        firstRow = Math.min(Math.max(0, firstRow), this.getLength() - 1);\n        lastRow = Math.min(Math.max(0, lastRow), this.getLength() - 1);\n        var deleteFirstNewLine = lastRow == this.getLength() - 1 && firstRow > 0;\n        var deleteLastNewLine = lastRow < this.getLength() - 1;\n        var startRow = (deleteFirstNewLine ? firstRow - 1 : firstRow);\n        var startCol = (deleteFirstNewLine ? this.getLine(startRow).length : 0);\n        var endRow = (deleteLastNewLine ? lastRow + 1 : lastRow);\n        var endCol = (deleteLastNewLine ? 0 : this.getLine(endRow).length);\n        var range = new Range(startRow, startCol, endRow, endCol);\n        var deletedLines = this.$lines.slice(firstRow, lastRow + 1);\n        this.applyDelta({\n            start: range.start,\n            end: range.end,\n            action: \"remove\",\n            lines: this.getLinesForRange(range)\n        });\n        return deletedLines;\n    };\n    this.removeNewLine = function (row) {\n        if (row < this.getLength() - 1 && row >= 0) {\n            this.applyDelta({\n                start: this.pos(row, this.getLine(row).length),\n                end: this.pos(row + 1, 0),\n                action: \"remove\",\n                lines: [\"\", \"\"]\n            });\n        }\n    };\n    this.replace = function (range, text) {\n        if (!(range instanceof Range))\n            range = Range.fromPoints(range.start, range.end);\n        if (text.length === 0 && range.isEmpty())\n            return range.start;\n        if (text == this.getTextRange(range))\n            return range.end;\n        this.remove(range);\n        var end;\n        if (text) {\n            end = this.insert(range.start, text);\n        }\n        else {\n            end = range.start;\n        }\n        return end;\n    };\n    this.applyDeltas = function (deltas) {\n        for (var i = 0; i < deltas.length; i++) {\n            this.applyDelta(deltas[i]);\n        }\n    };\n    this.revertDeltas = function (deltas) {\n        for (var i = deltas.length - 1; i >= 0; i--) {\n            this.revertDelta(deltas[i]);\n        }\n    };\n    this.applyDelta = function (delta, doNotValidate) {\n        var isInsert = delta.action == \"insert\";\n        if (isInsert ? delta.lines.length <= 1 && !delta.lines[0]\n            : !Range.comparePoints(delta.start, delta.end)) {\n            return;\n        }\n        if (isInsert && delta.lines.length > 20000) {\n            this.$splitAndapplyLargeDelta(delta, 20000);\n        }\n        else {\n            applyDelta(this.$lines, delta, doNotValidate);\n            this._signal(\"change\", delta);\n        }\n    };\n    this.$safeApplyDelta = function (delta) {\n        var docLength = this.$lines.length;\n        if (delta.action == \"remove\" && delta.start.row < docLength && delta.end.row < docLength\n            || delta.action == \"insert\" && delta.start.row <= docLength) {\n            this.applyDelta(delta);\n        }\n    };\n    this.$splitAndapplyLargeDelta = function (delta, MAX) {\n        var lines = delta.lines;\n        var l = lines.length - MAX + 1;\n        var row = delta.start.row;\n        var column = delta.start.column;\n        for (var from = 0, to = 0; from < l; from = to) {\n            to += MAX - 1;\n            var chunk = lines.slice(from, to);\n            chunk.push(\"\");\n            this.applyDelta({\n                start: this.pos(row + from, column),\n                end: this.pos(row + to, column = 0),\n                action: delta.action,\n                lines: chunk\n            }, true);\n        }\n        delta.lines = lines.slice(from);\n        delta.start.row = row + from;\n        delta.start.column = column;\n        this.applyDelta(delta, true);\n    };\n    this.revertDelta = function (delta) {\n        this.$safeApplyDelta({\n            start: this.clonePos(delta.start),\n            end: this.clonePos(delta.end),\n            action: (delta.action == \"insert\" ? \"remove\" : \"insert\"),\n            lines: delta.lines.slice()\n        });\n    };\n    this.indexToPosition = function (index, startRow) {\n        var lines = this.$lines || this.getAllLines();\n        var newlineLength = this.getNewLineCharacter().length;\n        for (var i = startRow || 0, l = lines.length; i < l; i++) {\n            index -= lines[i].length + newlineLength;\n            if (index < 0)\n                return { row: i, column: index + lines[i].length + newlineLength };\n        }\n        return { row: l - 1, column: index + lines[l - 1].length + newlineLength };\n    };\n    this.positionToIndex = function (pos, startRow) {\n        var lines = this.$lines || this.getAllLines();\n        var newlineLength = this.getNewLineCharacter().length;\n        var index = 0;\n        var row = Math.min(pos.row, lines.length);\n        for (var i = startRow || 0; i < row; ++i)\n            index += lines[i].length + newlineLength;\n        return index + pos.column;\n    };\n}).call(Document.prototype);\nexports.Document = Document;\n\n});\n\nace.define(\"ace/background_tokenizer\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"./lib/oop\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar BackgroundTokenizer = function (tokenizer, editor) {\n    this.running = false;\n    this.lines = [];\n    this.states = [];\n    this.currentLine = 0;\n    this.tokenizer = tokenizer;\n    var self = this;\n    this.$worker = function () {\n        if (!self.running) {\n            return;\n        }\n        var workerStart = new Date();\n        var currentLine = self.currentLine;\n        var endLine = -1;\n        var doc = self.doc;\n        var startLine = currentLine;\n        while (self.lines[currentLine])\n            currentLine++;\n        var len = doc.getLength();\n        var processedLines = 0;\n        self.running = false;\n        while (currentLine < len) {\n            self.$tokenizeRow(currentLine);\n            endLine = currentLine;\n            do {\n                currentLine++;\n            } while (self.lines[currentLine]);\n            processedLines++;\n            if ((processedLines % 5 === 0) && (new Date() - workerStart) > 20) {\n                self.running = setTimeout(self.$worker, 20);\n                break;\n            }\n        }\n        self.currentLine = currentLine;\n        if (endLine == -1)\n            endLine = currentLine;\n        if (startLine <= endLine)\n            self.fireUpdateEvent(startLine, endLine);\n    };\n};\n(function () {\n    oop.implement(this, EventEmitter);\n    this.setTokenizer = function (tokenizer) {\n        this.tokenizer = tokenizer;\n        this.lines = [];\n        this.states = [];\n        this.start(0);\n    };\n    this.setDocument = function (doc) {\n        this.doc = doc;\n        this.lines = [];\n        this.states = [];\n        this.stop();\n    };\n    this.fireUpdateEvent = function (firstRow, lastRow) {\n        var data = {\n            first: firstRow,\n            last: lastRow\n        };\n        this._signal(\"update\", { data: data });\n    };\n    this.start = function (startRow) {\n        this.currentLine = Math.min(startRow || 0, this.currentLine, this.doc.getLength());\n        this.lines.splice(this.currentLine, this.lines.length);\n        this.states.splice(this.currentLine, this.states.length);\n        this.stop();\n        this.running = setTimeout(this.$worker, 700);\n    };\n    this.scheduleStart = function () {\n        if (!this.running)\n            this.running = setTimeout(this.$worker, 700);\n    };\n    this.$updateOnChange = function (delta) {\n        var startRow = delta.start.row;\n        var len = delta.end.row - startRow;\n        if (len === 0) {\n            this.lines[startRow] = null;\n        }\n        else if (delta.action == \"remove\") {\n            this.lines.splice(startRow, len + 1, null);\n            this.states.splice(startRow, len + 1, null);\n        }\n        else {\n            var args = Array(len + 1);\n            args.unshift(startRow, 1);\n            this.lines.splice.apply(this.lines, args);\n            this.states.splice.apply(this.states, args);\n        }\n        this.currentLine = Math.min(startRow, this.currentLine, this.doc.getLength());\n        this.stop();\n    };\n    this.stop = function () {\n        if (this.running)\n            clearTimeout(this.running);\n        this.running = false;\n    };\n    this.getTokens = function (row) {\n        return this.lines[row] || this.$tokenizeRow(row);\n    };\n    this.getState = function (row) {\n        if (this.currentLine == row)\n            this.$tokenizeRow(row);\n        return this.states[row] || \"start\";\n    };\n    this.$tokenizeRow = function (row) {\n        var line = this.doc.getLine(row);\n        var state = this.states[row - 1];\n        var data = this.tokenizer.getLineTokens(line, state, row);\n        if (this.states[row] + \"\" !== data.state + \"\") {\n            this.states[row] = data.state;\n            this.lines[row + 1] = null;\n            if (this.currentLine > row + 1)\n                this.currentLine = row + 1;\n        }\n        else if (this.currentLine == row) {\n            this.currentLine = row + 1;\n        }\n        return this.lines[row] = data.tokens;\n    };\n    this.cleanup = function () {\n        this.running = false;\n        this.lines = [];\n        this.states = [];\n        this.currentLine = 0;\n        this.removeAllListeners();\n    };\n}).call(BackgroundTokenizer.prototype);\nexports.BackgroundTokenizer = BackgroundTokenizer;\n\n});\n\nace.define(\"ace/search_highlight\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/lib/oop\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar lang = require(\"./lib/lang\");\nvar oop = require(\"./lib/oop\");\nvar Range = require(\"./range\").Range;\nvar SearchHighlight = function (regExp, clazz, type) {\n    this.setRegexp(regExp);\n    this.clazz = clazz;\n    this.type = type || \"text\";\n};\n(function () {\n    this.MAX_RANGES = 500;\n    this.setRegexp = function (regExp) {\n        if (this.regExp + \"\" == regExp + \"\")\n            return;\n        this.regExp = regExp;\n        this.cache = [];\n    };\n    this.update = function (html, markerLayer, session, config) {\n        if (!this.regExp)\n            return;\n        var start = config.firstRow, end = config.lastRow;\n        var renderedMarkerRanges = {};\n        for (var i = start; i <= end; i++) {\n            var ranges = this.cache[i];\n            if (ranges == null) {\n                ranges = lang.getMatchOffsets(session.getLine(i), this.regExp);\n                if (ranges.length > this.MAX_RANGES)\n                    ranges = ranges.slice(0, this.MAX_RANGES);\n                ranges = ranges.map(function (match) {\n                    return new Range(i, match.offset, i, match.offset + match.length);\n                });\n                this.cache[i] = ranges.length ? ranges : \"\";\n            }\n            for (var j = ranges.length; j--;) {\n                var rangeToAddMarkerTo = ranges[j].toScreenRange(session);\n                var rangeAsString = rangeToAddMarkerTo.toString();\n                if (renderedMarkerRanges[rangeAsString])\n                    continue;\n                renderedMarkerRanges[rangeAsString] = true;\n                markerLayer.drawSingleLineMarker(html, rangeToAddMarkerTo, this.clazz, config);\n            }\n        }\n    };\n}).call(SearchHighlight.prototype);\nexports.SearchHighlight = SearchHighlight;\n\n});\n\nace.define(\"ace/edit_session/fold_line\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar Range = require(\"../range\").Range;\nfunction FoldLine(foldData, folds) {\n    this.foldData = foldData;\n    if (Array.isArray(folds)) {\n        this.folds = folds;\n    }\n    else {\n        folds = this.folds = [folds];\n    }\n    var last = folds[folds.length - 1];\n    this.range = new Range(folds[0].start.row, folds[0].start.column, last.end.row, last.end.column);\n    this.start = this.range.start;\n    this.end = this.range.end;\n    this.folds.forEach(function (fold) {\n        fold.setFoldLine(this);\n    }, this);\n}\n(function () {\n    this.shiftRow = function (shift) {\n        this.start.row += shift;\n        this.end.row += shift;\n        this.folds.forEach(function (fold) {\n            fold.start.row += shift;\n            fold.end.row += shift;\n        });\n    };\n    this.addFold = function (fold) {\n        if (fold.sameRow) {\n            if (fold.start.row < this.startRow || fold.endRow > this.endRow) {\n                throw new Error(\"Can't add a fold to this FoldLine as it has no connection\");\n            }\n            this.folds.push(fold);\n            this.folds.sort(function (a, b) {\n                return -a.range.compareEnd(b.start.row, b.start.column);\n            });\n            if (this.range.compareEnd(fold.start.row, fold.start.column) > 0) {\n                this.end.row = fold.end.row;\n                this.end.column = fold.end.column;\n            }\n            else if (this.range.compareStart(fold.end.row, fold.end.column) < 0) {\n                this.start.row = fold.start.row;\n                this.start.column = fold.start.column;\n            }\n        }\n        else if (fold.start.row == this.end.row) {\n            this.folds.push(fold);\n            this.end.row = fold.end.row;\n            this.end.column = fold.end.column;\n        }\n        else if (fold.end.row == this.start.row) {\n            this.folds.unshift(fold);\n            this.start.row = fold.start.row;\n            this.start.column = fold.start.column;\n        }\n        else {\n            throw new Error(\"Trying to add fold to FoldRow that doesn't have a matching row\");\n        }\n        fold.foldLine = this;\n    };\n    this.containsRow = function (row) {\n        return row >= this.start.row && row <= this.end.row;\n    };\n    this.walk = function (callback, endRow, endColumn) {\n        var lastEnd = 0, folds = this.folds, fold, cmp, stop, isNewRow = true;\n        if (endRow == null) {\n            endRow = this.end.row;\n            endColumn = this.end.column;\n        }\n        for (var i = 0; i < folds.length; i++) {\n            fold = folds[i];\n            cmp = fold.range.compareStart(endRow, endColumn);\n            if (cmp == -1) {\n                callback(null, endRow, endColumn, lastEnd, isNewRow);\n                return;\n            }\n            stop = callback(null, fold.start.row, fold.start.column, lastEnd, isNewRow);\n            stop = !stop && callback(fold.placeholder, fold.start.row, fold.start.column, lastEnd);\n            if (stop || cmp === 0) {\n                return;\n            }\n            isNewRow = !fold.sameRow;\n            lastEnd = fold.end.column;\n        }\n        callback(null, endRow, endColumn, lastEnd, isNewRow);\n    };\n    this.getNextFoldTo = function (row, column) {\n        var fold, cmp;\n        for (var i = 0; i < this.folds.length; i++) {\n            fold = this.folds[i];\n            cmp = fold.range.compareEnd(row, column);\n            if (cmp == -1) {\n                return {\n                    fold: fold,\n                    kind: \"after\"\n                };\n            }\n            else if (cmp === 0) {\n                return {\n                    fold: fold,\n                    kind: \"inside\"\n                };\n            }\n        }\n        return null;\n    };\n    this.addRemoveChars = function (row, column, len) {\n        var ret = this.getNextFoldTo(row, column), fold, folds;\n        if (ret) {\n            fold = ret.fold;\n            if (ret.kind == \"inside\"\n                && fold.start.column != column\n                && fold.start.row != row) {\n                window.console && window.console.log(row, column, fold);\n            }\n            else if (fold.start.row == row) {\n                folds = this.folds;\n                var i = folds.indexOf(fold);\n                if (i === 0) {\n                    this.start.column += len;\n                }\n                for (i; i < folds.length; i++) {\n                    fold = folds[i];\n                    fold.start.column += len;\n                    if (!fold.sameRow) {\n                        return;\n                    }\n                    fold.end.column += len;\n                }\n                this.end.column += len;\n            }\n        }\n    };\n    this.split = function (row, column) {\n        var pos = this.getNextFoldTo(row, column);\n        if (!pos || pos.kind == \"inside\")\n            return null;\n        var fold = pos.fold;\n        var folds = this.folds;\n        var foldData = this.foldData;\n        var i = folds.indexOf(fold);\n        var foldBefore = folds[i - 1];\n        this.end.row = foldBefore.end.row;\n        this.end.column = foldBefore.end.column;\n        folds = folds.splice(i, folds.length - i);\n        var newFoldLine = new FoldLine(foldData, folds);\n        foldData.splice(foldData.indexOf(this) + 1, 0, newFoldLine);\n        return newFoldLine;\n    };\n    this.merge = function (foldLineNext) {\n        var folds = foldLineNext.folds;\n        for (var i = 0; i < folds.length; i++) {\n            this.addFold(folds[i]);\n        }\n        var foldData = this.foldData;\n        foldData.splice(foldData.indexOf(foldLineNext), 1);\n    };\n    this.toString = function () {\n        var ret = [this.range.toString() + \": [\"];\n        this.folds.forEach(function (fold) {\n            ret.push(\"  \" + fold.toString());\n        });\n        ret.push(\"]\");\n        return ret.join(\"\\n\");\n    };\n    this.idxToPosition = function (idx) {\n        var lastFoldEndColumn = 0;\n        for (var i = 0; i < this.folds.length; i++) {\n            var fold = this.folds[i];\n            idx -= fold.start.column - lastFoldEndColumn;\n            if (idx < 0) {\n                return {\n                    row: fold.start.row,\n                    column: fold.start.column + idx\n                };\n            }\n            idx -= fold.placeholder.length;\n            if (idx < 0) {\n                return fold.start;\n            }\n            lastFoldEndColumn = fold.end.column;\n        }\n        return {\n            row: this.end.row,\n            column: this.end.column + idx\n        };\n    };\n}).call(FoldLine.prototype);\nexports.FoldLine = FoldLine;\n\n});\n\nace.define(\"ace/range_list\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar Range = require(\"./range\").Range;\nvar comparePoints = Range.comparePoints;\nvar RangeList = function () {\n    this.ranges = [];\n    this.$bias = 1;\n};\n(function () {\n    this.comparePoints = comparePoints;\n    this.pointIndex = function (pos, excludeEdges, startIndex) {\n        var list = this.ranges;\n        for (var i = startIndex || 0; i < list.length; i++) {\n            var range = list[i];\n            var cmpEnd = comparePoints(pos, range.end);\n            if (cmpEnd > 0)\n                continue;\n            var cmpStart = comparePoints(pos, range.start);\n            if (cmpEnd === 0)\n                return excludeEdges && cmpStart !== 0 ? -i - 2 : i;\n            if (cmpStart > 0 || (cmpStart === 0 && !excludeEdges))\n                return i;\n            return -i - 1;\n        }\n        return -i - 1;\n    };\n    this.add = function (range) {\n        var excludeEdges = !range.isEmpty();\n        var startIndex = this.pointIndex(range.start, excludeEdges);\n        if (startIndex < 0)\n            startIndex = -startIndex - 1;\n        var endIndex = this.pointIndex(range.end, excludeEdges, startIndex);\n        if (endIndex < 0)\n            endIndex = -endIndex - 1;\n        else\n            endIndex++;\n        return this.ranges.splice(startIndex, endIndex - startIndex, range);\n    };\n    this.addList = function (list) {\n        var removed = [];\n        for (var i = list.length; i--;) {\n            removed.push.apply(removed, this.add(list[i]));\n        }\n        return removed;\n    };\n    this.substractPoint = function (pos) {\n        var i = this.pointIndex(pos);\n        if (i >= 0)\n            return this.ranges.splice(i, 1);\n    };\n    this.merge = function () {\n        var removed = [];\n        var list = this.ranges;\n        list = list.sort(function (a, b) {\n            return comparePoints(a.start, b.start);\n        });\n        var next = list[0], range;\n        for (var i = 1; i < list.length; i++) {\n            range = next;\n            next = list[i];\n            var cmp = comparePoints(range.end, next.start);\n            if (cmp < 0)\n                continue;\n            if (cmp == 0 && !range.isEmpty() && !next.isEmpty())\n                continue;\n            if (comparePoints(range.end, next.end) < 0) {\n                range.end.row = next.end.row;\n                range.end.column = next.end.column;\n            }\n            list.splice(i, 1);\n            removed.push(next);\n            next = range;\n            i--;\n        }\n        this.ranges = list;\n        return removed;\n    };\n    this.contains = function (row, column) {\n        return this.pointIndex({ row: row, column: column }) >= 0;\n    };\n    this.containsPoint = function (pos) {\n        return this.pointIndex(pos) >= 0;\n    };\n    this.rangeAtPoint = function (pos) {\n        var i = this.pointIndex(pos);\n        if (i >= 0)\n            return this.ranges[i];\n    };\n    this.clipRows = function (startRow, endRow) {\n        var list = this.ranges;\n        if (list[0].start.row > endRow || list[list.length - 1].start.row < startRow)\n            return [];\n        var startIndex = this.pointIndex({ row: startRow, column: 0 });\n        if (startIndex < 0)\n            startIndex = -startIndex - 1;\n        var endIndex = this.pointIndex({ row: endRow, column: 0 }, startIndex);\n        if (endIndex < 0)\n            endIndex = -endIndex - 1;\n        var clipped = [];\n        for (var i = startIndex; i < endIndex; i++) {\n            clipped.push(list[i]);\n        }\n        return clipped;\n    };\n    this.removeAll = function () {\n        return this.ranges.splice(0, this.ranges.length);\n    };\n    this.attach = function (session) {\n        if (this.session)\n            this.detach();\n        this.session = session;\n        this.onChange = this.$onChange.bind(this);\n        this.session.on('change', this.onChange);\n    };\n    this.detach = function () {\n        if (!this.session)\n            return;\n        this.session.removeListener('change', this.onChange);\n        this.session = null;\n    };\n    this.$onChange = function (delta) {\n        var start = delta.start;\n        var end = delta.end;\n        var startRow = start.row;\n        var endRow = end.row;\n        var ranges = this.ranges;\n        for (var i = 0, n = ranges.length; i < n; i++) {\n            var r = ranges[i];\n            if (r.end.row >= startRow)\n                break;\n        }\n        if (delta.action == \"insert\") {\n            var lineDif = endRow - startRow;\n            var colDiff = -start.column + end.column;\n            for (; i < n; i++) {\n                var r = ranges[i];\n                if (r.start.row > startRow)\n                    break;\n                if (r.start.row == startRow && r.start.column >= start.column) {\n                    if (r.start.column == start.column && this.$bias <= 0) {\n                    }\n                    else {\n                        r.start.column += colDiff;\n                        r.start.row += lineDif;\n                    }\n                }\n                if (r.end.row == startRow && r.end.column >= start.column) {\n                    if (r.end.column == start.column && this.$bias < 0) {\n                        continue;\n                    }\n                    if (r.end.column == start.column && colDiff > 0 && i < n - 1) {\n                        if (r.end.column > r.start.column && r.end.column == ranges[i + 1].start.column)\n                            r.end.column -= colDiff;\n                    }\n                    r.end.column += colDiff;\n                    r.end.row += lineDif;\n                }\n            }\n        }\n        else {\n            var lineDif = startRow - endRow;\n            var colDiff = start.column - end.column;\n            for (; i < n; i++) {\n                var r = ranges[i];\n                if (r.start.row > endRow)\n                    break;\n                if (r.end.row < endRow\n                    && (startRow < r.end.row\n                        || startRow == r.end.row && start.column < r.end.column)) {\n                    r.end.row = startRow;\n                    r.end.column = start.column;\n                }\n                else if (r.end.row == endRow) {\n                    if (r.end.column <= end.column) {\n                        if (lineDif || r.end.column > start.column) {\n                            r.end.column = start.column;\n                            r.end.row = start.row;\n                        }\n                    }\n                    else {\n                        r.end.column += colDiff;\n                        r.end.row += lineDif;\n                    }\n                }\n                else if (r.end.row > endRow) {\n                    r.end.row += lineDif;\n                }\n                if (r.start.row < endRow\n                    && (startRow < r.start.row\n                        || startRow == r.start.row && start.column < r.start.column)) {\n                    r.start.row = startRow;\n                    r.start.column = start.column;\n                }\n                else if (r.start.row == endRow) {\n                    if (r.start.column <= end.column) {\n                        if (lineDif || r.start.column > start.column) {\n                            r.start.column = start.column;\n                            r.start.row = start.row;\n                        }\n                    }\n                    else {\n                        r.start.column += colDiff;\n                        r.start.row += lineDif;\n                    }\n                }\n                else if (r.start.row > endRow) {\n                    r.start.row += lineDif;\n                }\n            }\n        }\n        if (lineDif != 0 && i < n) {\n            for (; i < n; i++) {\n                var r = ranges[i];\n                r.start.row += lineDif;\n                r.end.row += lineDif;\n            }\n        }\n    };\n}).call(RangeList.prototype);\nexports.RangeList = RangeList;\n\n});\n\nace.define(\"ace/edit_session/fold\",[\"require\",\"exports\",\"module\",\"ace/range_list\",\"ace/lib/oop\"], function(require, exports, module){\"use strict\";\nvar RangeList = require(\"../range_list\").RangeList;\nvar oop = require(\"../lib/oop\");\nvar Fold = exports.Fold = function (range, placeholder) {\n    this.foldLine = null;\n    this.placeholder = placeholder;\n    this.range = range;\n    this.start = range.start;\n    this.end = range.end;\n    this.sameRow = range.start.row == range.end.row;\n    this.subFolds = this.ranges = [];\n};\noop.inherits(Fold, RangeList);\n(function () {\n    this.toString = function () {\n        return '\"' + this.placeholder + '\" ' + this.range.toString();\n    };\n    this.setFoldLine = function (foldLine) {\n        this.foldLine = foldLine;\n        this.subFolds.forEach(function (fold) {\n            fold.setFoldLine(foldLine);\n        });\n    };\n    this.clone = function () {\n        var range = this.range.clone();\n        var fold = new Fold(range, this.placeholder);\n        this.subFolds.forEach(function (subFold) {\n            fold.subFolds.push(subFold.clone());\n        });\n        fold.collapseChildren = this.collapseChildren;\n        return fold;\n    };\n    this.addSubFold = function (fold) {\n        if (this.range.isEqual(fold))\n            return;\n        consumeRange(fold, this.start);\n        var row = fold.start.row, column = fold.start.column;\n        for (var i = 0, cmp = -1; i < this.subFolds.length; i++) {\n            cmp = this.subFolds[i].range.compare(row, column);\n            if (cmp != 1)\n                break;\n        }\n        var afterStart = this.subFolds[i];\n        var firstConsumed = 0;\n        if (cmp == 0) {\n            if (afterStart.range.containsRange(fold))\n                return afterStart.addSubFold(fold);\n            else\n                firstConsumed = 1;\n        }\n        var row = fold.range.end.row, column = fold.range.end.column;\n        for (var j = i, cmp = -1; j < this.subFolds.length; j++) {\n            cmp = this.subFolds[j].range.compare(row, column);\n            if (cmp != 1)\n                break;\n        }\n        if (cmp == 0)\n            j++;\n        var consumedFolds = this.subFolds.splice(i, j - i, fold);\n        var last = cmp == 0 ? consumedFolds.length - 1 : consumedFolds.length;\n        for (var k = firstConsumed; k < last; k++) {\n            fold.addSubFold(consumedFolds[k]);\n        }\n        fold.setFoldLine(this.foldLine);\n        return fold;\n    };\n    this.restoreRange = function (range) {\n        return restoreRange(range, this.start);\n    };\n}).call(Fold.prototype);\nfunction consumePoint(point, anchor) {\n    point.row -= anchor.row;\n    if (point.row == 0)\n        point.column -= anchor.column;\n}\nfunction consumeRange(range, anchor) {\n    consumePoint(range.start, anchor);\n    consumePoint(range.end, anchor);\n}\nfunction restorePoint(point, anchor) {\n    if (point.row == 0)\n        point.column += anchor.column;\n    point.row += anchor.row;\n}\nfunction restoreRange(range, anchor) {\n    restorePoint(range.start, anchor);\n    restorePoint(range.end, anchor);\n}\n\n});\n\nace.define(\"ace/edit_session/folding\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/edit_session/fold_line\",\"ace/edit_session/fold\",\"ace/token_iterator\"], function(require, exports, module){\"use strict\";\nvar Range = require(\"../range\").Range;\nvar FoldLine = require(\"./fold_line\").FoldLine;\nvar Fold = require(\"./fold\").Fold;\nvar TokenIterator = require(\"../token_iterator\").TokenIterator;\nfunction Folding() {\n    this.getFoldAt = function (row, column, side) {\n        var foldLine = this.getFoldLine(row);\n        if (!foldLine)\n            return null;\n        var folds = foldLine.folds;\n        for (var i = 0; i < folds.length; i++) {\n            var range = folds[i].range;\n            if (range.contains(row, column)) {\n                if (side == 1 && range.isEnd(row, column) && !range.isEmpty()) {\n                    continue;\n                }\n                else if (side == -1 && range.isStart(row, column) && !range.isEmpty()) {\n                    continue;\n                }\n                return folds[i];\n            }\n        }\n    };\n    this.getFoldsInRange = function (range) {\n        var start = range.start;\n        var end = range.end;\n        var foldLines = this.$foldData;\n        var foundFolds = [];\n        start.column += 1;\n        end.column -= 1;\n        for (var i = 0; i < foldLines.length; i++) {\n            var cmp = foldLines[i].range.compareRange(range);\n            if (cmp == 2) {\n                continue;\n            }\n            else if (cmp == -2) {\n                break;\n            }\n            var folds = foldLines[i].folds;\n            for (var j = 0; j < folds.length; j++) {\n                var fold = folds[j];\n                cmp = fold.range.compareRange(range);\n                if (cmp == -2) {\n                    break;\n                }\n                else if (cmp == 2) {\n                    continue;\n                }\n                else \n                if (cmp == 42) {\n                    break;\n                }\n                foundFolds.push(fold);\n            }\n        }\n        start.column -= 1;\n        end.column += 1;\n        return foundFolds;\n    };\n    this.getFoldsInRangeList = function (ranges) {\n        if (Array.isArray(ranges)) {\n            var folds = [];\n            ranges.forEach(function (range) {\n                folds = folds.concat(this.getFoldsInRange(range));\n            }, this);\n        }\n        else {\n            var folds = this.getFoldsInRange(ranges);\n        }\n        return folds;\n    };\n    this.getAllFolds = function () {\n        var folds = [];\n        var foldLines = this.$foldData;\n        for (var i = 0; i < foldLines.length; i++)\n            for (var j = 0; j < foldLines[i].folds.length; j++)\n                folds.push(foldLines[i].folds[j]);\n        return folds;\n    };\n    this.getFoldStringAt = function (row, column, trim, foldLine) {\n        foldLine = foldLine || this.getFoldLine(row);\n        if (!foldLine)\n            return null;\n        var lastFold = {\n            end: { column: 0 }\n        };\n        var str, fold;\n        for (var i = 0; i < foldLine.folds.length; i++) {\n            fold = foldLine.folds[i];\n            var cmp = fold.range.compareEnd(row, column);\n            if (cmp == -1) {\n                str = this\n                    .getLine(fold.start.row)\n                    .substring(lastFold.end.column, fold.start.column);\n                break;\n            }\n            else if (cmp === 0) {\n                return null;\n            }\n            lastFold = fold;\n        }\n        if (!str)\n            str = this.getLine(fold.start.row).substring(lastFold.end.column);\n        if (trim == -1)\n            return str.substring(0, column - lastFold.end.column);\n        else if (trim == 1)\n            return str.substring(column - lastFold.end.column);\n        else\n            return str;\n    };\n    this.getFoldLine = function (docRow, startFoldLine) {\n        var foldData = this.$foldData;\n        var i = 0;\n        if (startFoldLine)\n            i = foldData.indexOf(startFoldLine);\n        if (i == -1)\n            i = 0;\n        for (i; i < foldData.length; i++) {\n            var foldLine = foldData[i];\n            if (foldLine.start.row <= docRow && foldLine.end.row >= docRow) {\n                return foldLine;\n            }\n            else if (foldLine.end.row > docRow) {\n                return null;\n            }\n        }\n        return null;\n    };\n    this.getNextFoldLine = function (docRow, startFoldLine) {\n        var foldData = this.$foldData;\n        var i = 0;\n        if (startFoldLine)\n            i = foldData.indexOf(startFoldLine);\n        if (i == -1)\n            i = 0;\n        for (i; i < foldData.length; i++) {\n            var foldLine = foldData[i];\n            if (foldLine.end.row >= docRow) {\n                return foldLine;\n            }\n        }\n        return null;\n    };\n    this.getFoldedRowCount = function (first, last) {\n        var foldData = this.$foldData, rowCount = last - first + 1;\n        for (var i = 0; i < foldData.length; i++) {\n            var foldLine = foldData[i], end = foldLine.end.row, start = foldLine.start.row;\n            if (end >= last) {\n                if (start < last) {\n                    if (start >= first)\n                        rowCount -= last - start;\n                    else\n                        rowCount = 0; // in one fold\n                }\n                break;\n            }\n            else if (end >= first) {\n                if (start >= first) // fold inside range\n                    rowCount -= end - start;\n                else\n                    rowCount -= end - first + 1;\n            }\n        }\n        return rowCount;\n    };\n    this.$addFoldLine = function (foldLine) {\n        this.$foldData.push(foldLine);\n        this.$foldData.sort(function (a, b) {\n            return a.start.row - b.start.row;\n        });\n        return foldLine;\n    };\n    this.addFold = function (placeholder, range) {\n        var foldData = this.$foldData;\n        var added = false;\n        var fold;\n        if (placeholder instanceof Fold)\n            fold = placeholder;\n        else {\n            fold = new Fold(range, placeholder);\n            fold.collapseChildren = range.collapseChildren;\n        }\n        this.$clipRangeToDocument(fold.range);\n        var startRow = fold.start.row;\n        var startColumn = fold.start.column;\n        var endRow = fold.end.row;\n        var endColumn = fold.end.column;\n        var startFold = this.getFoldAt(startRow, startColumn, 1);\n        var endFold = this.getFoldAt(endRow, endColumn, -1);\n        if (startFold && endFold == startFold)\n            return startFold.addSubFold(fold);\n        if (startFold && !startFold.range.isStart(startRow, startColumn))\n            this.removeFold(startFold);\n        if (endFold && !endFold.range.isEnd(endRow, endColumn))\n            this.removeFold(endFold);\n        var folds = this.getFoldsInRange(fold.range);\n        if (folds.length > 0) {\n            this.removeFolds(folds);\n            if (!fold.collapseChildren) {\n                folds.forEach(function (subFold) {\n                    fold.addSubFold(subFold);\n                });\n            }\n        }\n        for (var i = 0; i < foldData.length; i++) {\n            var foldLine = foldData[i];\n            if (endRow == foldLine.start.row) {\n                foldLine.addFold(fold);\n                added = true;\n                break;\n            }\n            else if (startRow == foldLine.end.row) {\n                foldLine.addFold(fold);\n                added = true;\n                if (!fold.sameRow) {\n                    var foldLineNext = foldData[i + 1];\n                    if (foldLineNext && foldLineNext.start.row == endRow) {\n                        foldLine.merge(foldLineNext);\n                        break;\n                    }\n                }\n                break;\n            }\n            else if (endRow <= foldLine.start.row) {\n                break;\n            }\n        }\n        if (!added)\n            foldLine = this.$addFoldLine(new FoldLine(this.$foldData, fold));\n        if (this.$useWrapMode)\n            this.$updateWrapData(foldLine.start.row, foldLine.start.row);\n        else\n            this.$updateRowLengthCache(foldLine.start.row, foldLine.start.row);\n        this.$modified = true;\n        this._signal(\"changeFold\", { data: fold, action: \"add\" });\n        return fold;\n    };\n    this.addFolds = function (folds) {\n        folds.forEach(function (fold) {\n            this.addFold(fold);\n        }, this);\n    };\n    this.removeFold = function (fold) {\n        var foldLine = fold.foldLine;\n        var startRow = foldLine.start.row;\n        var endRow = foldLine.end.row;\n        var foldLines = this.$foldData;\n        var folds = foldLine.folds;\n        if (folds.length == 1) {\n            foldLines.splice(foldLines.indexOf(foldLine), 1);\n        }\n        else \n        if (foldLine.range.isEnd(fold.end.row, fold.end.column)) {\n            folds.pop();\n            foldLine.end.row = folds[folds.length - 1].end.row;\n            foldLine.end.column = folds[folds.length - 1].end.column;\n        }\n        else \n        if (foldLine.range.isStart(fold.start.row, fold.start.column)) {\n            folds.shift();\n            foldLine.start.row = folds[0].start.row;\n            foldLine.start.column = folds[0].start.column;\n        }\n        else \n        if (fold.sameRow) {\n            folds.splice(folds.indexOf(fold), 1);\n        }\n        else \n        {\n            var newFoldLine = foldLine.split(fold.start.row, fold.start.column);\n            folds = newFoldLine.folds;\n            folds.shift();\n            newFoldLine.start.row = folds[0].start.row;\n            newFoldLine.start.column = folds[0].start.column;\n        }\n        if (!this.$updating) {\n            if (this.$useWrapMode)\n                this.$updateWrapData(startRow, endRow);\n            else\n                this.$updateRowLengthCache(startRow, endRow);\n        }\n        this.$modified = true;\n        this._signal(\"changeFold\", { data: fold, action: \"remove\" });\n    };\n    this.removeFolds = function (folds) {\n        var cloneFolds = [];\n        for (var i = 0; i < folds.length; i++) {\n            cloneFolds.push(folds[i]);\n        }\n        cloneFolds.forEach(function (fold) {\n            this.removeFold(fold);\n        }, this);\n        this.$modified = true;\n    };\n    this.expandFold = function (fold) {\n        this.removeFold(fold);\n        fold.subFolds.forEach(function (subFold) {\n            fold.restoreRange(subFold);\n            this.addFold(subFold);\n        }, this);\n        if (fold.collapseChildren > 0) {\n            this.foldAll(fold.start.row + 1, fold.end.row, fold.collapseChildren - 1);\n        }\n        fold.subFolds = [];\n    };\n    this.expandFolds = function (folds) {\n        folds.forEach(function (fold) {\n            this.expandFold(fold);\n        }, this);\n    };\n    this.unfold = function (location, expandInner) {\n        var range, folds;\n        if (location == null) {\n            range = new Range(0, 0, this.getLength(), 0);\n            if (expandInner == null)\n                expandInner = true;\n        }\n        else if (typeof location == \"number\") {\n            range = new Range(location, 0, location, this.getLine(location).length);\n        }\n        else if (\"row\" in location) {\n            range = Range.fromPoints(location, location);\n        }\n        else if (Array.isArray(location)) {\n            folds = [];\n            location.forEach(function (range) {\n                folds = folds.concat(this.unfold(range));\n            }, this);\n            return folds;\n        }\n        else {\n            range = location;\n        }\n        folds = this.getFoldsInRangeList(range);\n        var outermostFolds = folds;\n        while (folds.length == 1\n            && Range.comparePoints(folds[0].start, range.start) < 0\n            && Range.comparePoints(folds[0].end, range.end) > 0) {\n            this.expandFolds(folds);\n            folds = this.getFoldsInRangeList(range);\n        }\n        if (expandInner != false) {\n            this.removeFolds(folds);\n        }\n        else {\n            this.expandFolds(folds);\n        }\n        if (outermostFolds.length)\n            return outermostFolds;\n    };\n    this.isRowFolded = function (docRow, startFoldRow) {\n        return !!this.getFoldLine(docRow, startFoldRow);\n    };\n    this.getRowFoldEnd = function (docRow, startFoldRow) {\n        var foldLine = this.getFoldLine(docRow, startFoldRow);\n        return foldLine ? foldLine.end.row : docRow;\n    };\n    this.getRowFoldStart = function (docRow, startFoldRow) {\n        var foldLine = this.getFoldLine(docRow, startFoldRow);\n        return foldLine ? foldLine.start.row : docRow;\n    };\n    this.getFoldDisplayLine = function (foldLine, endRow, endColumn, startRow, startColumn) {\n        if (startRow == null)\n            startRow = foldLine.start.row;\n        if (startColumn == null)\n            startColumn = 0;\n        if (endRow == null)\n            endRow = foldLine.end.row;\n        if (endColumn == null)\n            endColumn = this.getLine(endRow).length;\n        var doc = this.doc;\n        var textLine = \"\";\n        foldLine.walk(function (placeholder, row, column, lastColumn) {\n            if (row < startRow)\n                return;\n            if (row == startRow) {\n                if (column < startColumn)\n                    return;\n                lastColumn = Math.max(startColumn, lastColumn);\n            }\n            if (placeholder != null) {\n                textLine += placeholder;\n            }\n            else {\n                textLine += doc.getLine(row).substring(lastColumn, column);\n            }\n        }, endRow, endColumn);\n        return textLine;\n    };\n    this.getDisplayLine = function (row, endColumn, startRow, startColumn) {\n        var foldLine = this.getFoldLine(row);\n        if (!foldLine) {\n            var line;\n            line = this.doc.getLine(row);\n            return line.substring(startColumn || 0, endColumn || line.length);\n        }\n        else {\n            return this.getFoldDisplayLine(foldLine, row, endColumn, startRow, startColumn);\n        }\n    };\n    this.$cloneFoldData = function () {\n        var fd = [];\n        fd = this.$foldData.map(function (foldLine) {\n            var folds = foldLine.folds.map(function (fold) {\n                return fold.clone();\n            });\n            return new FoldLine(fd, folds);\n        });\n        return fd;\n    };\n    this.toggleFold = function (tryToUnfold) {\n        var selection = this.selection;\n        var range = selection.getRange();\n        var fold;\n        var bracketPos;\n        if (range.isEmpty()) {\n            var cursor = range.start;\n            fold = this.getFoldAt(cursor.row, cursor.column);\n            if (fold) {\n                this.expandFold(fold);\n                return;\n            }\n            else if (bracketPos = this.findMatchingBracket(cursor)) {\n                if (range.comparePoint(bracketPos) == 1) {\n                    range.end = bracketPos;\n                }\n                else {\n                    range.start = bracketPos;\n                    range.start.column++;\n                    range.end.column--;\n                }\n            }\n            else if (bracketPos = this.findMatchingBracket({ row: cursor.row, column: cursor.column + 1 })) {\n                if (range.comparePoint(bracketPos) == 1)\n                    range.end = bracketPos;\n                else\n                    range.start = bracketPos;\n                range.start.column++;\n            }\n            else {\n                range = this.getCommentFoldRange(cursor.row, cursor.column) || range;\n            }\n        }\n        else {\n            var folds = this.getFoldsInRange(range);\n            if (tryToUnfold && folds.length) {\n                this.expandFolds(folds);\n                return;\n            }\n            else if (folds.length == 1) {\n                fold = folds[0];\n            }\n        }\n        if (!fold)\n            fold = this.getFoldAt(range.start.row, range.start.column);\n        if (fold && fold.range.toString() == range.toString()) {\n            this.expandFold(fold);\n            return;\n        }\n        var placeholder = \"...\";\n        if (!range.isMultiLine()) {\n            placeholder = this.getTextRange(range);\n            if (placeholder.length < 4)\n                return;\n            placeholder = placeholder.trim().substring(0, 2) + \"..\";\n        }\n        this.addFold(placeholder, range);\n    };\n    this.getCommentFoldRange = function (row, column, dir) {\n        var iterator = new TokenIterator(this, row, column);\n        var token = iterator.getCurrentToken();\n        var type = token && token.type;\n        if (token && /^comment|string/.test(type)) {\n            type = type.match(/comment|string/)[0];\n            if (type == \"comment\")\n                type += \"|doc-start\";\n            var re = new RegExp(type);\n            var range = new Range();\n            if (dir != 1) {\n                do {\n                    token = iterator.stepBackward();\n                } while (token && re.test(token.type) && !/^comment.end/.test(token.type));\n                token = iterator.stepForward();\n            }\n            range.start.row = iterator.getCurrentTokenRow();\n            range.start.column = iterator.getCurrentTokenColumn() + (/^comment.start/.test(token.type) ? token.value.length : 2);\n            iterator = new TokenIterator(this, row, column);\n            if (dir != -1) {\n                var lastRow = -1;\n                do {\n                    token = iterator.stepForward();\n                    if (lastRow == -1) {\n                        var state = this.getState(iterator.$row);\n                        if (!re.test(state))\n                            lastRow = iterator.$row;\n                    }\n                    else if (iterator.$row > lastRow) {\n                        break;\n                    }\n                } while (token && re.test(token.type) && !/^comment.start/.test(token.type));\n                token = iterator.stepBackward();\n            }\n            else\n                token = iterator.getCurrentToken();\n            range.end.row = iterator.getCurrentTokenRow();\n            range.end.column = iterator.getCurrentTokenColumn();\n            if (!/^comment.end/.test(token.type)) {\n                range.end.column += token.value.length - 2;\n            }\n            return range;\n        }\n    };\n    this.foldAll = function (startRow, endRow, depth, test) {\n        if (depth == undefined)\n            depth = 100000; // JSON.stringify doesn't hanle Infinity\n        var foldWidgets = this.foldWidgets;\n        if (!foldWidgets)\n            return; // mode doesn't support folding\n        endRow = endRow || this.getLength();\n        startRow = startRow || 0;\n        for (var row = startRow; row < endRow; row++) {\n            if (foldWidgets[row] == null)\n                foldWidgets[row] = this.getFoldWidget(row);\n            if (foldWidgets[row] != \"start\")\n                continue;\n            if (test && !test(row))\n                continue;\n            var range = this.getFoldWidgetRange(row);\n            if (range && range.isMultiLine()\n                && range.end.row <= endRow\n                && range.start.row >= startRow) {\n                row = range.end.row;\n                range.collapseChildren = depth;\n                this.addFold(\"...\", range);\n            }\n        }\n    };\n    this.foldToLevel = function (level) {\n        this.foldAll();\n        while (level-- > 0)\n            this.unfold(null, false);\n    };\n    this.foldAllComments = function () {\n        var session = this;\n        this.foldAll(null, null, null, function (row) {\n            var tokens = session.getTokens(row);\n            for (var i = 0; i < tokens.length; i++) {\n                var token = tokens[i];\n                if (token.type == \"text\" && /^\\s+$/.test(token.value))\n                    continue;\n                if (/comment/.test(token.type))\n                    return true;\n                return false;\n            }\n        });\n    };\n    this.$foldStyles = {\n        \"manual\": 1,\n        \"markbegin\": 1,\n        \"markbeginend\": 1\n    };\n    this.$foldStyle = \"markbegin\";\n    this.setFoldStyle = function (style) {\n        if (!this.$foldStyles[style])\n            throw new Error(\"invalid fold style: \" + style + \"[\" + Object.keys(this.$foldStyles).join(\", \") + \"]\");\n        if (this.$foldStyle == style)\n            return;\n        this.$foldStyle = style;\n        if (style == \"manual\")\n            this.unfold();\n        var mode = this.$foldMode;\n        this.$setFolding(null);\n        this.$setFolding(mode);\n    };\n    this.$setFolding = function (foldMode) {\n        if (this.$foldMode == foldMode)\n            return;\n        this.$foldMode = foldMode;\n        this.off('change', this.$updateFoldWidgets);\n        this.off('tokenizerUpdate', this.$tokenizerUpdateFoldWidgets);\n        this._signal(\"changeAnnotation\");\n        if (!foldMode || this.$foldStyle == \"manual\") {\n            this.foldWidgets = null;\n            return;\n        }\n        this.foldWidgets = [];\n        this.getFoldWidget = foldMode.getFoldWidget.bind(foldMode, this, this.$foldStyle);\n        this.getFoldWidgetRange = foldMode.getFoldWidgetRange.bind(foldMode, this, this.$foldStyle);\n        this.$updateFoldWidgets = this.updateFoldWidgets.bind(this);\n        this.$tokenizerUpdateFoldWidgets = this.tokenizerUpdateFoldWidgets.bind(this);\n        this.on('change', this.$updateFoldWidgets);\n        this.on('tokenizerUpdate', this.$tokenizerUpdateFoldWidgets);\n    };\n    this.getParentFoldRangeData = function (row, ignoreCurrent) {\n        var fw = this.foldWidgets;\n        if (!fw || (ignoreCurrent && fw[row]))\n            return {};\n        var i = row - 1, firstRange;\n        while (i >= 0) {\n            var c = fw[i];\n            if (c == null)\n                c = fw[i] = this.getFoldWidget(i);\n            if (c == \"start\") {\n                var range = this.getFoldWidgetRange(i);\n                if (!firstRange)\n                    firstRange = range;\n                if (range && range.end.row >= row)\n                    break;\n            }\n            i--;\n        }\n        return {\n            range: i !== -1 && range,\n            firstRange: firstRange\n        };\n    };\n    this.onFoldWidgetClick = function (row, e) {\n        e = e.domEvent;\n        var options = {\n            children: e.shiftKey,\n            all: e.ctrlKey || e.metaKey,\n            siblings: e.altKey\n        };\n        var range = this.$toggleFoldWidget(row, options);\n        if (!range) {\n            var el = (e.target || e.srcElement);\n            if (el && /ace_fold-widget/.test(el.className))\n                el.className += \" ace_invalid\";\n        }\n    };\n    this.$toggleFoldWidget = function (row, options) {\n        if (!this.getFoldWidget)\n            return;\n        var type = this.getFoldWidget(row);\n        var line = this.getLine(row);\n        var dir = type === \"end\" ? -1 : 1;\n        var fold = this.getFoldAt(row, dir === -1 ? 0 : line.length, dir);\n        if (fold) {\n            if (options.children || options.all)\n                this.removeFold(fold);\n            else\n                this.expandFold(fold);\n            return fold;\n        }\n        var range = this.getFoldWidgetRange(row, true);\n        if (range && !range.isMultiLine()) {\n            fold = this.getFoldAt(range.start.row, range.start.column, 1);\n            if (fold && range.isEqual(fold.range)) {\n                this.removeFold(fold);\n                return fold;\n            }\n        }\n        if (options.siblings) {\n            var data = this.getParentFoldRangeData(row);\n            if (data.range) {\n                var startRow = data.range.start.row + 1;\n                var endRow = data.range.end.row;\n            }\n            this.foldAll(startRow, endRow, options.all ? 10000 : 0);\n        }\n        else if (options.children) {\n            endRow = range ? range.end.row : this.getLength();\n            this.foldAll(row + 1, endRow, options.all ? 10000 : 0);\n        }\n        else if (range) {\n            if (options.all)\n                range.collapseChildren = 10000;\n            this.addFold(\"...\", range);\n        }\n        return range;\n    };\n    this.toggleFoldWidget = function (toggleParent) {\n        var row = this.selection.getCursor().row;\n        row = this.getRowFoldStart(row);\n        var range = this.$toggleFoldWidget(row, {});\n        if (range)\n            return;\n        var data = this.getParentFoldRangeData(row, true);\n        range = data.range || data.firstRange;\n        if (range) {\n            row = range.start.row;\n            var fold = this.getFoldAt(row, this.getLine(row).length, 1);\n            if (fold) {\n                this.removeFold(fold);\n            }\n            else {\n                this.addFold(\"...\", range);\n            }\n        }\n    };\n    this.updateFoldWidgets = function (delta) {\n        var firstRow = delta.start.row;\n        var len = delta.end.row - firstRow;\n        if (len === 0) {\n            this.foldWidgets[firstRow] = null;\n        }\n        else if (delta.action == 'remove') {\n            this.foldWidgets.splice(firstRow, len + 1, null);\n        }\n        else {\n            var args = Array(len + 1);\n            args.unshift(firstRow, 1);\n            this.foldWidgets.splice.apply(this.foldWidgets, args);\n        }\n    };\n    this.tokenizerUpdateFoldWidgets = function (e) {\n        var rows = e.data;\n        if (rows.first != rows.last) {\n            if (this.foldWidgets.length > rows.first)\n                this.foldWidgets.splice(rows.first, this.foldWidgets.length);\n        }\n    };\n}\nexports.Folding = Folding;\n\n});\n\nace.define(\"ace/edit_session/bracket_match\",[\"require\",\"exports\",\"module\",\"ace/token_iterator\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar TokenIterator = require(\"../token_iterator\").TokenIterator;\nvar Range = require(\"../range\").Range;\nfunction BracketMatch() {\n    this.findMatchingBracket = function (position, chr) {\n        if (position.column == 0)\n            return null;\n        var charBeforeCursor = chr || this.getLine(position.row).charAt(position.column - 1);\n        if (charBeforeCursor == \"\")\n            return null;\n        var match = charBeforeCursor.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n        if (!match)\n            return null;\n        if (match[1])\n            return this.$findClosingBracket(match[1], position);\n        else\n            return this.$findOpeningBracket(match[2], position);\n    };\n    this.getBracketRange = function (pos) {\n        var line = this.getLine(pos.row);\n        var before = true, range;\n        var chr = line.charAt(pos.column - 1);\n        var match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n        if (!match) {\n            chr = line.charAt(pos.column);\n            pos = { row: pos.row, column: pos.column + 1 };\n            match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n            before = false;\n        }\n        if (!match)\n            return null;\n        if (match[1]) {\n            var bracketPos = this.$findClosingBracket(match[1], pos);\n            if (!bracketPos)\n                return null;\n            range = Range.fromPoints(pos, bracketPos);\n            if (!before) {\n                range.end.column++;\n                range.start.column--;\n            }\n            range.cursor = range.end;\n        }\n        else {\n            var bracketPos = this.$findOpeningBracket(match[2], pos);\n            if (!bracketPos)\n                return null;\n            range = Range.fromPoints(bracketPos, pos);\n            if (!before) {\n                range.start.column++;\n                range.end.column--;\n            }\n            range.cursor = range.start;\n        }\n        return range;\n    };\n    this.getMatchingBracketRanges = function (pos, isBackwards) {\n        var line = this.getLine(pos.row);\n        var bracketsRegExp = /([\\(\\[\\{])|([\\)\\]\\}])/;\n        var chr = !isBackwards && line.charAt(pos.column - 1);\n        var match = chr && chr.match(bracketsRegExp);\n        if (!match) {\n            chr = (isBackwards === undefined || isBackwards) && line.charAt(pos.column);\n            pos = {\n                row: pos.row,\n                column: pos.column + 1\n            };\n            match = chr && chr.match(bracketsRegExp);\n        }\n        if (!match)\n            return null;\n        var startRange = new Range(pos.row, pos.column - 1, pos.row, pos.column);\n        var bracketPos = match[1] ? this.$findClosingBracket(match[1], pos)\n            : this.$findOpeningBracket(match[2], pos);\n        if (!bracketPos)\n            return [startRange];\n        var endRange = new Range(bracketPos.row, bracketPos.column, bracketPos.row, bracketPos.column + 1);\n        return [startRange, endRange];\n    };\n    this.$brackets = {\n        \")\": \"(\",\n        \"(\": \")\",\n        \"]\": \"[\",\n        \"[\": \"]\",\n        \"{\": \"}\",\n        \"}\": \"{\",\n        \"<\": \">\",\n        \">\": \"<\"\n    };\n    this.$findOpeningBracket = function (bracket, position, typeRe) {\n        var openBracket = this.$brackets[bracket];\n        var depth = 1;\n        var iterator = new TokenIterator(this, position.row, position.column);\n        var token = iterator.getCurrentToken();\n        if (!token)\n            token = iterator.stepForward();\n        if (!token)\n            return;\n        if (!typeRe) {\n            typeRe = new RegExp(\"(\\\\.?\" +\n                token.type.replace(\".\", \"\\\\.\").replace(\"rparen\", \".paren\")\n                    .replace(/\\b(?:end)\\b/, \"(?:start|begin|end)\")\n                + \")+\");\n        }\n        var valueIndex = position.column - iterator.getCurrentTokenColumn() - 2;\n        var value = token.value;\n        while (true) {\n            while (valueIndex >= 0) {\n                var chr = value.charAt(valueIndex);\n                if (chr == openBracket) {\n                    depth -= 1;\n                    if (depth == 0) {\n                        return { row: iterator.getCurrentTokenRow(),\n                            column: valueIndex + iterator.getCurrentTokenColumn() };\n                    }\n                }\n                else if (chr == bracket) {\n                    depth += 1;\n                }\n                valueIndex -= 1;\n            }\n            do {\n                token = iterator.stepBackward();\n            } while (token && !typeRe.test(token.type));\n            if (token == null)\n                break;\n            value = token.value;\n            valueIndex = value.length - 1;\n        }\n        return null;\n    };\n    this.$findClosingBracket = function (bracket, position, typeRe) {\n        var closingBracket = this.$brackets[bracket];\n        var depth = 1;\n        var iterator = new TokenIterator(this, position.row, position.column);\n        var token = iterator.getCurrentToken();\n        if (!token)\n            token = iterator.stepForward();\n        if (!token)\n            return;\n        if (!typeRe) {\n            typeRe = new RegExp(\"(\\\\.?\" +\n                token.type.replace(\".\", \"\\\\.\").replace(\"lparen\", \".paren\")\n                    .replace(/\\b(?:start|begin)\\b/, \"(?:start|begin|end)\")\n                + \")+\");\n        }\n        var valueIndex = position.column - iterator.getCurrentTokenColumn();\n        while (true) {\n            var value = token.value;\n            var valueLength = value.length;\n            while (valueIndex < valueLength) {\n                var chr = value.charAt(valueIndex);\n                if (chr == closingBracket) {\n                    depth -= 1;\n                    if (depth == 0) {\n                        return { row: iterator.getCurrentTokenRow(),\n                            column: valueIndex + iterator.getCurrentTokenColumn() };\n                    }\n                }\n                else if (chr == bracket) {\n                    depth += 1;\n                }\n                valueIndex += 1;\n            }\n            do {\n                token = iterator.stepForward();\n            } while (token && !typeRe.test(token.type));\n            if (token == null)\n                break;\n            valueIndex = 0;\n        }\n        return null;\n    };\n    this.getMatchingTags = function (pos) {\n        var iterator = new TokenIterator(this, pos.row, pos.column);\n        var token = this.$findTagName(iterator);\n        if (!token)\n            return;\n        var prevToken = iterator.stepBackward();\n        if (prevToken.value === '<') {\n            return this.$findClosingTag(iterator, token);\n        }\n        else {\n            return this.$findOpeningTag(iterator, token);\n        }\n    };\n    this.$findTagName = function (iterator) {\n        var token = iterator.getCurrentToken();\n        var found = false;\n        var backward = false;\n        if (token && token.type.indexOf('tag-name') === -1) {\n            do {\n                if (backward)\n                    token = iterator.stepBackward();\n                else\n                    token = iterator.stepForward();\n                if (token) {\n                    if (token.value === \"/>\") {\n                        backward = true;\n                    }\n                    else if (token.type.indexOf('tag-name') !== -1) {\n                        found = true;\n                    }\n                }\n            } while (token && !found);\n        }\n        return token;\n    };\n    this.$findClosingTag = function (iterator, token) {\n        var prevToken;\n        var currentTag = token.value;\n        var tag = token.value;\n        var depth = 0;\n        var openTagStart = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 1);\n        token = iterator.stepForward();\n        var openTagName = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + token.value.length);\n        var foundOpenTagEnd = false;\n        do {\n            prevToken = token;\n            token = iterator.stepForward();\n            if (token) {\n                if (token.value === '>' && !foundOpenTagEnd) {\n                    var openTagEnd = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 1); //Range for `>`\n                    foundOpenTagEnd = true;\n                }\n                if (token.type.indexOf('tag-name') !== -1) {\n                    currentTag = token.value;\n                    if (tag === currentTag) {\n                        if (prevToken.value === '<') {\n                            depth++;\n                        }\n                        else if (prevToken.value === '</') {\n                            depth--;\n                            if (depth < 0) { //found closing tag\n                                iterator.stepBackward();\n                                var closeTagStart = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 2); //Range for </\n                                token = iterator.stepForward();\n                                var closeTagName = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + token.value.length);\n                                token = iterator.stepForward();\n                                if (token && token.value === '>') {\n                                    var closeTagEnd = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 1); //Range for >\n                                }\n                                else {\n                                    return;\n                                }\n                            }\n                        }\n                    }\n                }\n                else if (tag === currentTag && token.value === '/>') { // self-closing tag\n                    depth--;\n                    if (depth < 0) { //found self-closing tag end\n                        var closeTagStart = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 2);\n                        var closeTagName = closeTagStart;\n                        var closeTagEnd = closeTagName;\n                        var openTagEnd = new Range(openTagName.end.row, openTagName.end.column, openTagName.end.row, openTagName.end.column + 1);\n                    }\n                }\n            }\n        } while (token && depth >= 0);\n        if (openTagStart && openTagEnd && closeTagStart && closeTagEnd && openTagName && closeTagName) {\n            return {\n                openTag: new Range(openTagStart.start.row, openTagStart.start.column, openTagEnd.end.row, openTagEnd.end.column),\n                closeTag: new Range(closeTagStart.start.row, closeTagStart.start.column, closeTagEnd.end.row, closeTagEnd.end.column),\n                openTagName: openTagName,\n                closeTagName: closeTagName\n            };\n        }\n    };\n    this.$findOpeningTag = function (iterator, token) {\n        var prevToken = iterator.getCurrentToken();\n        var tag = token.value;\n        var depth = 0;\n        var startRow = iterator.getCurrentTokenRow();\n        var startColumn = iterator.getCurrentTokenColumn();\n        var endColumn = startColumn + 2;\n        var closeTagStart = new Range(startRow, startColumn, startRow, endColumn); //Range for </\n        iterator.stepForward();\n        var closeTagName = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + token.value.length);\n        token = iterator.stepForward();\n        if (!token || token.value !== \">\")\n            return;\n        var closeTagEnd = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 1); //Range for >\n        iterator.stepBackward();\n        iterator.stepBackward();\n        do {\n            token = prevToken;\n            startRow = iterator.getCurrentTokenRow();\n            startColumn = iterator.getCurrentTokenColumn();\n            endColumn = startColumn + token.value.length;\n            prevToken = iterator.stepBackward();\n            if (token) {\n                if (token.type.indexOf('tag-name') !== -1) {\n                    if (tag === token.value) {\n                        if (prevToken.value === '<') {\n                            depth++;\n                            if (depth > 0) { //found opening tag\n                                var openTagName = new Range(startRow, startColumn, startRow, endColumn);\n                                var openTagStart = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 1); //Range for <\n                                do {\n                                    token = iterator.stepForward();\n                                } while (token && token.value !== '>');\n                                var openTagEnd = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 1); //Range for >\n                            }\n                        }\n                        else if (prevToken.value === '</') {\n                            depth--;\n                        }\n                    }\n                }\n                else if (token.value === '/>') { // self-closing tag\n                    var stepCount = 0;\n                    var tmpToken = prevToken;\n                    while (tmpToken) {\n                        if (tmpToken.type.indexOf('tag-name') !== -1 && tmpToken.value === tag) {\n                            depth--;\n                            break;\n                        }\n                        else if (tmpToken.value === '<') {\n                            break;\n                        }\n                        tmpToken = iterator.stepBackward();\n                        stepCount++;\n                    }\n                    for (var i = 0; i < stepCount; i++) {\n                        iterator.stepForward();\n                    }\n                }\n            }\n        } while (prevToken && depth <= 0);\n        if (openTagStart && openTagEnd && closeTagStart && closeTagEnd && openTagName && closeTagName) {\n            return {\n                openTag: new Range(openTagStart.start.row, openTagStart.start.column, openTagEnd.end.row, openTagEnd.end.column),\n                closeTag: new Range(closeTagStart.start.row, closeTagStart.start.column, closeTagEnd.end.row, closeTagEnd.end.column),\n                openTagName: openTagName,\n                closeTagName: closeTagName\n            };\n        }\n    };\n}\nexports.BracketMatch = BracketMatch;\n\n});\n\nace.define(\"ace/edit_session\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/bidihandler\",\"ace/config\",\"ace/lib/event_emitter\",\"ace/selection\",\"ace/mode/text\",\"ace/range\",\"ace/document\",\"ace/background_tokenizer\",\"ace/search_highlight\",\"ace/edit_session/folding\",\"ace/edit_session/bracket_match\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"./lib/oop\");\nvar lang = require(\"./lib/lang\");\nvar BidiHandler = require(\"./bidihandler\").BidiHandler;\nvar config = require(\"./config\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Selection = require(\"./selection\").Selection;\nvar TextMode = require(\"./mode/text\").Mode;\nvar Range = require(\"./range\").Range;\nvar Document = require(\"./document\").Document;\nvar BackgroundTokenizer = require(\"./background_tokenizer\").BackgroundTokenizer;\nvar SearchHighlight = require(\"./search_highlight\").SearchHighlight;\nvar EditSession = function (text, mode) {\n    this.$breakpoints = [];\n    this.$decorations = [];\n    this.$frontMarkers = {};\n    this.$backMarkers = {};\n    this.$markerId = 1;\n    this.$undoSelect = true;\n    this.$foldData = [];\n    this.id = \"session\" + (++EditSession.$uid);\n    this.$foldData.toString = function () {\n        return this.join(\"\\n\");\n    };\n    this.bgTokenizer = new BackgroundTokenizer((new TextMode()).getTokenizer(), this);\n    var _self = this;\n    this.bgTokenizer.on(\"update\", function (e) {\n        _self._signal(\"tokenizerUpdate\", e);\n    });\n    this.on(\"changeFold\", this.onChangeFold.bind(this));\n    this.$onChange = this.onChange.bind(this);\n    if (typeof text != \"object\" || !text.getLine)\n        text = new Document(text);\n    this.setDocument(text);\n    this.selection = new Selection(this);\n    this.$bidiHandler = new BidiHandler(this);\n    config.resetOptions(this);\n    this.setMode(mode);\n    config._signal(\"session\", this);\n    this.destroyed = false;\n};\nEditSession.$uid = 0;\n(function () {\n    oop.implement(this, EventEmitter);\n    this.setDocument = function (doc) {\n        if (this.doc)\n            this.doc.off(\"change\", this.$onChange);\n        this.doc = doc;\n        doc.on(\"change\", this.$onChange, true);\n        this.bgTokenizer.setDocument(this.getDocument());\n        this.resetCaches();\n    };\n    this.getDocument = function () {\n        return this.doc;\n    };\n    this.$resetRowCache = function (docRow) {\n        if (!docRow) {\n            this.$docRowCache = [];\n            this.$screenRowCache = [];\n            return;\n        }\n        var l = this.$docRowCache.length;\n        var i = this.$getRowCacheIndex(this.$docRowCache, docRow) + 1;\n        if (l > i) {\n            this.$docRowCache.splice(i, l);\n            this.$screenRowCache.splice(i, l);\n        }\n    };\n    this.$getRowCacheIndex = function (cacheArray, val) {\n        var low = 0;\n        var hi = cacheArray.length - 1;\n        while (low <= hi) {\n            var mid = (low + hi) >> 1;\n            var c = cacheArray[mid];\n            if (val > c)\n                low = mid + 1;\n            else if (val < c)\n                hi = mid - 1;\n            else\n                return mid;\n        }\n        return low - 1;\n    };\n    this.resetCaches = function () {\n        this.$modified = true;\n        this.$wrapData = [];\n        this.$rowLengthCache = [];\n        this.$resetRowCache(0);\n        if (!this.destroyed)\n            this.bgTokenizer.start(0);\n    };\n    this.onChangeFold = function (e) {\n        var fold = e.data;\n        this.$resetRowCache(fold.start.row);\n    };\n    this.onChange = function (delta) {\n        this.$modified = true;\n        this.$bidiHandler.onChange(delta);\n        this.$resetRowCache(delta.start.row);\n        var removedFolds = this.$updateInternalDataOnChange(delta);\n        if (!this.$fromUndo && this.$undoManager) {\n            if (removedFolds && removedFolds.length) {\n                this.$undoManager.add({\n                    action: \"removeFolds\",\n                    folds: removedFolds\n                }, this.mergeUndoDeltas);\n                this.mergeUndoDeltas = true;\n            }\n            this.$undoManager.add(delta, this.mergeUndoDeltas);\n            this.mergeUndoDeltas = true;\n            this.$informUndoManager.schedule();\n        }\n        this.bgTokenizer.$updateOnChange(delta);\n        this._signal(\"change\", delta);\n    };\n    this.setValue = function (text) {\n        this.doc.setValue(text);\n        this.selection.moveTo(0, 0);\n        this.$resetRowCache(0);\n        this.setUndoManager(this.$undoManager);\n        this.getUndoManager().reset();\n    };\n    this.getValue =\n        this.toString = function () {\n            return this.doc.getValue();\n        };\n    this.getSelection = function () {\n        return this.selection;\n    };\n    this.getState = function (row) {\n        return this.bgTokenizer.getState(row);\n    };\n    this.getTokens = function (row) {\n        return this.bgTokenizer.getTokens(row);\n    };\n    this.getTokenAt = function (row, column) {\n        var tokens = this.bgTokenizer.getTokens(row);\n        var token, c = 0;\n        if (column == null) {\n            var i = tokens.length - 1;\n            c = this.getLine(row).length;\n        }\n        else {\n            for (var i = 0; i < tokens.length; i++) {\n                c += tokens[i].value.length;\n                if (c >= column)\n                    break;\n            }\n        }\n        token = tokens[i];\n        if (!token)\n            return null;\n        token.index = i;\n        token.start = c - token.value.length;\n        return token;\n    };\n    this.setUndoManager = function (undoManager) {\n        this.$undoManager = undoManager;\n        if (this.$informUndoManager)\n            this.$informUndoManager.cancel();\n        if (undoManager) {\n            var self = this;\n            undoManager.addSession(this);\n            this.$syncInformUndoManager = function () {\n                self.$informUndoManager.cancel();\n                self.mergeUndoDeltas = false;\n            };\n            this.$informUndoManager = lang.delayedCall(this.$syncInformUndoManager);\n        }\n        else {\n            this.$syncInformUndoManager = function () { };\n        }\n    };\n    this.markUndoGroup = function () {\n        if (this.$syncInformUndoManager)\n            this.$syncInformUndoManager();\n    };\n    this.$defaultUndoManager = {\n        undo: function () { },\n        redo: function () { },\n        hasUndo: function () { },\n        hasRedo: function () { },\n        reset: function () { },\n        add: function () { },\n        addSelection: function () { },\n        startNewGroup: function () { },\n        addSession: function () { }\n    };\n    this.getUndoManager = function () {\n        return this.$undoManager || this.$defaultUndoManager;\n    };\n    this.getTabString = function () {\n        if (this.getUseSoftTabs()) {\n            return lang.stringRepeat(\" \", this.getTabSize());\n        }\n        else {\n            return \"\\t\";\n        }\n    };\n    this.setUseSoftTabs = function (val) {\n        this.setOption(\"useSoftTabs\", val);\n    };\n    this.getUseSoftTabs = function () {\n        return this.$useSoftTabs && !this.$mode.$indentWithTabs;\n    };\n    this.setTabSize = function (tabSize) {\n        this.setOption(\"tabSize\", tabSize);\n    };\n    this.getTabSize = function () {\n        return this.$tabSize;\n    };\n    this.isTabStop = function (position) {\n        return this.$useSoftTabs && (position.column % this.$tabSize === 0);\n    };\n    this.setNavigateWithinSoftTabs = function (navigateWithinSoftTabs) {\n        this.setOption(\"navigateWithinSoftTabs\", navigateWithinSoftTabs);\n    };\n    this.getNavigateWithinSoftTabs = function () {\n        return this.$navigateWithinSoftTabs;\n    };\n    this.$overwrite = false;\n    this.setOverwrite = function (overwrite) {\n        this.setOption(\"overwrite\", overwrite);\n    };\n    this.getOverwrite = function () {\n        return this.$overwrite;\n    };\n    this.toggleOverwrite = function () {\n        this.setOverwrite(!this.$overwrite);\n    };\n    this.addGutterDecoration = function (row, className) {\n        if (!this.$decorations[row])\n            this.$decorations[row] = \"\";\n        this.$decorations[row] += \" \" + className;\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.removeGutterDecoration = function (row, className) {\n        this.$decorations[row] = (this.$decorations[row] || \"\").replace(\" \" + className, \"\");\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.getBreakpoints = function () {\n        return this.$breakpoints;\n    };\n    this.setBreakpoints = function (rows) {\n        this.$breakpoints = [];\n        for (var i = 0; i < rows.length; i++) {\n            this.$breakpoints[rows[i]] = \"ace_breakpoint\";\n        }\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.clearBreakpoints = function () {\n        this.$breakpoints = [];\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.setBreakpoint = function (row, className) {\n        if (className === undefined)\n            className = \"ace_breakpoint\";\n        if (className)\n            this.$breakpoints[row] = className;\n        else\n            delete this.$breakpoints[row];\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.clearBreakpoint = function (row) {\n        delete this.$breakpoints[row];\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.addMarker = function (range, clazz, type, inFront) {\n        var id = this.$markerId++;\n        var marker = {\n            range: range,\n            type: type || \"line\",\n            renderer: typeof type == \"function\" ? type : null,\n            clazz: clazz,\n            inFront: !!inFront,\n            id: id\n        };\n        if (inFront) {\n            this.$frontMarkers[id] = marker;\n            this._signal(\"changeFrontMarker\");\n        }\n        else {\n            this.$backMarkers[id] = marker;\n            this._signal(\"changeBackMarker\");\n        }\n        return id;\n    };\n    this.addDynamicMarker = function (marker, inFront) {\n        if (!marker.update)\n            return;\n        var id = this.$markerId++;\n        marker.id = id;\n        marker.inFront = !!inFront;\n        if (inFront) {\n            this.$frontMarkers[id] = marker;\n            this._signal(\"changeFrontMarker\");\n        }\n        else {\n            this.$backMarkers[id] = marker;\n            this._signal(\"changeBackMarker\");\n        }\n        return marker;\n    };\n    this.removeMarker = function (markerId) {\n        var marker = this.$frontMarkers[markerId] || this.$backMarkers[markerId];\n        if (!marker)\n            return;\n        var markers = marker.inFront ? this.$frontMarkers : this.$backMarkers;\n        delete (markers[markerId]);\n        this._signal(marker.inFront ? \"changeFrontMarker\" : \"changeBackMarker\");\n    };\n    this.getMarkers = function (inFront) {\n        return inFront ? this.$frontMarkers : this.$backMarkers;\n    };\n    this.highlight = function (re) {\n        if (!this.$searchHighlight) {\n            var highlight = new SearchHighlight(null, \"ace_selected-word\", \"text\");\n            this.$searchHighlight = this.addDynamicMarker(highlight);\n        }\n        this.$searchHighlight.setRegexp(re);\n    };\n    this.highlightLines = function (startRow, endRow, clazz, inFront) {\n        if (typeof endRow != \"number\") {\n            clazz = endRow;\n            endRow = startRow;\n        }\n        if (!clazz)\n            clazz = \"ace_step\";\n        var range = new Range(startRow, 0, endRow, Infinity);\n        range.id = this.addMarker(range, clazz, \"fullLine\", inFront);\n        return range;\n    };\n    this.setAnnotations = function (annotations) {\n        this.$annotations = annotations;\n        this._signal(\"changeAnnotation\", {});\n    };\n    this.getAnnotations = function () {\n        return this.$annotations || [];\n    };\n    this.clearAnnotations = function () {\n        this.setAnnotations([]);\n    };\n    this.$detectNewLine = function (text) {\n        var match = text.match(/^.*?(\\r?\\n)/m);\n        if (match) {\n            this.$autoNewLine = match[1];\n        }\n        else {\n            this.$autoNewLine = \"\\n\";\n        }\n    };\n    this.getWordRange = function (row, column) {\n        var line = this.getLine(row);\n        var inToken = false;\n        if (column > 0)\n            inToken = !!line.charAt(column - 1).match(this.tokenRe);\n        if (!inToken)\n            inToken = !!line.charAt(column).match(this.tokenRe);\n        if (inToken)\n            var re = this.tokenRe;\n        else if (/^\\s+$/.test(line.slice(column - 1, column + 1)))\n            var re = /\\s/;\n        else\n            var re = this.nonTokenRe;\n        var start = column;\n        if (start > 0) {\n            do {\n                start--;\n            } while (start >= 0 && line.charAt(start).match(re));\n            start++;\n        }\n        var end = column;\n        while (end < line.length && line.charAt(end).match(re)) {\n            end++;\n        }\n        return new Range(row, start, row, end);\n    };\n    this.getAWordRange = function (row, column) {\n        var wordRange = this.getWordRange(row, column);\n        var line = this.getLine(wordRange.end.row);\n        while (line.charAt(wordRange.end.column).match(/[ \\t]/)) {\n            wordRange.end.column += 1;\n        }\n        return wordRange;\n    };\n    this.setNewLineMode = function (newLineMode) {\n        this.doc.setNewLineMode(newLineMode);\n    };\n    this.getNewLineMode = function () {\n        return this.doc.getNewLineMode();\n    };\n    this.setUseWorker = function (useWorker) { this.setOption(\"useWorker\", useWorker); };\n    this.getUseWorker = function () { return this.$useWorker; };\n    this.onReloadTokenizer = function (e) {\n        var rows = e.data;\n        this.bgTokenizer.start(rows.first);\n        this._signal(\"tokenizerUpdate\", e);\n    };\n    this.$modes = config.$modes;\n    this.$mode = null;\n    this.$modeId = null;\n    this.setMode = function (mode, cb) {\n        if (mode && typeof mode === \"object\") {\n            if (mode.getTokenizer)\n                return this.$onChangeMode(mode);\n            var options = mode;\n            var path = options.path;\n        }\n        else {\n            path = mode || \"ace/mode/text\";\n        }\n        if (!this.$modes[\"ace/mode/text\"])\n            this.$modes[\"ace/mode/text\"] = new TextMode();\n        if (this.$modes[path] && !options) {\n            this.$onChangeMode(this.$modes[path]);\n            cb && cb();\n            return;\n        }\n        this.$modeId = path;\n        config.loadModule([\"mode\", path], function (m) {\n            if (this.$modeId !== path)\n                return cb && cb();\n            if (this.$modes[path] && !options) {\n                this.$onChangeMode(this.$modes[path]);\n            }\n            else if (m && m.Mode) {\n                m = new m.Mode(options);\n                if (!options) {\n                    this.$modes[path] = m;\n                    m.$id = path;\n                }\n                this.$onChangeMode(m);\n            }\n            cb && cb();\n        }.bind(this));\n        if (!this.$mode)\n            this.$onChangeMode(this.$modes[\"ace/mode/text\"], true);\n    };\n    this.$onChangeMode = function (mode, $isPlaceholder) {\n        if (!$isPlaceholder)\n            this.$modeId = mode.$id;\n        if (this.$mode === mode)\n            return;\n        var oldMode = this.$mode;\n        this.$mode = mode;\n        this.$stopWorker();\n        if (this.$useWorker)\n            this.$startWorker();\n        var tokenizer = mode.getTokenizer();\n        if (tokenizer.on !== undefined) {\n            var onReloadTokenizer = this.onReloadTokenizer.bind(this);\n            tokenizer.on(\"update\", onReloadTokenizer);\n        }\n        this.bgTokenizer.setTokenizer(tokenizer);\n        this.bgTokenizer.setDocument(this.getDocument());\n        this.tokenRe = mode.tokenRe;\n        this.nonTokenRe = mode.nonTokenRe;\n        if (!$isPlaceholder) {\n            if (mode.attachToSession)\n                mode.attachToSession(this);\n            this.$options.wrapMethod.set.call(this, this.$wrapMethod);\n            this.$setFolding(mode.foldingRules);\n            this.bgTokenizer.start(0);\n            this._emit(\"changeMode\", { oldMode: oldMode, mode: mode });\n        }\n    };\n    this.$stopWorker = function () {\n        if (this.$worker) {\n            this.$worker.terminate();\n            this.$worker = null;\n        }\n    };\n    this.$startWorker = function () {\n        try {\n            this.$worker = this.$mode.createWorker(this);\n        }\n        catch (e) {\n            config.warn(\"Could not load worker\", e);\n            this.$worker = null;\n        }\n    };\n    this.getMode = function () {\n        return this.$mode;\n    };\n    this.$scrollTop = 0;\n    this.setScrollTop = function (scrollTop) {\n        if (this.$scrollTop === scrollTop || isNaN(scrollTop))\n            return;\n        this.$scrollTop = scrollTop;\n        this._signal(\"changeScrollTop\", scrollTop);\n    };\n    this.getScrollTop = function () {\n        return this.$scrollTop;\n    };\n    this.$scrollLeft = 0;\n    this.setScrollLeft = function (scrollLeft) {\n        if (this.$scrollLeft === scrollLeft || isNaN(scrollLeft))\n            return;\n        this.$scrollLeft = scrollLeft;\n        this._signal(\"changeScrollLeft\", scrollLeft);\n    };\n    this.getScrollLeft = function () {\n        return this.$scrollLeft;\n    };\n    this.getScreenWidth = function () {\n        this.$computeWidth();\n        if (this.lineWidgets)\n            return Math.max(this.getLineWidgetMaxWidth(), this.screenWidth);\n        return this.screenWidth;\n    };\n    this.getLineWidgetMaxWidth = function () {\n        if (this.lineWidgetsWidth != null)\n            return this.lineWidgetsWidth;\n        var width = 0;\n        this.lineWidgets.forEach(function (w) {\n            if (w && w.screenWidth > width)\n                width = w.screenWidth;\n        });\n        return this.lineWidgetWidth = width;\n    };\n    this.$computeWidth = function (force) {\n        if (this.$modified || force) {\n            this.$modified = false;\n            if (this.$useWrapMode)\n                return this.screenWidth = this.$wrapLimit;\n            var lines = this.doc.getAllLines();\n            var cache = this.$rowLengthCache;\n            var longestScreenLine = 0;\n            var foldIndex = 0;\n            var foldLine = this.$foldData[foldIndex];\n            var foldStart = foldLine ? foldLine.start.row : Infinity;\n            var len = lines.length;\n            for (var i = 0; i < len; i++) {\n                if (i > foldStart) {\n                    i = foldLine.end.row + 1;\n                    if (i >= len)\n                        break;\n                    foldLine = this.$foldData[foldIndex++];\n                    foldStart = foldLine ? foldLine.start.row : Infinity;\n                }\n                if (cache[i] == null)\n                    cache[i] = this.$getStringScreenWidth(lines[i])[0];\n                if (cache[i] > longestScreenLine)\n                    longestScreenLine = cache[i];\n            }\n            this.screenWidth = longestScreenLine;\n        }\n    };\n    this.getLine = function (row) {\n        return this.doc.getLine(row);\n    };\n    this.getLines = function (firstRow, lastRow) {\n        return this.doc.getLines(firstRow, lastRow);\n    };\n    this.getLength = function () {\n        return this.doc.getLength();\n    };\n    this.getTextRange = function (range) {\n        return this.doc.getTextRange(range || this.selection.getRange());\n    };\n    this.insert = function (position, text) {\n        return this.doc.insert(position, text);\n    };\n    this.remove = function (range) {\n        return this.doc.remove(range);\n    };\n    this.removeFullLines = function (firstRow, lastRow) {\n        return this.doc.removeFullLines(firstRow, lastRow);\n    };\n    this.undoChanges = function (deltas, dontSelect) {\n        if (!deltas.length)\n            return;\n        this.$fromUndo = true;\n        for (var i = deltas.length - 1; i != -1; i--) {\n            var delta = deltas[i];\n            if (delta.action == \"insert\" || delta.action == \"remove\") {\n                this.doc.revertDelta(delta);\n            }\n            else if (delta.folds) {\n                this.addFolds(delta.folds);\n            }\n        }\n        if (!dontSelect && this.$undoSelect) {\n            if (deltas.selectionBefore)\n                this.selection.fromJSON(deltas.selectionBefore);\n            else\n                this.selection.setRange(this.$getUndoSelection(deltas, true));\n        }\n        this.$fromUndo = false;\n    };\n    this.redoChanges = function (deltas, dontSelect) {\n        if (!deltas.length)\n            return;\n        this.$fromUndo = true;\n        for (var i = 0; i < deltas.length; i++) {\n            var delta = deltas[i];\n            if (delta.action == \"insert\" || delta.action == \"remove\") {\n                this.doc.$safeApplyDelta(delta);\n            }\n        }\n        if (!dontSelect && this.$undoSelect) {\n            if (deltas.selectionAfter)\n                this.selection.fromJSON(deltas.selectionAfter);\n            else\n                this.selection.setRange(this.$getUndoSelection(deltas, false));\n        }\n        this.$fromUndo = false;\n    };\n    this.setUndoSelect = function (enable) {\n        this.$undoSelect = enable;\n    };\n    this.$getUndoSelection = function (deltas, isUndo) {\n        function isInsert(delta) {\n            return isUndo ? delta.action !== \"insert\" : delta.action === \"insert\";\n        }\n        var range, point;\n        for (var i = 0; i < deltas.length; i++) {\n            var delta = deltas[i];\n            if (!delta.start)\n                continue; // skip folds\n            if (!range) {\n                if (isInsert(delta)) {\n                    range = Range.fromPoints(delta.start, delta.end);\n                }\n                else {\n                    range = Range.fromPoints(delta.start, delta.start);\n                }\n                continue;\n            }\n            if (isInsert(delta)) {\n                point = delta.start;\n                if (range.compare(point.row, point.column) == -1) {\n                    range.setStart(point);\n                }\n                point = delta.end;\n                if (range.compare(point.row, point.column) == 1) {\n                    range.setEnd(point);\n                }\n            }\n            else {\n                point = delta.start;\n                if (range.compare(point.row, point.column) == -1) {\n                    range = Range.fromPoints(delta.start, delta.start);\n                }\n            }\n        }\n        return range;\n    };\n    this.replace = function (range, text) {\n        return this.doc.replace(range, text);\n    };\n    this.moveText = function (fromRange, toPosition, copy) {\n        var text = this.getTextRange(fromRange);\n        var folds = this.getFoldsInRange(fromRange);\n        var toRange = Range.fromPoints(toPosition, toPosition);\n        if (!copy) {\n            this.remove(fromRange);\n            var rowDiff = fromRange.start.row - fromRange.end.row;\n            var collDiff = rowDiff ? -fromRange.end.column : fromRange.start.column - fromRange.end.column;\n            if (collDiff) {\n                if (toRange.start.row == fromRange.end.row && toRange.start.column > fromRange.end.column)\n                    toRange.start.column += collDiff;\n                if (toRange.end.row == fromRange.end.row && toRange.end.column > fromRange.end.column)\n                    toRange.end.column += collDiff;\n            }\n            if (rowDiff && toRange.start.row >= fromRange.end.row) {\n                toRange.start.row += rowDiff;\n                toRange.end.row += rowDiff;\n            }\n        }\n        toRange.end = this.insert(toRange.start, text);\n        if (folds.length) {\n            var oldStart = fromRange.start;\n            var newStart = toRange.start;\n            var rowDiff = newStart.row - oldStart.row;\n            var collDiff = newStart.column - oldStart.column;\n            this.addFolds(folds.map(function (x) {\n                x = x.clone();\n                if (x.start.row == oldStart.row)\n                    x.start.column += collDiff;\n                if (x.end.row == oldStart.row)\n                    x.end.column += collDiff;\n                x.start.row += rowDiff;\n                x.end.row += rowDiff;\n                return x;\n            }));\n        }\n        return toRange;\n    };\n    this.indentRows = function (startRow, endRow, indentString) {\n        indentString = indentString.replace(/\\t/g, this.getTabString());\n        for (var row = startRow; row <= endRow; row++)\n            this.doc.insertInLine({ row: row, column: 0 }, indentString);\n    };\n    this.outdentRows = function (range) {\n        var rowRange = range.collapseRows();\n        var deleteRange = new Range(0, 0, 0, 0);\n        var size = this.getTabSize();\n        for (var i = rowRange.start.row; i <= rowRange.end.row; ++i) {\n            var line = this.getLine(i);\n            deleteRange.start.row = i;\n            deleteRange.end.row = i;\n            for (var j = 0; j < size; ++j)\n                if (line.charAt(j) != ' ')\n                    break;\n            if (j < size && line.charAt(j) == '\\t') {\n                deleteRange.start.column = j;\n                deleteRange.end.column = j + 1;\n            }\n            else {\n                deleteRange.start.column = 0;\n                deleteRange.end.column = j;\n            }\n            this.remove(deleteRange);\n        }\n    };\n    this.$moveLines = function (firstRow, lastRow, dir) {\n        firstRow = this.getRowFoldStart(firstRow);\n        lastRow = this.getRowFoldEnd(lastRow);\n        if (dir < 0) {\n            var row = this.getRowFoldStart(firstRow + dir);\n            if (row < 0)\n                return 0;\n            var diff = row - firstRow;\n        }\n        else if (dir > 0) {\n            var row = this.getRowFoldEnd(lastRow + dir);\n            if (row > this.doc.getLength() - 1)\n                return 0;\n            var diff = row - lastRow;\n        }\n        else {\n            firstRow = this.$clipRowToDocument(firstRow);\n            lastRow = this.$clipRowToDocument(lastRow);\n            var diff = lastRow - firstRow + 1;\n        }\n        var range = new Range(firstRow, 0, lastRow, Number.MAX_VALUE);\n        var folds = this.getFoldsInRange(range).map(function (x) {\n            x = x.clone();\n            x.start.row += diff;\n            x.end.row += diff;\n            return x;\n        });\n        var lines = dir == 0\n            ? this.doc.getLines(firstRow, lastRow)\n            : this.doc.removeFullLines(firstRow, lastRow);\n        this.doc.insertFullLines(firstRow + diff, lines);\n        folds.length && this.addFolds(folds);\n        return diff;\n    };\n    this.moveLinesUp = function (firstRow, lastRow) {\n        return this.$moveLines(firstRow, lastRow, -1);\n    };\n    this.moveLinesDown = function (firstRow, lastRow) {\n        return this.$moveLines(firstRow, lastRow, 1);\n    };\n    this.duplicateLines = function (firstRow, lastRow) {\n        return this.$moveLines(firstRow, lastRow, 0);\n    };\n    this.$clipRowToDocument = function (row) {\n        return Math.max(0, Math.min(row, this.doc.getLength() - 1));\n    };\n    this.$clipColumnToRow = function (row, column) {\n        if (column < 0)\n            return 0;\n        return Math.min(this.doc.getLine(row).length, column);\n    };\n    this.$clipPositionToDocument = function (row, column) {\n        column = Math.max(0, column);\n        if (row < 0) {\n            row = 0;\n            column = 0;\n        }\n        else {\n            var len = this.doc.getLength();\n            if (row >= len) {\n                row = len - 1;\n                column = this.doc.getLine(len - 1).length;\n            }\n            else {\n                column = Math.min(this.doc.getLine(row).length, column);\n            }\n        }\n        return {\n            row: row,\n            column: column\n        };\n    };\n    this.$clipRangeToDocument = function (range) {\n        if (range.start.row < 0) {\n            range.start.row = 0;\n            range.start.column = 0;\n        }\n        else {\n            range.start.column = this.$clipColumnToRow(range.start.row, range.start.column);\n        }\n        var len = this.doc.getLength() - 1;\n        if (range.end.row > len) {\n            range.end.row = len;\n            range.end.column = this.doc.getLine(len).length;\n        }\n        else {\n            range.end.column = this.$clipColumnToRow(range.end.row, range.end.column);\n        }\n        return range;\n    };\n    this.$wrapLimit = 80;\n    this.$useWrapMode = false;\n    this.$wrapLimitRange = {\n        min: null,\n        max: null\n    };\n    this.setUseWrapMode = function (useWrapMode) {\n        if (useWrapMode != this.$useWrapMode) {\n            this.$useWrapMode = useWrapMode;\n            this.$modified = true;\n            this.$resetRowCache(0);\n            if (useWrapMode) {\n                var len = this.getLength();\n                this.$wrapData = Array(len);\n                this.$updateWrapData(0, len - 1);\n            }\n            this._signal(\"changeWrapMode\");\n        }\n    };\n    this.getUseWrapMode = function () {\n        return this.$useWrapMode;\n    };\n    this.setWrapLimitRange = function (min, max) {\n        if (this.$wrapLimitRange.min !== min || this.$wrapLimitRange.max !== max) {\n            this.$wrapLimitRange = { min: min, max: max };\n            this.$modified = true;\n            this.$bidiHandler.markAsDirty();\n            if (this.$useWrapMode)\n                this._signal(\"changeWrapMode\");\n        }\n    };\n    this.adjustWrapLimit = function (desiredLimit, $printMargin) {\n        var limits = this.$wrapLimitRange;\n        if (limits.max < 0)\n            limits = { min: $printMargin, max: $printMargin };\n        var wrapLimit = this.$constrainWrapLimit(desiredLimit, limits.min, limits.max);\n        if (wrapLimit != this.$wrapLimit && wrapLimit > 1) {\n            this.$wrapLimit = wrapLimit;\n            this.$modified = true;\n            if (this.$useWrapMode) {\n                this.$updateWrapData(0, this.getLength() - 1);\n                this.$resetRowCache(0);\n                this._signal(\"changeWrapLimit\");\n            }\n            return true;\n        }\n        return false;\n    };\n    this.$constrainWrapLimit = function (wrapLimit, min, max) {\n        if (min)\n            wrapLimit = Math.max(min, wrapLimit);\n        if (max)\n            wrapLimit = Math.min(max, wrapLimit);\n        return wrapLimit;\n    };\n    this.getWrapLimit = function () {\n        return this.$wrapLimit;\n    };\n    this.setWrapLimit = function (limit) {\n        this.setWrapLimitRange(limit, limit);\n    };\n    this.getWrapLimitRange = function () {\n        return {\n            min: this.$wrapLimitRange.min,\n            max: this.$wrapLimitRange.max\n        };\n    };\n    this.$updateInternalDataOnChange = function (delta) {\n        var useWrapMode = this.$useWrapMode;\n        var action = delta.action;\n        var start = delta.start;\n        var end = delta.end;\n        var firstRow = start.row;\n        var lastRow = end.row;\n        var len = lastRow - firstRow;\n        var removedFolds = null;\n        this.$updating = true;\n        if (len != 0) {\n            if (action === \"remove\") {\n                this[useWrapMode ? \"$wrapData\" : \"$rowLengthCache\"].splice(firstRow, len);\n                var foldLines = this.$foldData;\n                removedFolds = this.getFoldsInRange(delta);\n                this.removeFolds(removedFolds);\n                var foldLine = this.getFoldLine(end.row);\n                var idx = 0;\n                if (foldLine) {\n                    foldLine.addRemoveChars(end.row, end.column, start.column - end.column);\n                    foldLine.shiftRow(-len);\n                    var foldLineBefore = this.getFoldLine(firstRow);\n                    if (foldLineBefore && foldLineBefore !== foldLine) {\n                        foldLineBefore.merge(foldLine);\n                        foldLine = foldLineBefore;\n                    }\n                    idx = foldLines.indexOf(foldLine) + 1;\n                }\n                for (idx; idx < foldLines.length; idx++) {\n                    var foldLine = foldLines[idx];\n                    if (foldLine.start.row >= end.row) {\n                        foldLine.shiftRow(-len);\n                    }\n                }\n                lastRow = firstRow;\n            }\n            else {\n                var args = Array(len);\n                args.unshift(firstRow, 0);\n                var arr = useWrapMode ? this.$wrapData : this.$rowLengthCache;\n                arr.splice.apply(arr, args);\n                var foldLines = this.$foldData;\n                var foldLine = this.getFoldLine(firstRow);\n                var idx = 0;\n                if (foldLine) {\n                    var cmp = foldLine.range.compareInside(start.row, start.column);\n                    if (cmp == 0) {\n                        foldLine = foldLine.split(start.row, start.column);\n                        if (foldLine) {\n                            foldLine.shiftRow(len);\n                            foldLine.addRemoveChars(lastRow, 0, end.column - start.column);\n                        }\n                    }\n                    else \n                    if (cmp == -1) {\n                        foldLine.addRemoveChars(firstRow, 0, end.column - start.column);\n                        foldLine.shiftRow(len);\n                    }\n                    idx = foldLines.indexOf(foldLine) + 1;\n                }\n                for (idx; idx < foldLines.length; idx++) {\n                    var foldLine = foldLines[idx];\n                    if (foldLine.start.row >= firstRow) {\n                        foldLine.shiftRow(len);\n                    }\n                }\n            }\n        }\n        else {\n            len = Math.abs(delta.start.column - delta.end.column);\n            if (action === \"remove\") {\n                removedFolds = this.getFoldsInRange(delta);\n                this.removeFolds(removedFolds);\n                len = -len;\n            }\n            var foldLine = this.getFoldLine(firstRow);\n            if (foldLine) {\n                foldLine.addRemoveChars(firstRow, start.column, len);\n            }\n        }\n        if (useWrapMode && this.$wrapData.length != this.doc.getLength()) {\n            console.error(\"doc.getLength() and $wrapData.length have to be the same!\");\n        }\n        this.$updating = false;\n        if (useWrapMode)\n            this.$updateWrapData(firstRow, lastRow);\n        else\n            this.$updateRowLengthCache(firstRow, lastRow);\n        return removedFolds;\n    };\n    this.$updateRowLengthCache = function (firstRow, lastRow, b) {\n        this.$rowLengthCache[firstRow] = null;\n        this.$rowLengthCache[lastRow] = null;\n    };\n    this.$updateWrapData = function (firstRow, lastRow) {\n        var lines = this.doc.getAllLines();\n        var tabSize = this.getTabSize();\n        var wrapData = this.$wrapData;\n        var wrapLimit = this.$wrapLimit;\n        var tokens;\n        var foldLine;\n        var row = firstRow;\n        lastRow = Math.min(lastRow, lines.length - 1);\n        while (row <= lastRow) {\n            foldLine = this.getFoldLine(row, foldLine);\n            if (!foldLine) {\n                tokens = this.$getDisplayTokens(lines[row]);\n                wrapData[row] = this.$computeWrapSplits(tokens, wrapLimit, tabSize);\n                row++;\n            }\n            else {\n                tokens = [];\n                foldLine.walk(function (placeholder, row, column, lastColumn) {\n                    var walkTokens;\n                    if (placeholder != null) {\n                        walkTokens = this.$getDisplayTokens(placeholder, tokens.length);\n                        walkTokens[0] = PLACEHOLDER_START;\n                        for (var i = 1; i < walkTokens.length; i++) {\n                            walkTokens[i] = PLACEHOLDER_BODY;\n                        }\n                    }\n                    else {\n                        walkTokens = this.$getDisplayTokens(lines[row].substring(lastColumn, column), tokens.length);\n                    }\n                    tokens = tokens.concat(walkTokens);\n                }.bind(this), foldLine.end.row, lines[foldLine.end.row].length + 1);\n                wrapData[foldLine.start.row] = this.$computeWrapSplits(tokens, wrapLimit, tabSize);\n                row = foldLine.end.row + 1;\n            }\n        }\n    };\n    var CHAR = 1, CHAR_EXT = 2, PLACEHOLDER_START = 3, PLACEHOLDER_BODY = 4, PUNCTUATION = 9, SPACE = 10, TAB = 11, TAB_SPACE = 12;\n    this.$computeWrapSplits = function (tokens, wrapLimit, tabSize) {\n        if (tokens.length == 0) {\n            return [];\n        }\n        var splits = [];\n        var displayLength = tokens.length;\n        var lastSplit = 0, lastDocSplit = 0;\n        var isCode = this.$wrapAsCode;\n        var indentedSoftWrap = this.$indentedSoftWrap;\n        var maxIndent = wrapLimit <= Math.max(2 * tabSize, 8)\n            || indentedSoftWrap === false ? 0 : Math.floor(wrapLimit / 2);\n        function getWrapIndent() {\n            var indentation = 0;\n            if (maxIndent === 0)\n                return indentation;\n            if (indentedSoftWrap) {\n                for (var i = 0; i < tokens.length; i++) {\n                    var token = tokens[i];\n                    if (token == SPACE)\n                        indentation += 1;\n                    else if (token == TAB)\n                        indentation += tabSize;\n                    else if (token == TAB_SPACE)\n                        continue;\n                    else\n                        break;\n                }\n            }\n            if (isCode && indentedSoftWrap !== false)\n                indentation += tabSize;\n            return Math.min(indentation, maxIndent);\n        }\n        function addSplit(screenPos) {\n            var len = screenPos - lastSplit;\n            for (var i = lastSplit; i < screenPos; i++) {\n                var ch = tokens[i];\n                if (ch === 12 || ch === 2)\n                    len -= 1;\n            }\n            if (!splits.length) {\n                indent = getWrapIndent();\n                splits.indent = indent;\n            }\n            lastDocSplit += len;\n            splits.push(lastDocSplit);\n            lastSplit = screenPos;\n        }\n        var indent = 0;\n        while (displayLength - lastSplit > wrapLimit - indent) {\n            var split = lastSplit + wrapLimit - indent;\n            if (tokens[split - 1] >= SPACE && tokens[split] >= SPACE) {\n                addSplit(split);\n                continue;\n            }\n            if (tokens[split] == PLACEHOLDER_START || tokens[split] == PLACEHOLDER_BODY) {\n                for (split; split != lastSplit - 1; split--) {\n                    if (tokens[split] == PLACEHOLDER_START) {\n                        break;\n                    }\n                }\n                if (split > lastSplit) {\n                    addSplit(split);\n                    continue;\n                }\n                split = lastSplit + wrapLimit;\n                for (split; split < tokens.length; split++) {\n                    if (tokens[split] != PLACEHOLDER_BODY) {\n                        break;\n                    }\n                }\n                if (split == tokens.length) {\n                    break; // Breaks the while-loop.\n                }\n                addSplit(split);\n                continue;\n            }\n            var minSplit = Math.max(split - (wrapLimit - (wrapLimit >> 2)), lastSplit - 1);\n            while (split > minSplit && tokens[split] < PLACEHOLDER_START) {\n                split--;\n            }\n            if (isCode) {\n                while (split > minSplit && tokens[split] < PLACEHOLDER_START) {\n                    split--;\n                }\n                while (split > minSplit && tokens[split] == PUNCTUATION) {\n                    split--;\n                }\n            }\n            else {\n                while (split > minSplit && tokens[split] < SPACE) {\n                    split--;\n                }\n            }\n            if (split > minSplit) {\n                addSplit(++split);\n                continue;\n            }\n            split = lastSplit + wrapLimit;\n            if (tokens[split] == CHAR_EXT)\n                split--;\n            addSplit(split - indent);\n        }\n        return splits;\n    };\n    this.$getDisplayTokens = function (str, offset) {\n        var arr = [];\n        var tabSize;\n        offset = offset || 0;\n        for (var i = 0; i < str.length; i++) {\n            var c = str.charCodeAt(i);\n            if (c == 9) {\n                tabSize = this.getScreenTabSize(arr.length + offset);\n                arr.push(TAB);\n                for (var n = 1; n < tabSize; n++) {\n                    arr.push(TAB_SPACE);\n                }\n            }\n            else if (c == 32) {\n                arr.push(SPACE);\n            }\n            else if ((c > 39 && c < 48) || (c > 57 && c < 64)) {\n                arr.push(PUNCTUATION);\n            }\n            else if (c >= 0x1100 && isFullWidth(c)) {\n                arr.push(CHAR, CHAR_EXT);\n            }\n            else {\n                arr.push(CHAR);\n            }\n        }\n        return arr;\n    };\n    this.$getStringScreenWidth = function (str, maxScreenColumn, screenColumn) {\n        if (maxScreenColumn == 0)\n            return [0, 0];\n        if (maxScreenColumn == null)\n            maxScreenColumn = Infinity;\n        screenColumn = screenColumn || 0;\n        var c, column;\n        for (column = 0; column < str.length; column++) {\n            c = str.charCodeAt(column);\n            if (c == 9) {\n                screenColumn += this.getScreenTabSize(screenColumn);\n            }\n            else if (c >= 0x1100 && isFullWidth(c)) {\n                screenColumn += 2;\n            }\n            else {\n                screenColumn += 1;\n            }\n            if (screenColumn > maxScreenColumn) {\n                break;\n            }\n        }\n        return [screenColumn, column];\n    };\n    this.lineWidgets = null;\n    this.getRowLength = function (row) {\n        var h = 1;\n        if (this.lineWidgets)\n            h += this.lineWidgets[row] && this.lineWidgets[row].rowCount || 0;\n        if (!this.$useWrapMode || !this.$wrapData[row])\n            return h;\n        else\n            return this.$wrapData[row].length + h;\n    };\n    this.getRowLineCount = function (row) {\n        if (!this.$useWrapMode || !this.$wrapData[row]) {\n            return 1;\n        }\n        else {\n            return this.$wrapData[row].length + 1;\n        }\n    };\n    this.getRowWrapIndent = function (screenRow) {\n        if (this.$useWrapMode) {\n            var pos = this.screenToDocumentPosition(screenRow, Number.MAX_VALUE);\n            var splits = this.$wrapData[pos.row];\n            return splits.length && splits[0] < pos.column ? splits.indent : 0;\n        }\n        else {\n            return 0;\n        }\n    };\n    this.getScreenLastRowColumn = function (screenRow) {\n        var pos = this.screenToDocumentPosition(screenRow, Number.MAX_VALUE);\n        return this.documentToScreenColumn(pos.row, pos.column);\n    };\n    this.getDocumentLastRowColumn = function (docRow, docColumn) {\n        var screenRow = this.documentToScreenRow(docRow, docColumn);\n        return this.getScreenLastRowColumn(screenRow);\n    };\n    this.getDocumentLastRowColumnPosition = function (docRow, docColumn) {\n        var screenRow = this.documentToScreenRow(docRow, docColumn);\n        return this.screenToDocumentPosition(screenRow, Number.MAX_VALUE / 10);\n    };\n    this.getRowSplitData = function (row) {\n        if (!this.$useWrapMode) {\n            return undefined;\n        }\n        else {\n            return this.$wrapData[row];\n        }\n    };\n    this.getScreenTabSize = function (screenColumn) {\n        return this.$tabSize - (screenColumn % this.$tabSize | 0);\n    };\n    this.screenToDocumentRow = function (screenRow, screenColumn) {\n        return this.screenToDocumentPosition(screenRow, screenColumn).row;\n    };\n    this.screenToDocumentColumn = function (screenRow, screenColumn) {\n        return this.screenToDocumentPosition(screenRow, screenColumn).column;\n    };\n    this.screenToDocumentPosition = function (screenRow, screenColumn, offsetX) {\n        if (screenRow < 0)\n            return { row: 0, column: 0 };\n        var line;\n        var docRow = 0;\n        var docColumn = 0;\n        var column;\n        var row = 0;\n        var rowLength = 0;\n        var rowCache = this.$screenRowCache;\n        var i = this.$getRowCacheIndex(rowCache, screenRow);\n        var l = rowCache.length;\n        if (l && i >= 0) {\n            var row = rowCache[i];\n            var docRow = this.$docRowCache[i];\n            var doCache = screenRow > rowCache[l - 1];\n        }\n        else {\n            var doCache = !l;\n        }\n        var maxRow = this.getLength() - 1;\n        var foldLine = this.getNextFoldLine(docRow);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n        while (row <= screenRow) {\n            rowLength = this.getRowLength(docRow);\n            if (row + rowLength > screenRow || docRow >= maxRow) {\n                break;\n            }\n            else {\n                row += rowLength;\n                docRow++;\n                if (docRow > foldStart) {\n                    docRow = foldLine.end.row + 1;\n                    foldLine = this.getNextFoldLine(docRow, foldLine);\n                    foldStart = foldLine ? foldLine.start.row : Infinity;\n                }\n            }\n            if (doCache) {\n                this.$docRowCache.push(docRow);\n                this.$screenRowCache.push(row);\n            }\n        }\n        if (foldLine && foldLine.start.row <= docRow) {\n            line = this.getFoldDisplayLine(foldLine);\n            docRow = foldLine.start.row;\n        }\n        else if (row + rowLength <= screenRow || docRow > maxRow) {\n            return {\n                row: maxRow,\n                column: this.getLine(maxRow).length\n            };\n        }\n        else {\n            line = this.getLine(docRow);\n            foldLine = null;\n        }\n        var wrapIndent = 0, splitIndex = Math.floor(screenRow - row);\n        if (this.$useWrapMode) {\n            var splits = this.$wrapData[docRow];\n            if (splits) {\n                column = splits[splitIndex];\n                if (splitIndex > 0 && splits.length) {\n                    wrapIndent = splits.indent;\n                    docColumn = splits[splitIndex - 1] || splits[splits.length - 1];\n                    line = line.substring(docColumn);\n                }\n            }\n        }\n        if (offsetX !== undefined && this.$bidiHandler.isBidiRow(row + splitIndex, docRow, splitIndex))\n            screenColumn = this.$bidiHandler.offsetToCol(offsetX);\n        docColumn += this.$getStringScreenWidth(line, screenColumn - wrapIndent)[1];\n        if (this.$useWrapMode && docColumn >= column)\n            docColumn = column - 1;\n        if (foldLine)\n            return foldLine.idxToPosition(docColumn);\n        return { row: docRow, column: docColumn };\n    };\n    this.documentToScreenPosition = function (docRow, docColumn) {\n        if (typeof docColumn === \"undefined\")\n            var pos = this.$clipPositionToDocument(docRow.row, docRow.column);\n        else\n            pos = this.$clipPositionToDocument(docRow, docColumn);\n        docRow = pos.row;\n        docColumn = pos.column;\n        var screenRow = 0;\n        var foldStartRow = null;\n        var fold = null;\n        fold = this.getFoldAt(docRow, docColumn, 1);\n        if (fold) {\n            docRow = fold.start.row;\n            docColumn = fold.start.column;\n        }\n        var rowEnd, row = 0;\n        var rowCache = this.$docRowCache;\n        var i = this.$getRowCacheIndex(rowCache, docRow);\n        var l = rowCache.length;\n        if (l && i >= 0) {\n            var row = rowCache[i];\n            var screenRow = this.$screenRowCache[i];\n            var doCache = docRow > rowCache[l - 1];\n        }\n        else {\n            var doCache = !l;\n        }\n        var foldLine = this.getNextFoldLine(row);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n        while (row < docRow) {\n            if (row >= foldStart) {\n                rowEnd = foldLine.end.row + 1;\n                if (rowEnd > docRow)\n                    break;\n                foldLine = this.getNextFoldLine(rowEnd, foldLine);\n                foldStart = foldLine ? foldLine.start.row : Infinity;\n            }\n            else {\n                rowEnd = row + 1;\n            }\n            screenRow += this.getRowLength(row);\n            row = rowEnd;\n            if (doCache) {\n                this.$docRowCache.push(row);\n                this.$screenRowCache.push(screenRow);\n            }\n        }\n        var textLine = \"\";\n        if (foldLine && row >= foldStart) {\n            textLine = this.getFoldDisplayLine(foldLine, docRow, docColumn);\n            foldStartRow = foldLine.start.row;\n        }\n        else {\n            textLine = this.getLine(docRow).substring(0, docColumn);\n            foldStartRow = docRow;\n        }\n        var wrapIndent = 0;\n        if (this.$useWrapMode) {\n            var wrapRow = this.$wrapData[foldStartRow];\n            if (wrapRow) {\n                var screenRowOffset = 0;\n                while (textLine.length >= wrapRow[screenRowOffset]) {\n                    screenRow++;\n                    screenRowOffset++;\n                }\n                textLine = textLine.substring(wrapRow[screenRowOffset - 1] || 0, textLine.length);\n                wrapIndent = screenRowOffset > 0 ? wrapRow.indent : 0;\n            }\n        }\n        if (this.lineWidgets && this.lineWidgets[row] && this.lineWidgets[row].rowsAbove)\n            screenRow += this.lineWidgets[row].rowsAbove;\n        return {\n            row: screenRow,\n            column: wrapIndent + this.$getStringScreenWidth(textLine)[0]\n        };\n    };\n    this.documentToScreenColumn = function (row, docColumn) {\n        return this.documentToScreenPosition(row, docColumn).column;\n    };\n    this.documentToScreenRow = function (docRow, docColumn) {\n        return this.documentToScreenPosition(docRow, docColumn).row;\n    };\n    this.getScreenLength = function () {\n        var screenRows = 0;\n        var fold = null;\n        if (!this.$useWrapMode) {\n            screenRows = this.getLength();\n            var foldData = this.$foldData;\n            for (var i = 0; i < foldData.length; i++) {\n                fold = foldData[i];\n                screenRows -= fold.end.row - fold.start.row;\n            }\n        }\n        else {\n            var lastRow = this.$wrapData.length;\n            var row = 0, i = 0;\n            var fold = this.$foldData[i++];\n            var foldStart = fold ? fold.start.row : Infinity;\n            while (row < lastRow) {\n                var splits = this.$wrapData[row];\n                screenRows += splits ? splits.length + 1 : 1;\n                row++;\n                if (row > foldStart) {\n                    row = fold.end.row + 1;\n                    fold = this.$foldData[i++];\n                    foldStart = fold ? fold.start.row : Infinity;\n                }\n            }\n        }\n        if (this.lineWidgets)\n            screenRows += this.$getWidgetScreenLength();\n        return screenRows;\n    };\n    this.$setFontMetrics = function (fm) {\n        if (!this.$enableVarChar)\n            return;\n        this.$getStringScreenWidth = function (str, maxScreenColumn, screenColumn) {\n            if (maxScreenColumn === 0)\n                return [0, 0];\n            if (!maxScreenColumn)\n                maxScreenColumn = Infinity;\n            screenColumn = screenColumn || 0;\n            var c, column;\n            for (column = 0; column < str.length; column++) {\n                c = str.charAt(column);\n                if (c === \"\\t\") {\n                    screenColumn += this.getScreenTabSize(screenColumn);\n                }\n                else {\n                    screenColumn += fm.getCharacterWidth(c);\n                }\n                if (screenColumn > maxScreenColumn) {\n                    break;\n                }\n            }\n            return [screenColumn, column];\n        };\n    };\n    this.destroy = function () {\n        if (!this.destroyed) {\n            this.bgTokenizer.setDocument(null);\n            this.bgTokenizer.cleanup();\n            this.destroyed = true;\n        }\n        this.$stopWorker();\n        this.removeAllListeners();\n        if (this.doc) {\n            this.doc.off(\"change\", this.$onChange);\n        }\n        this.selection.detach();\n    };\n    this.isFullWidth = isFullWidth;\n    function isFullWidth(c) {\n        if (c < 0x1100)\n            return false;\n        return c >= 0x1100 && c <= 0x115F ||\n            c >= 0x11A3 && c <= 0x11A7 ||\n            c >= 0x11FA && c <= 0x11FF ||\n            c >= 0x2329 && c <= 0x232A ||\n            c >= 0x2E80 && c <= 0x2E99 ||\n            c >= 0x2E9B && c <= 0x2EF3 ||\n            c >= 0x2F00 && c <= 0x2FD5 ||\n            c >= 0x2FF0 && c <= 0x2FFB ||\n            c >= 0x3000 && c <= 0x303E ||\n            c >= 0x3041 && c <= 0x3096 ||\n            c >= 0x3099 && c <= 0x30FF ||\n            c >= 0x3105 && c <= 0x312D ||\n            c >= 0x3131 && c <= 0x318E ||\n            c >= 0x3190 && c <= 0x31BA ||\n            c >= 0x31C0 && c <= 0x31E3 ||\n            c >= 0x31F0 && c <= 0x321E ||\n            c >= 0x3220 && c <= 0x3247 ||\n            c >= 0x3250 && c <= 0x32FE ||\n            c >= 0x3300 && c <= 0x4DBF ||\n            c >= 0x4E00 && c <= 0xA48C ||\n            c >= 0xA490 && c <= 0xA4C6 ||\n            c >= 0xA960 && c <= 0xA97C ||\n            c >= 0xAC00 && c <= 0xD7A3 ||\n            c >= 0xD7B0 && c <= 0xD7C6 ||\n            c >= 0xD7CB && c <= 0xD7FB ||\n            c >= 0xF900 && c <= 0xFAFF ||\n            c >= 0xFE10 && c <= 0xFE19 ||\n            c >= 0xFE30 && c <= 0xFE52 ||\n            c >= 0xFE54 && c <= 0xFE66 ||\n            c >= 0xFE68 && c <= 0xFE6B ||\n            c >= 0xFF01 && c <= 0xFF60 ||\n            c >= 0xFFE0 && c <= 0xFFE6;\n    }\n}).call(EditSession.prototype);\nrequire(\"./edit_session/folding\").Folding.call(EditSession.prototype);\nrequire(\"./edit_session/bracket_match\").BracketMatch.call(EditSession.prototype);\nconfig.defineOptions(EditSession.prototype, \"session\", {\n    wrap: {\n        set: function (value) {\n            if (!value || value == \"off\")\n                value = false;\n            else if (value == \"free\")\n                value = true;\n            else if (value == \"printMargin\")\n                value = -1;\n            else if (typeof value == \"string\")\n                value = parseInt(value, 10) || false;\n            if (this.$wrap == value)\n                return;\n            this.$wrap = value;\n            if (!value) {\n                this.setUseWrapMode(false);\n            }\n            else {\n                var col = typeof value == \"number\" ? value : null;\n                this.setWrapLimitRange(col, col);\n                this.setUseWrapMode(true);\n            }\n        },\n        get: function () {\n            if (this.getUseWrapMode()) {\n                if (this.$wrap == -1)\n                    return \"printMargin\";\n                if (!this.getWrapLimitRange().min)\n                    return \"free\";\n                return this.$wrap;\n            }\n            return \"off\";\n        },\n        handlesSet: true\n    },\n    wrapMethod: {\n        set: function (val) {\n            val = val == \"auto\"\n                ? this.$mode.type != \"text\"\n                : val != \"text\";\n            if (val != this.$wrapAsCode) {\n                this.$wrapAsCode = val;\n                if (this.$useWrapMode) {\n                    this.$useWrapMode = false;\n                    this.setUseWrapMode(true);\n                }\n            }\n        },\n        initialValue: \"auto\"\n    },\n    indentedSoftWrap: {\n        set: function () {\n            if (this.$useWrapMode) {\n                this.$useWrapMode = false;\n                this.setUseWrapMode(true);\n            }\n        },\n        initialValue: true\n    },\n    firstLineNumber: {\n        set: function () { this._signal(\"changeBreakpoint\"); },\n        initialValue: 1\n    },\n    useWorker: {\n        set: function (useWorker) {\n            this.$useWorker = useWorker;\n            this.$stopWorker();\n            if (useWorker)\n                this.$startWorker();\n        },\n        initialValue: true\n    },\n    useSoftTabs: { initialValue: true },\n    tabSize: {\n        set: function (tabSize) {\n            tabSize = parseInt(tabSize);\n            if (tabSize > 0 && this.$tabSize !== tabSize) {\n                this.$modified = true;\n                this.$rowLengthCache = [];\n                this.$tabSize = tabSize;\n                this._signal(\"changeTabSize\");\n            }\n        },\n        initialValue: 4,\n        handlesSet: true\n    },\n    navigateWithinSoftTabs: { initialValue: false },\n    foldStyle: {\n        set: function (val) { this.setFoldStyle(val); },\n        handlesSet: true\n    },\n    overwrite: {\n        set: function (val) { this._signal(\"changeOverwrite\"); },\n        initialValue: false\n    },\n    newLineMode: {\n        set: function (val) { this.doc.setNewLineMode(val); },\n        get: function () { return this.doc.getNewLineMode(); },\n        handlesSet: true\n    },\n    mode: {\n        set: function (val) { this.setMode(val); },\n        get: function () { return this.$modeId; },\n        handlesSet: true\n    }\n});\nexports.EditSession = EditSession;\n\n});\n\nace.define(\"ace/search\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/lib/oop\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar lang = require(\"./lib/lang\");\nvar oop = require(\"./lib/oop\");\nvar Range = require(\"./range\").Range;\nvar Search = function () {\n    this.$options = {};\n};\n(function () {\n    this.set = function (options) {\n        oop.mixin(this.$options, options);\n        return this;\n    };\n    this.getOptions = function () {\n        return lang.copyObject(this.$options);\n    };\n    this.setOptions = function (options) {\n        this.$options = options;\n    };\n    this.find = function (session) {\n        var options = this.$options;\n        var iterator = this.$matchIterator(session, options);\n        if (!iterator)\n            return false;\n        var firstRange = null;\n        iterator.forEach(function (sr, sc, er, ec) {\n            firstRange = new Range(sr, sc, er, ec);\n            if (sc == ec && options.start && options.start.start\n                && options.skipCurrent != false && firstRange.isEqual(options.start)) {\n                firstRange = null;\n                return false;\n            }\n            return true;\n        });\n        return firstRange;\n    };\n    this.findAll = function (session) {\n        var options = this.$options;\n        if (!options.needle)\n            return [];\n        this.$assembleRegExp(options);\n        var range = options.range;\n        var lines = range\n            ? session.getLines(range.start.row, range.end.row)\n            : session.doc.getAllLines();\n        var ranges = [];\n        var re = options.re;\n        if (options.$isMultiLine) {\n            var len = re.length;\n            var maxRow = lines.length - len;\n            var prevRange;\n            outer: for (var row = re.offset || 0; row <= maxRow; row++) {\n                for (var j = 0; j < len; j++)\n                    if (lines[row + j].search(re[j]) == -1)\n                        continue outer;\n                var startLine = lines[row];\n                var line = lines[row + len - 1];\n                var startIndex = startLine.length - startLine.match(re[0])[0].length;\n                var endIndex = line.match(re[len - 1])[0].length;\n                if (prevRange && prevRange.end.row === row &&\n                    prevRange.end.column > startIndex) {\n                    continue;\n                }\n                ranges.push(prevRange = new Range(row, startIndex, row + len - 1, endIndex));\n                if (len > 2)\n                    row = row + len - 2;\n            }\n        }\n        else {\n            for (var i = 0; i < lines.length; i++) {\n                var matches = lang.getMatchOffsets(lines[i], re);\n                for (var j = 0; j < matches.length; j++) {\n                    var match = matches[j];\n                    ranges.push(new Range(i, match.offset, i, match.offset + match.length));\n                }\n            }\n        }\n        if (range) {\n            var startColumn = range.start.column;\n            var endColumn = range.end.column;\n            var i = 0, j = ranges.length - 1;\n            while (i < j && ranges[i].start.column < startColumn && ranges[i].start.row == 0)\n                i++;\n            var endRow = range.end.row - range.start.row;\n            while (i < j && ranges[j].end.column > endColumn && ranges[j].end.row == endRow)\n                j--;\n            ranges = ranges.slice(i, j + 1);\n            for (i = 0, j = ranges.length; i < j; i++) {\n                ranges[i].start.row += range.start.row;\n                ranges[i].end.row += range.start.row;\n            }\n        }\n        return ranges;\n    };\n    this.replace = function (input, replacement) {\n        var options = this.$options;\n        var re = this.$assembleRegExp(options);\n        if (options.$isMultiLine)\n            return replacement;\n        if (!re)\n            return;\n        var match = re.exec(input);\n        if (!match || match[0].length != input.length)\n            return null;\n        replacement = input.replace(re, replacement);\n        if (options.preserveCase) {\n            replacement = replacement.split(\"\");\n            for (var i = Math.min(input.length, input.length); i--;) {\n                var ch = input[i];\n                if (ch && ch.toLowerCase() != ch)\n                    replacement[i] = replacement[i].toUpperCase();\n                else\n                    replacement[i] = replacement[i].toLowerCase();\n            }\n            replacement = replacement.join(\"\");\n        }\n        return replacement;\n    };\n    this.$assembleRegExp = function (options, $disableFakeMultiline) {\n        if (options.needle instanceof RegExp)\n            return options.re = options.needle;\n        var needle = options.needle;\n        if (!options.needle)\n            return options.re = false;\n        if (!options.regExp)\n            needle = lang.escapeRegExp(needle);\n        if (options.wholeWord)\n            needle = addWordBoundary(needle, options);\n        var modifier = options.caseSensitive ? \"gm\" : \"gmi\";\n        options.$isMultiLine = !$disableFakeMultiline && /[\\n\\r]/.test(needle);\n        if (options.$isMultiLine)\n            return options.re = this.$assembleMultilineRegExp(needle, modifier);\n        try {\n            var re = new RegExp(needle, modifier);\n        }\n        catch (e) {\n            re = false;\n        }\n        return options.re = re;\n    };\n    this.$assembleMultilineRegExp = function (needle, modifier) {\n        var parts = needle.replace(/\\r\\n|\\r|\\n/g, \"$\\n^\").split(\"\\n\");\n        var re = [];\n        for (var i = 0; i < parts.length; i++)\n            try {\n                re.push(new RegExp(parts[i], modifier));\n            }\n            catch (e) {\n                return false;\n            }\n        return re;\n    };\n    this.$matchIterator = function (session, options) {\n        var re = this.$assembleRegExp(options);\n        if (!re)\n            return false;\n        var backwards = options.backwards == true;\n        var skipCurrent = options.skipCurrent != false;\n        var range = options.range;\n        var start = options.start;\n        if (!start)\n            start = range ? range[backwards ? \"end\" : \"start\"] : session.selection.getRange();\n        if (start.start)\n            start = start[skipCurrent != backwards ? \"end\" : \"start\"];\n        var firstRow = range ? range.start.row : 0;\n        var lastRow = range ? range.end.row : session.getLength() - 1;\n        if (backwards) {\n            var forEach = function (callback) {\n                var row = start.row;\n                if (forEachInLine(row, start.column, callback))\n                    return;\n                for (row--; row >= firstRow; row--)\n                    if (forEachInLine(row, Number.MAX_VALUE, callback))\n                        return;\n                if (options.wrap == false)\n                    return;\n                for (row = lastRow, firstRow = start.row; row >= firstRow; row--)\n                    if (forEachInLine(row, Number.MAX_VALUE, callback))\n                        return;\n            };\n        }\n        else {\n            var forEach = function (callback) {\n                var row = start.row;\n                if (forEachInLine(row, start.column, callback))\n                    return;\n                for (row = row + 1; row <= lastRow; row++)\n                    if (forEachInLine(row, 0, callback))\n                        return;\n                if (options.wrap == false)\n                    return;\n                for (row = firstRow, lastRow = start.row; row <= lastRow; row++)\n                    if (forEachInLine(row, 0, callback))\n                        return;\n            };\n        }\n        if (options.$isMultiLine) {\n            var len = re.length;\n            var forEachInLine = function (row, offset, callback) {\n                var startRow = backwards ? row - len + 1 : row;\n                if (startRow < 0 || startRow + len > session.getLength())\n                    return;\n                var line = session.getLine(startRow);\n                var startIndex = line.search(re[0]);\n                if (!backwards && startIndex < offset || startIndex === -1)\n                    return;\n                for (var i = 1; i < len; i++) {\n                    line = session.getLine(startRow + i);\n                    if (line.search(re[i]) == -1)\n                        return;\n                }\n                var endIndex = line.match(re[len - 1])[0].length;\n                if (backwards && endIndex > offset)\n                    return;\n                if (callback(startRow, startIndex, startRow + len - 1, endIndex))\n                    return true;\n            };\n        }\n        else if (backwards) {\n            var forEachInLine = function (row, endIndex, callback) {\n                var line = session.getLine(row);\n                var matches = [];\n                var m, last = 0;\n                re.lastIndex = 0;\n                while ((m = re.exec(line))) {\n                    var length = m[0].length;\n                    last = m.index;\n                    if (!length) {\n                        if (last >= line.length)\n                            break;\n                        re.lastIndex = last += 1;\n                    }\n                    if (m.index + length > endIndex)\n                        break;\n                    matches.push(m.index, length);\n                }\n                for (var i = matches.length - 1; i >= 0; i -= 2) {\n                    var column = matches[i - 1];\n                    var length = matches[i];\n                    if (callback(row, column, row, column + length))\n                        return true;\n                }\n            };\n        }\n        else {\n            var forEachInLine = function (row, startIndex, callback) {\n                var line = session.getLine(row);\n                var last;\n                var m;\n                re.lastIndex = startIndex;\n                while ((m = re.exec(line))) {\n                    var length = m[0].length;\n                    last = m.index;\n                    if (callback(row, last, row, last + length))\n                        return true;\n                    if (!length) {\n                        re.lastIndex = last += 1;\n                        if (last >= line.length)\n                            return false;\n                    }\n                }\n            };\n        }\n        return { forEach: forEach };\n    };\n}).call(Search.prototype);\nfunction addWordBoundary(needle, options) {\n    function wordBoundary(c) {\n        if (/\\w/.test(c) || options.regExp)\n            return \"\\\\b\";\n        return \"\";\n    }\n    return wordBoundary(needle[0]) + needle\n        + wordBoundary(needle[needle.length - 1]);\n}\nexports.Search = Search;\n\n});\n\nace.define(\"ace/keyboard/hash_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/keys\",\"ace/lib/useragent\"], function(require, exports, module){\"use strict\";\nvar keyUtil = require(\"../lib/keys\");\nvar useragent = require(\"../lib/useragent\");\nvar KEY_MODS = keyUtil.KEY_MODS;\nfunction HashHandler(config, platform) {\n    this.platform = platform || (useragent.isMac ? \"mac\" : \"win\");\n    this.commands = {};\n    this.commandKeyBinding = {};\n    this.addCommands(config);\n    this.$singleCommand = true;\n}\nfunction MultiHashHandler(config, platform) {\n    HashHandler.call(this, config, platform);\n    this.$singleCommand = false;\n}\nMultiHashHandler.prototype = HashHandler.prototype;\n(function () {\n    this.addCommand = function (command) {\n        if (this.commands[command.name])\n            this.removeCommand(command);\n        this.commands[command.name] = command;\n        if (command.bindKey)\n            this._buildKeyHash(command);\n    };\n    this.removeCommand = function (command, keepCommand) {\n        var name = command && (typeof command === 'string' ? command : command.name);\n        command = this.commands[name];\n        if (!keepCommand)\n            delete this.commands[name];\n        var ckb = this.commandKeyBinding;\n        for (var keyId in ckb) {\n            var cmdGroup = ckb[keyId];\n            if (cmdGroup == command) {\n                delete ckb[keyId];\n            }\n            else if (Array.isArray(cmdGroup)) {\n                var i = cmdGroup.indexOf(command);\n                if (i != -1) {\n                    cmdGroup.splice(i, 1);\n                    if (cmdGroup.length == 1)\n                        ckb[keyId] = cmdGroup[0];\n                }\n            }\n        }\n    };\n    this.bindKey = function (key, command, position) {\n        if (typeof key == \"object\" && key) {\n            if (position == undefined)\n                position = key.position;\n            key = key[this.platform];\n        }\n        if (!key)\n            return;\n        if (typeof command == \"function\")\n            return this.addCommand({ exec: command, bindKey: key, name: command.name || key });\n        key.split(\"|\").forEach(function (keyPart) {\n            var chain = \"\";\n            if (keyPart.indexOf(\" \") != -1) {\n                var parts = keyPart.split(/\\s+/);\n                keyPart = parts.pop();\n                parts.forEach(function (keyPart) {\n                    var binding = this.parseKeys(keyPart);\n                    var id = KEY_MODS[binding.hashId] + binding.key;\n                    chain += (chain ? \" \" : \"\") + id;\n                    this._addCommandToBinding(chain, \"chainKeys\");\n                }, this);\n                chain += \" \";\n            }\n            var binding = this.parseKeys(keyPart);\n            var id = KEY_MODS[binding.hashId] + binding.key;\n            this._addCommandToBinding(chain + id, command, position);\n        }, this);\n    };\n    function getPosition(command) {\n        return typeof command == \"object\" && command.bindKey\n            && command.bindKey.position\n            || (command.isDefault ? -100 : 0);\n    }\n    this._addCommandToBinding = function (keyId, command, position) {\n        var ckb = this.commandKeyBinding, i;\n        if (!command) {\n            delete ckb[keyId];\n        }\n        else if (!ckb[keyId] || this.$singleCommand) {\n            ckb[keyId] = command;\n        }\n        else {\n            if (!Array.isArray(ckb[keyId])) {\n                ckb[keyId] = [ckb[keyId]];\n            }\n            else if ((i = ckb[keyId].indexOf(command)) != -1) {\n                ckb[keyId].splice(i, 1);\n            }\n            if (typeof position != \"number\") {\n                position = getPosition(command);\n            }\n            var commands = ckb[keyId];\n            for (i = 0; i < commands.length; i++) {\n                var other = commands[i];\n                var otherPos = getPosition(other);\n                if (otherPos > position)\n                    break;\n            }\n            commands.splice(i, 0, command);\n        }\n    };\n    this.addCommands = function (commands) {\n        commands && Object.keys(commands).forEach(function (name) {\n            var command = commands[name];\n            if (!command)\n                return;\n            if (typeof command === \"string\")\n                return this.bindKey(command, name);\n            if (typeof command === \"function\")\n                command = { exec: command };\n            if (typeof command !== \"object\")\n                return;\n            if (!command.name)\n                command.name = name;\n            this.addCommand(command);\n        }, this);\n    };\n    this.removeCommands = function (commands) {\n        Object.keys(commands).forEach(function (name) {\n            this.removeCommand(commands[name]);\n        }, this);\n    };\n    this.bindKeys = function (keyList) {\n        Object.keys(keyList).forEach(function (key) {\n            this.bindKey(key, keyList[key]);\n        }, this);\n    };\n    this._buildKeyHash = function (command) {\n        this.bindKey(command.bindKey, command);\n    };\n    this.parseKeys = function (keys) {\n        var parts = keys.toLowerCase().split(/[\\-\\+]([\\-\\+])?/).filter(function (x) { return x; });\n        var key = parts.pop();\n        var keyCode = keyUtil[key];\n        if (keyUtil.FUNCTION_KEYS[keyCode])\n            key = keyUtil.FUNCTION_KEYS[keyCode].toLowerCase();\n        else if (!parts.length)\n            return { key: key, hashId: -1 };\n        else if (parts.length == 1 && parts[0] == \"shift\")\n            return { key: key.toUpperCase(), hashId: -1 };\n        var hashId = 0;\n        for (var i = parts.length; i--;) {\n            var modifier = keyUtil.KEY_MODS[parts[i]];\n            if (modifier == null) {\n                if (typeof console != \"undefined\")\n                    console.error(\"invalid modifier \" + parts[i] + \" in \" + keys);\n                return false;\n            }\n            hashId |= modifier;\n        }\n        return { key: key, hashId: hashId };\n    };\n    this.findKeyCommand = function findKeyCommand(hashId, keyString) {\n        var key = KEY_MODS[hashId] + keyString;\n        return this.commandKeyBinding[key];\n    };\n    this.handleKeyboard = function (data, hashId, keyString, keyCode) {\n        if (keyCode < 0)\n            return;\n        var key = KEY_MODS[hashId] + keyString;\n        var command = this.commandKeyBinding[key];\n        if (data.$keyChain) {\n            data.$keyChain += \" \" + key;\n            command = this.commandKeyBinding[data.$keyChain] || command;\n        }\n        if (command) {\n            if (command == \"chainKeys\" || command[command.length - 1] == \"chainKeys\") {\n                data.$keyChain = data.$keyChain || key;\n                return { command: \"null\" };\n            }\n        }\n        if (data.$keyChain) {\n            if ((!hashId || hashId == 4) && keyString.length == 1)\n                data.$keyChain = data.$keyChain.slice(0, -key.length - 1); // wait for input\n            else if (hashId == -1 || keyCode > 0)\n                data.$keyChain = \"\"; // reset keyChain\n        }\n        return { command: command };\n    };\n    this.getStatusText = function (editor, data) {\n        return data.$keyChain || \"\";\n    };\n}).call(HashHandler.prototype);\nexports.HashHandler = HashHandler;\nexports.MultiHashHandler = MultiHashHandler;\n\n});\n\nace.define(\"ace/commands/command_manager\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/keyboard/hash_handler\",\"ace/lib/event_emitter\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"../lib/oop\");\nvar MultiHashHandler = require(\"../keyboard/hash_handler\").MultiHashHandler;\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\nvar CommandManager = function (platform, commands) {\n    MultiHashHandler.call(this, commands, platform);\n    this.byName = this.commands;\n    this.setDefaultHandler(\"exec\", function (e) {\n        if (!e.args) {\n            return e.command.exec(e.editor, {}, e.event, true);\n        }\n        return e.command.exec(e.editor, e.args, e.event, false);\n    });\n};\noop.inherits(CommandManager, MultiHashHandler);\n(function () {\n    oop.implement(this, EventEmitter);\n    this.exec = function (command, editor, args) {\n        if (Array.isArray(command)) {\n            for (var i = command.length; i--;) {\n                if (this.exec(command[i], editor, args))\n                    return true;\n            }\n            return false;\n        }\n        if (typeof command === \"string\")\n            command = this.commands[command];\n        if (!command)\n            return false;\n        if (editor && editor.$readOnly && !command.readOnly)\n            return false;\n        if (this.$checkCommandState != false && command.isAvailable && !command.isAvailable(editor))\n            return false;\n        var e = { editor: editor, command: command, args: args };\n        e.returnValue = this._emit(\"exec\", e);\n        this._signal(\"afterExec\", e);\n        return e.returnValue === false ? false : true;\n    };\n    this.toggleRecording = function (editor) {\n        if (this.$inReplay)\n            return;\n        editor && editor._emit(\"changeStatus\");\n        if (this.recording) {\n            this.macro.pop();\n            this.off(\"exec\", this.$addCommandToMacro);\n            if (!this.macro.length)\n                this.macro = this.oldMacro;\n            return this.recording = false;\n        }\n        if (!this.$addCommandToMacro) {\n            this.$addCommandToMacro = function (e) {\n                this.macro.push([e.command, e.args]);\n            }.bind(this);\n        }\n        this.oldMacro = this.macro;\n        this.macro = [];\n        this.on(\"exec\", this.$addCommandToMacro);\n        return this.recording = true;\n    };\n    this.replay = function (editor) {\n        if (this.$inReplay || !this.macro)\n            return;\n        if (this.recording)\n            return this.toggleRecording(editor);\n        try {\n            this.$inReplay = true;\n            this.macro.forEach(function (x) {\n                if (typeof x == \"string\")\n                    this.exec(x, editor);\n                else\n                    this.exec(x[0], editor, x[1]);\n            }, this);\n        }\n        finally {\n            this.$inReplay = false;\n        }\n    };\n    this.trimMacro = function (m) {\n        return m.map(function (x) {\n            if (typeof x[0] != \"string\")\n                x[0] = x[0].name;\n            if (!x[1])\n                x = x[0];\n            return x;\n        });\n    };\n}).call(CommandManager.prototype);\nexports.CommandManager = CommandManager;\n\n});\n\nace.define(\"ace/commands/default_commands\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/config\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar lang = require(\"../lib/lang\");\nvar config = require(\"../config\");\nvar Range = require(\"../range\").Range;\nfunction bindKey(win, mac) {\n    return { win: win, mac: mac };\n}\nexports.commands = [{\n        name: \"showSettingsMenu\",\n        description: \"Show settings menu\",\n        bindKey: bindKey(\"Ctrl-,\", \"Command-,\"),\n        exec: function (editor) {\n            config.loadModule(\"ace/ext/settings_menu\", function (module) {\n                module.init(editor);\n                editor.showSettingsMenu();\n            });\n        },\n        readOnly: true\n    }, {\n        name: \"goToNextError\",\n        description: \"Go to next error\",\n        bindKey: bindKey(\"Alt-E\", \"F4\"),\n        exec: function (editor) {\n            config.loadModule(\"ace/ext/error_marker\", function (module) {\n                module.showErrorMarker(editor, 1);\n            });\n        },\n        scrollIntoView: \"animate\",\n        readOnly: true\n    }, {\n        name: \"goToPreviousError\",\n        description: \"Go to previous error\",\n        bindKey: bindKey(\"Alt-Shift-E\", \"Shift-F4\"),\n        exec: function (editor) {\n            config.loadModule(\"ace/ext/error_marker\", function (module) {\n                module.showErrorMarker(editor, -1);\n            });\n        },\n        scrollIntoView: \"animate\",\n        readOnly: true\n    }, {\n        name: \"selectall\",\n        description: \"Select all\",\n        bindKey: bindKey(\"Ctrl-A\", \"Command-A\"),\n        exec: function (editor) { editor.selectAll(); },\n        readOnly: true\n    }, {\n        name: \"centerselection\",\n        description: \"Center selection\",\n        bindKey: bindKey(null, \"Ctrl-L\"),\n        exec: function (editor) { editor.centerSelection(); },\n        readOnly: true\n    }, {\n        name: \"gotoline\",\n        description: \"Go to line...\",\n        bindKey: bindKey(\"Ctrl-L\", \"Command-L\"),\n        exec: function (editor, line) {\n            if (typeof line === \"number\" && !isNaN(line))\n                editor.gotoLine(line);\n            editor.prompt({ $type: \"gotoLine\" });\n        },\n        readOnly: true\n    }, {\n        name: \"fold\",\n        bindKey: bindKey(\"Alt-L|Ctrl-F1\", \"Command-Alt-L|Command-F1\"),\n        exec: function (editor) { editor.session.toggleFold(false); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"unfold\",\n        bindKey: bindKey(\"Alt-Shift-L|Ctrl-Shift-F1\", \"Command-Alt-Shift-L|Command-Shift-F1\"),\n        exec: function (editor) { editor.session.toggleFold(true); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"toggleFoldWidget\",\n        description: \"Toggle fold widget\",\n        bindKey: bindKey(\"F2\", \"F2\"),\n        exec: function (editor) { editor.session.toggleFoldWidget(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"toggleParentFoldWidget\",\n        description: \"Toggle parent fold widget\",\n        bindKey: bindKey(\"Alt-F2\", \"Alt-F2\"),\n        exec: function (editor) { editor.session.toggleFoldWidget(true); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"foldall\",\n        description: \"Fold all\",\n        bindKey: bindKey(null, \"Ctrl-Command-Option-0\"),\n        exec: function (editor) { editor.session.foldAll(); },\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"foldAllComments\",\n        description: \"Fold all comments\",\n        bindKey: bindKey(null, \"Ctrl-Command-Option-0\"),\n        exec: function (editor) { editor.session.foldAllComments(); },\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"foldOther\",\n        description: \"Fold other\",\n        bindKey: bindKey(\"Alt-0\", \"Command-Option-0\"),\n        exec: function (editor) {\n            editor.session.foldAll();\n            editor.session.unfold(editor.selection.getAllRanges());\n        },\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"unfoldall\",\n        description: \"Unfold all\",\n        bindKey: bindKey(\"Alt-Shift-0\", \"Command-Option-Shift-0\"),\n        exec: function (editor) { editor.session.unfold(); },\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"findnext\",\n        description: \"Find next\",\n        bindKey: bindKey(\"Ctrl-K\", \"Command-G\"),\n        exec: function (editor) { editor.findNext(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"findprevious\",\n        description: \"Find previous\",\n        bindKey: bindKey(\"Ctrl-Shift-K\", \"Command-Shift-G\"),\n        exec: function (editor) { editor.findPrevious(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"selectOrFindNext\",\n        description: \"Select or find next\",\n        bindKey: bindKey(\"Alt-K\", \"Ctrl-G\"),\n        exec: function (editor) {\n            if (editor.selection.isEmpty())\n                editor.selection.selectWord();\n            else\n                editor.findNext();\n        },\n        readOnly: true\n    }, {\n        name: \"selectOrFindPrevious\",\n        description: \"Select or find previous\",\n        bindKey: bindKey(\"Alt-Shift-K\", \"Ctrl-Shift-G\"),\n        exec: function (editor) {\n            if (editor.selection.isEmpty())\n                editor.selection.selectWord();\n            else\n                editor.findPrevious();\n        },\n        readOnly: true\n    }, {\n        name: \"find\",\n        description: \"Find\",\n        bindKey: bindKey(\"Ctrl-F\", \"Command-F\"),\n        exec: function (editor) {\n            config.loadModule(\"ace/ext/searchbox\", function (e) { e.Search(editor); });\n        },\n        readOnly: true\n    }, {\n        name: \"overwrite\",\n        description: \"Overwrite\",\n        bindKey: \"Insert\",\n        exec: function (editor) { editor.toggleOverwrite(); },\n        readOnly: true\n    }, {\n        name: \"selecttostart\",\n        description: \"Select to start\",\n        bindKey: bindKey(\"Ctrl-Shift-Home\", \"Command-Shift-Home|Command-Shift-Up\"),\n        exec: function (editor) { editor.getSelection().selectFileStart(); },\n        multiSelectAction: \"forEach\",\n        readOnly: true,\n        scrollIntoView: \"animate\",\n        aceCommandGroup: \"fileJump\"\n    }, {\n        name: \"gotostart\",\n        description: \"Go to start\",\n        bindKey: bindKey(\"Ctrl-Home\", \"Command-Home|Command-Up\"),\n        exec: function (editor) { editor.navigateFileStart(); },\n        multiSelectAction: \"forEach\",\n        readOnly: true,\n        scrollIntoView: \"animate\",\n        aceCommandGroup: \"fileJump\"\n    }, {\n        name: \"selectup\",\n        description: \"Select up\",\n        bindKey: bindKey(\"Shift-Up\", \"Shift-Up|Ctrl-Shift-P\"),\n        exec: function (editor) { editor.getSelection().selectUp(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"golineup\",\n        description: \"Go line up\",\n        bindKey: bindKey(\"Up\", \"Up|Ctrl-P\"),\n        exec: function (editor, args) { editor.navigateUp(args.times); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selecttoend\",\n        description: \"Select to end\",\n        bindKey: bindKey(\"Ctrl-Shift-End\", \"Command-Shift-End|Command-Shift-Down\"),\n        exec: function (editor) { editor.getSelection().selectFileEnd(); },\n        multiSelectAction: \"forEach\",\n        readOnly: true,\n        scrollIntoView: \"animate\",\n        aceCommandGroup: \"fileJump\"\n    }, {\n        name: \"gotoend\",\n        description: \"Go to end\",\n        bindKey: bindKey(\"Ctrl-End\", \"Command-End|Command-Down\"),\n        exec: function (editor) { editor.navigateFileEnd(); },\n        multiSelectAction: \"forEach\",\n        readOnly: true,\n        scrollIntoView: \"animate\",\n        aceCommandGroup: \"fileJump\"\n    }, {\n        name: \"selectdown\",\n        description: \"Select down\",\n        bindKey: bindKey(\"Shift-Down\", \"Shift-Down|Ctrl-Shift-N\"),\n        exec: function (editor) { editor.getSelection().selectDown(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"golinedown\",\n        description: \"Go line down\",\n        bindKey: bindKey(\"Down\", \"Down|Ctrl-N\"),\n        exec: function (editor, args) { editor.navigateDown(args.times); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectwordleft\",\n        description: \"Select word left\",\n        bindKey: bindKey(\"Ctrl-Shift-Left\", \"Option-Shift-Left\"),\n        exec: function (editor) { editor.getSelection().selectWordLeft(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"gotowordleft\",\n        description: \"Go to word left\",\n        bindKey: bindKey(\"Ctrl-Left\", \"Option-Left\"),\n        exec: function (editor) { editor.navigateWordLeft(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selecttolinestart\",\n        description: \"Select to line start\",\n        bindKey: bindKey(\"Alt-Shift-Left\", \"Command-Shift-Left|Ctrl-Shift-A\"),\n        exec: function (editor) { editor.getSelection().selectLineStart(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"gotolinestart\",\n        description: \"Go to line start\",\n        bindKey: bindKey(\"Alt-Left|Home\", \"Command-Left|Home|Ctrl-A\"),\n        exec: function (editor) { editor.navigateLineStart(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectleft\",\n        description: \"Select left\",\n        bindKey: bindKey(\"Shift-Left\", \"Shift-Left|Ctrl-Shift-B\"),\n        exec: function (editor) { editor.getSelection().selectLeft(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"gotoleft\",\n        description: \"Go to left\",\n        bindKey: bindKey(\"Left\", \"Left|Ctrl-B\"),\n        exec: function (editor, args) { editor.navigateLeft(args.times); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectwordright\",\n        description: \"Select word right\",\n        bindKey: bindKey(\"Ctrl-Shift-Right\", \"Option-Shift-Right\"),\n        exec: function (editor) { editor.getSelection().selectWordRight(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"gotowordright\",\n        description: \"Go to word right\",\n        bindKey: bindKey(\"Ctrl-Right\", \"Option-Right\"),\n        exec: function (editor) { editor.navigateWordRight(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selecttolineend\",\n        description: \"Select to line end\",\n        bindKey: bindKey(\"Alt-Shift-Right\", \"Command-Shift-Right|Shift-End|Ctrl-Shift-E\"),\n        exec: function (editor) { editor.getSelection().selectLineEnd(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"gotolineend\",\n        description: \"Go to line end\",\n        bindKey: bindKey(\"Alt-Right|End\", \"Command-Right|End|Ctrl-E\"),\n        exec: function (editor) { editor.navigateLineEnd(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectright\",\n        description: \"Select right\",\n        bindKey: bindKey(\"Shift-Right\", \"Shift-Right\"),\n        exec: function (editor) { editor.getSelection().selectRight(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"gotoright\",\n        description: \"Go to right\",\n        bindKey: bindKey(\"Right\", \"Right|Ctrl-F\"),\n        exec: function (editor, args) { editor.navigateRight(args.times); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectpagedown\",\n        description: \"Select page down\",\n        bindKey: \"Shift-PageDown\",\n        exec: function (editor) { editor.selectPageDown(); },\n        readOnly: true\n    }, {\n        name: \"pagedown\",\n        description: \"Page down\",\n        bindKey: bindKey(null, \"Option-PageDown\"),\n        exec: function (editor) { editor.scrollPageDown(); },\n        readOnly: true\n    }, {\n        name: \"gotopagedown\",\n        description: \"Go to page down\",\n        bindKey: bindKey(\"PageDown\", \"PageDown|Ctrl-V\"),\n        exec: function (editor) { editor.gotoPageDown(); },\n        readOnly: true\n    }, {\n        name: \"selectpageup\",\n        description: \"Select page up\",\n        bindKey: \"Shift-PageUp\",\n        exec: function (editor) { editor.selectPageUp(); },\n        readOnly: true\n    }, {\n        name: \"pageup\",\n        description: \"Page up\",\n        bindKey: bindKey(null, \"Option-PageUp\"),\n        exec: function (editor) { editor.scrollPageUp(); },\n        readOnly: true\n    }, {\n        name: \"gotopageup\",\n        description: \"Go to page up\",\n        bindKey: \"PageUp\",\n        exec: function (editor) { editor.gotoPageUp(); },\n        readOnly: true\n    }, {\n        name: \"scrollup\",\n        description: \"Scroll up\",\n        bindKey: bindKey(\"Ctrl-Up\", null),\n        exec: function (e) { e.renderer.scrollBy(0, -2 * e.renderer.layerConfig.lineHeight); },\n        readOnly: true\n    }, {\n        name: \"scrolldown\",\n        description: \"Scroll down\",\n        bindKey: bindKey(\"Ctrl-Down\", null),\n        exec: function (e) { e.renderer.scrollBy(0, 2 * e.renderer.layerConfig.lineHeight); },\n        readOnly: true\n    }, {\n        name: \"selectlinestart\",\n        description: \"Select line start\",\n        bindKey: \"Shift-Home\",\n        exec: function (editor) { editor.getSelection().selectLineStart(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectlineend\",\n        description: \"Select line end\",\n        bindKey: \"Shift-End\",\n        exec: function (editor) { editor.getSelection().selectLineEnd(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"togglerecording\",\n        description: \"Toggle recording\",\n        bindKey: bindKey(\"Ctrl-Alt-E\", \"Command-Option-E\"),\n        exec: function (editor) { editor.commands.toggleRecording(editor); },\n        readOnly: true\n    }, {\n        name: \"replaymacro\",\n        description: \"Replay macro\",\n        bindKey: bindKey(\"Ctrl-Shift-E\", \"Command-Shift-E\"),\n        exec: function (editor) { editor.commands.replay(editor); },\n        readOnly: true\n    }, {\n        name: \"jumptomatching\",\n        description: \"Jump to matching\",\n        bindKey: bindKey(\"Ctrl-\\\\|Ctrl-P\", \"Command-\\\\\"),\n        exec: function (editor) { editor.jumpToMatching(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"animate\",\n        readOnly: true\n    }, {\n        name: \"selecttomatching\",\n        description: \"Select to matching\",\n        bindKey: bindKey(\"Ctrl-Shift-\\\\|Ctrl-Shift-P\", \"Command-Shift-\\\\\"),\n        exec: function (editor) { editor.jumpToMatching(true); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"animate\",\n        readOnly: true\n    }, {\n        name: \"expandToMatching\",\n        description: \"Expand to matching\",\n        bindKey: bindKey(\"Ctrl-Shift-M\", \"Ctrl-Shift-M\"),\n        exec: function (editor) { editor.jumpToMatching(true, true); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"animate\",\n        readOnly: true\n    }, {\n        name: \"passKeysToBrowser\",\n        description: \"Pass keys to browser\",\n        bindKey: bindKey(null, null),\n        exec: function () { },\n        passEvent: true,\n        readOnly: true\n    }, {\n        name: \"copy\",\n        description: \"Copy\",\n        exec: function (editor) {\n        },\n        readOnly: true\n    },\n    {\n        name: \"cut\",\n        description: \"Cut\",\n        exec: function (editor) {\n            var cutLine = editor.$copyWithEmptySelection && editor.selection.isEmpty();\n            var range = cutLine ? editor.selection.getLineRange() : editor.selection.getRange();\n            editor._emit(\"cut\", range);\n            if (!range.isEmpty())\n                editor.session.remove(range);\n            editor.clearSelection();\n        },\n        scrollIntoView: \"cursor\",\n        multiSelectAction: \"forEach\"\n    }, {\n        name: \"paste\",\n        description: \"Paste\",\n        exec: function (editor, args) {\n            editor.$handlePaste(args);\n        },\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"removeline\",\n        description: \"Remove line\",\n        bindKey: bindKey(\"Ctrl-D\", \"Command-D\"),\n        exec: function (editor) { editor.removeLines(); },\n        scrollIntoView: \"cursor\",\n        multiSelectAction: \"forEachLine\"\n    }, {\n        name: \"duplicateSelection\",\n        description: \"Duplicate selection\",\n        bindKey: bindKey(\"Ctrl-Shift-D\", \"Command-Shift-D\"),\n        exec: function (editor) { editor.duplicateSelection(); },\n        scrollIntoView: \"cursor\",\n        multiSelectAction: \"forEach\"\n    }, {\n        name: \"sortlines\",\n        description: \"Sort lines\",\n        bindKey: bindKey(\"Ctrl-Alt-S\", \"Command-Alt-S\"),\n        exec: function (editor) { editor.sortLines(); },\n        scrollIntoView: \"selection\",\n        multiSelectAction: \"forEachLine\"\n    }, {\n        name: \"togglecomment\",\n        description: \"Toggle comment\",\n        bindKey: bindKey(\"Ctrl-/\", \"Command-/\"),\n        exec: function (editor) { editor.toggleCommentLines(); },\n        multiSelectAction: \"forEachLine\",\n        scrollIntoView: \"selectionPart\"\n    }, {\n        name: \"toggleBlockComment\",\n        description: \"Toggle block comment\",\n        bindKey: bindKey(\"Ctrl-Shift-/\", \"Command-Shift-/\"),\n        exec: function (editor) { editor.toggleBlockComment(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"selectionPart\"\n    }, {\n        name: \"modifyNumberUp\",\n        description: \"Modify number up\",\n        bindKey: bindKey(\"Ctrl-Shift-Up\", \"Alt-Shift-Up\"),\n        exec: function (editor) { editor.modifyNumber(1); },\n        scrollIntoView: \"cursor\",\n        multiSelectAction: \"forEach\"\n    }, {\n        name: \"modifyNumberDown\",\n        description: \"Modify number down\",\n        bindKey: bindKey(\"Ctrl-Shift-Down\", \"Alt-Shift-Down\"),\n        exec: function (editor) { editor.modifyNumber(-1); },\n        scrollIntoView: \"cursor\",\n        multiSelectAction: \"forEach\"\n    }, {\n        name: \"replace\",\n        description: \"Replace\",\n        bindKey: bindKey(\"Ctrl-H\", \"Command-Option-F\"),\n        exec: function (editor) {\n            config.loadModule(\"ace/ext/searchbox\", function (e) { e.Search(editor, true); });\n        }\n    }, {\n        name: \"undo\",\n        description: \"Undo\",\n        bindKey: bindKey(\"Ctrl-Z\", \"Command-Z\"),\n        exec: function (editor) { editor.undo(); }\n    }, {\n        name: \"redo\",\n        description: \"Redo\",\n        bindKey: bindKey(\"Ctrl-Shift-Z|Ctrl-Y\", \"Command-Shift-Z|Command-Y\"),\n        exec: function (editor) { editor.redo(); }\n    }, {\n        name: \"copylinesup\",\n        description: \"Copy lines up\",\n        bindKey: bindKey(\"Alt-Shift-Up\", \"Command-Option-Up\"),\n        exec: function (editor) { editor.copyLinesUp(); },\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"movelinesup\",\n        description: \"Move lines up\",\n        bindKey: bindKey(\"Alt-Up\", \"Option-Up\"),\n        exec: function (editor) { editor.moveLinesUp(); },\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"copylinesdown\",\n        description: \"Copy lines down\",\n        bindKey: bindKey(\"Alt-Shift-Down\", \"Command-Option-Down\"),\n        exec: function (editor) { editor.copyLinesDown(); },\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"movelinesdown\",\n        description: \"Move lines down\",\n        bindKey: bindKey(\"Alt-Down\", \"Option-Down\"),\n        exec: function (editor) { editor.moveLinesDown(); },\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"del\",\n        description: \"Delete\",\n        bindKey: bindKey(\"Delete\", \"Delete|Ctrl-D|Shift-Delete\"),\n        exec: function (editor) { editor.remove(\"right\"); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"backspace\",\n        description: \"Backspace\",\n        bindKey: bindKey(\"Shift-Backspace|Backspace\", \"Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H\"),\n        exec: function (editor) { editor.remove(\"left\"); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"cut_or_delete\",\n        description: \"Cut or delete\",\n        bindKey: bindKey(\"Shift-Delete\", null),\n        exec: function (editor) {\n            if (editor.selection.isEmpty()) {\n                editor.remove(\"left\");\n            }\n            else {\n                return false;\n            }\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"removetolinestart\",\n        description: \"Remove to line start\",\n        bindKey: bindKey(\"Alt-Backspace\", \"Command-Backspace\"),\n        exec: function (editor) { editor.removeToLineStart(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"removetolineend\",\n        description: \"Remove to line end\",\n        bindKey: bindKey(\"Alt-Delete\", \"Ctrl-K|Command-Delete\"),\n        exec: function (editor) { editor.removeToLineEnd(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"removetolinestarthard\",\n        description: \"Remove to line start hard\",\n        bindKey: bindKey(\"Ctrl-Shift-Backspace\", null),\n        exec: function (editor) {\n            var range = editor.selection.getRange();\n            range.start.column = 0;\n            editor.session.remove(range);\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"removetolineendhard\",\n        description: \"Remove to line end hard\",\n        bindKey: bindKey(\"Ctrl-Shift-Delete\", null),\n        exec: function (editor) {\n            var range = editor.selection.getRange();\n            range.end.column = Number.MAX_VALUE;\n            editor.session.remove(range);\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"removewordleft\",\n        description: \"Remove word left\",\n        bindKey: bindKey(\"Ctrl-Backspace\", \"Alt-Backspace|Ctrl-Alt-Backspace\"),\n        exec: function (editor) { editor.removeWordLeft(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"removewordright\",\n        description: \"Remove word right\",\n        bindKey: bindKey(\"Ctrl-Delete\", \"Alt-Delete\"),\n        exec: function (editor) { editor.removeWordRight(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"outdent\",\n        description: \"Outdent\",\n        bindKey: bindKey(\"Shift-Tab\", \"Shift-Tab\"),\n        exec: function (editor) { editor.blockOutdent(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"selectionPart\"\n    }, {\n        name: \"indent\",\n        description: \"Indent\",\n        bindKey: bindKey(\"Tab\", \"Tab\"),\n        exec: function (editor) { editor.indent(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"selectionPart\"\n    }, {\n        name: \"blockoutdent\",\n        description: \"Block outdent\",\n        bindKey: bindKey(\"Ctrl-[\", \"Ctrl-[\"),\n        exec: function (editor) { editor.blockOutdent(); },\n        multiSelectAction: \"forEachLine\",\n        scrollIntoView: \"selectionPart\"\n    }, {\n        name: \"blockindent\",\n        description: \"Block indent\",\n        bindKey: bindKey(\"Ctrl-]\", \"Ctrl-]\"),\n        exec: function (editor) { editor.blockIndent(); },\n        multiSelectAction: \"forEachLine\",\n        scrollIntoView: \"selectionPart\"\n    }, {\n        name: \"insertstring\",\n        description: \"Insert string\",\n        exec: function (editor, str) { editor.insert(str); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"inserttext\",\n        description: \"Insert text\",\n        exec: function (editor, args) {\n            editor.insert(lang.stringRepeat(args.text || \"\", args.times || 1));\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"splitline\",\n        description: \"Split line\",\n        bindKey: bindKey(null, \"Ctrl-O\"),\n        exec: function (editor) { editor.splitLine(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"transposeletters\",\n        description: \"Transpose letters\",\n        bindKey: bindKey(\"Alt-Shift-X\", \"Ctrl-T\"),\n        exec: function (editor) { editor.transposeLetters(); },\n        multiSelectAction: function (editor) { editor.transposeSelections(1); },\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"touppercase\",\n        description: \"To uppercase\",\n        bindKey: bindKey(\"Ctrl-U\", \"Ctrl-U\"),\n        exec: function (editor) { editor.toUpperCase(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"tolowercase\",\n        description: \"To lowercase\",\n        bindKey: bindKey(\"Ctrl-Shift-U\", \"Ctrl-Shift-U\"),\n        exec: function (editor) { editor.toLowerCase(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"autoindent\",\n        description: \"Auto Indent\",\n        bindKey: bindKey(null, null),\n        exec: function (editor) { editor.autoIndent(); },\n        multiSelectAction: \"forEachLine\",\n        scrollIntoView: \"animate\"\n    }, {\n        name: \"expandtoline\",\n        description: \"Expand to line\",\n        bindKey: bindKey(\"Ctrl-Shift-L\", \"Command-Shift-L\"),\n        exec: function (editor) {\n            var range = editor.selection.getRange();\n            range.start.column = range.end.column = 0;\n            range.end.row++;\n            editor.selection.setRange(range, false);\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"openlink\",\n        bindKey: bindKey(\"Ctrl+F3\", \"F3\"),\n        exec: function (editor) { editor.openLink(); }\n    }, {\n        name: \"joinlines\",\n        description: \"Join lines\",\n        bindKey: bindKey(null, null),\n        exec: function (editor) {\n            var isBackwards = editor.selection.isBackwards();\n            var selectionStart = isBackwards ? editor.selection.getSelectionLead() : editor.selection.getSelectionAnchor();\n            var selectionEnd = isBackwards ? editor.selection.getSelectionAnchor() : editor.selection.getSelectionLead();\n            var firstLineEndCol = editor.session.doc.getLine(selectionStart.row).length;\n            var selectedText = editor.session.doc.getTextRange(editor.selection.getRange());\n            var selectedCount = selectedText.replace(/\\n\\s*/, \" \").length;\n            var insertLine = editor.session.doc.getLine(selectionStart.row);\n            for (var i = selectionStart.row + 1; i <= selectionEnd.row + 1; i++) {\n                var curLine = lang.stringTrimLeft(lang.stringTrimRight(editor.session.doc.getLine(i)));\n                if (curLine.length !== 0) {\n                    curLine = \" \" + curLine;\n                }\n                insertLine += curLine;\n            }\n            if (selectionEnd.row + 1 < (editor.session.doc.getLength() - 1)) {\n                insertLine += editor.session.doc.getNewLineCharacter();\n            }\n            editor.clearSelection();\n            editor.session.doc.replace(new Range(selectionStart.row, 0, selectionEnd.row + 2, 0), insertLine);\n            if (selectedCount > 0) {\n                editor.selection.moveCursorTo(selectionStart.row, selectionStart.column);\n                editor.selection.selectTo(selectionStart.row, selectionStart.column + selectedCount);\n            }\n            else {\n                firstLineEndCol = editor.session.doc.getLine(selectionStart.row).length > firstLineEndCol ? (firstLineEndCol + 1) : firstLineEndCol;\n                editor.selection.moveCursorTo(selectionStart.row, firstLineEndCol);\n            }\n        },\n        multiSelectAction: \"forEach\",\n        readOnly: true\n    }, {\n        name: \"invertSelection\",\n        description: \"Invert selection\",\n        bindKey: bindKey(null, null),\n        exec: function (editor) {\n            var endRow = editor.session.doc.getLength() - 1;\n            var endCol = editor.session.doc.getLine(endRow).length;\n            var ranges = editor.selection.rangeList.ranges;\n            var newRanges = [];\n            if (ranges.length < 1) {\n                ranges = [editor.selection.getRange()];\n            }\n            for (var i = 0; i < ranges.length; i++) {\n                if (i == (ranges.length - 1)) {\n                    if (!(ranges[i].end.row === endRow && ranges[i].end.column === endCol)) {\n                        newRanges.push(new Range(ranges[i].end.row, ranges[i].end.column, endRow, endCol));\n                    }\n                }\n                if (i === 0) {\n                    if (!(ranges[i].start.row === 0 && ranges[i].start.column === 0)) {\n                        newRanges.push(new Range(0, 0, ranges[i].start.row, ranges[i].start.column));\n                    }\n                }\n                else {\n                    newRanges.push(new Range(ranges[i - 1].end.row, ranges[i - 1].end.column, ranges[i].start.row, ranges[i].start.column));\n                }\n            }\n            editor.exitMultiSelectMode();\n            editor.clearSelection();\n            for (var i = 0; i < newRanges.length; i++) {\n                editor.selection.addRange(newRanges[i], false);\n            }\n        },\n        readOnly: true,\n        scrollIntoView: \"none\"\n    }, {\n        name: \"addLineAfter\",\n        description: \"Add new line after the current line\",\n        exec: function (editor) {\n            editor.selection.clearSelection();\n            editor.navigateLineEnd();\n            editor.insert(\"\\n\");\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"addLineBefore\",\n        description: \"Add new line before the current line\",\n        exec: function (editor) {\n            editor.selection.clearSelection();\n            var cursor = editor.getCursorPosition();\n            editor.selection.moveTo(cursor.row - 1, Number.MAX_VALUE);\n            editor.insert(\"\\n\");\n            if (cursor.row === 0)\n                editor.navigateUp();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"openCommandPallete\",\n        description: \"Open command palette\",\n        bindKey: bindKey(\"F1\", \"F1\"),\n        exec: function (editor) {\n            editor.prompt({ $type: \"commands\" });\n        },\n        readOnly: true\n    }, {\n        name: \"modeSelect\",\n        description: \"Change language mode...\",\n        bindKey: bindKey(null, null),\n        exec: function (editor) {\n            editor.prompt({ $type: \"modes\" });\n        },\n        readOnly: true\n    }];\nfor (var i = 1; i < 9; i++) {\n    exports.commands.push({\n        name: \"foldToLevel\" + i,\n        description: \"Fold To Level \" + i,\n        level: i,\n        exec: function (editor) { editor.session.foldToLevel(this.level); },\n        scrollIntoView: \"center\",\n        readOnly: true\n    });\n}\n\n});\n\nace.define(\"ace/line_widgets\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module){\"use strict\";\nvar dom = require(\"./lib/dom\");\nfunction LineWidgets(session) {\n    this.session = session;\n    this.session.widgetManager = this;\n    this.session.getRowLength = this.getRowLength;\n    this.session.$getWidgetScreenLength = this.$getWidgetScreenLength;\n    this.updateOnChange = this.updateOnChange.bind(this);\n    this.renderWidgets = this.renderWidgets.bind(this);\n    this.measureWidgets = this.measureWidgets.bind(this);\n    this.session._changedWidgets = [];\n    this.$onChangeEditor = this.$onChangeEditor.bind(this);\n    this.session.on(\"change\", this.updateOnChange);\n    this.session.on(\"changeFold\", this.updateOnFold);\n    this.session.on(\"changeEditor\", this.$onChangeEditor);\n}\n(function () {\n    this.getRowLength = function (row) {\n        var h;\n        if (this.lineWidgets)\n            h = this.lineWidgets[row] && this.lineWidgets[row].rowCount || 0;\n        else\n            h = 0;\n        if (!this.$useWrapMode || !this.$wrapData[row]) {\n            return 1 + h;\n        }\n        else {\n            return this.$wrapData[row].length + 1 + h;\n        }\n    };\n    this.$getWidgetScreenLength = function () {\n        var screenRows = 0;\n        this.lineWidgets.forEach(function (w) {\n            if (w && w.rowCount && !w.hidden)\n                screenRows += w.rowCount;\n        });\n        return screenRows;\n    };\n    this.$onChangeEditor = function (e) {\n        this.attach(e.editor);\n    };\n    this.attach = function (editor) {\n        if (editor && editor.widgetManager && editor.widgetManager != this)\n            editor.widgetManager.detach();\n        if (this.editor == editor)\n            return;\n        this.detach();\n        this.editor = editor;\n        if (editor) {\n            editor.widgetManager = this;\n            editor.renderer.on(\"beforeRender\", this.measureWidgets);\n            editor.renderer.on(\"afterRender\", this.renderWidgets);\n        }\n    };\n    this.detach = function (e) {\n        var editor = this.editor;\n        if (!editor)\n            return;\n        this.editor = null;\n        editor.widgetManager = null;\n        editor.renderer.off(\"beforeRender\", this.measureWidgets);\n        editor.renderer.off(\"afterRender\", this.renderWidgets);\n        var lineWidgets = this.session.lineWidgets;\n        lineWidgets && lineWidgets.forEach(function (w) {\n            if (w && w.el && w.el.parentNode) {\n                w._inDocument = false;\n                w.el.parentNode.removeChild(w.el);\n            }\n        });\n    };\n    this.updateOnFold = function (e, session) {\n        var lineWidgets = session.lineWidgets;\n        if (!lineWidgets || !e.action)\n            return;\n        var fold = e.data;\n        var start = fold.start.row;\n        var end = fold.end.row;\n        var hide = e.action == \"add\";\n        for (var i = start + 1; i < end; i++) {\n            if (lineWidgets[i])\n                lineWidgets[i].hidden = hide;\n        }\n        if (lineWidgets[end]) {\n            if (hide) {\n                if (!lineWidgets[start])\n                    lineWidgets[start] = lineWidgets[end];\n                else\n                    lineWidgets[end].hidden = hide;\n            }\n            else {\n                if (lineWidgets[start] == lineWidgets[end])\n                    lineWidgets[start] = undefined;\n                lineWidgets[end].hidden = hide;\n            }\n        }\n    };\n    this.updateOnChange = function (delta) {\n        var lineWidgets = this.session.lineWidgets;\n        if (!lineWidgets)\n            return;\n        var startRow = delta.start.row;\n        var len = delta.end.row - startRow;\n        if (len === 0) {\n        }\n        else if (delta.action == \"remove\") {\n            var removed = lineWidgets.splice(startRow + 1, len);\n            if (!lineWidgets[startRow] && removed[removed.length - 1]) {\n                lineWidgets[startRow] = removed.pop();\n            }\n            removed.forEach(function (w) {\n                w && this.removeLineWidget(w);\n            }, this);\n            this.$updateRows();\n        }\n        else {\n            var args = new Array(len);\n            if (lineWidgets[startRow] && lineWidgets[startRow].column != null) {\n                if (delta.start.column > lineWidgets[startRow].column)\n                    startRow++;\n            }\n            args.unshift(startRow, 0);\n            lineWidgets.splice.apply(lineWidgets, args);\n            this.$updateRows();\n        }\n    };\n    this.$updateRows = function () {\n        var lineWidgets = this.session.lineWidgets;\n        if (!lineWidgets)\n            return;\n        var noWidgets = true;\n        lineWidgets.forEach(function (w, i) {\n            if (w) {\n                noWidgets = false;\n                w.row = i;\n                while (w.$oldWidget) {\n                    w.$oldWidget.row = i;\n                    w = w.$oldWidget;\n                }\n            }\n        });\n        if (noWidgets)\n            this.session.lineWidgets = null;\n    };\n    this.$registerLineWidget = function (w) {\n        if (!this.session.lineWidgets)\n            this.session.lineWidgets = new Array(this.session.getLength());\n        var old = this.session.lineWidgets[w.row];\n        if (old) {\n            w.$oldWidget = old;\n            if (old.el && old.el.parentNode) {\n                old.el.parentNode.removeChild(old.el);\n                old._inDocument = false;\n            }\n        }\n        this.session.lineWidgets[w.row] = w;\n        return w;\n    };\n    this.addLineWidget = function (w) {\n        this.$registerLineWidget(w);\n        w.session = this.session;\n        if (!this.editor)\n            return w;\n        var renderer = this.editor.renderer;\n        if (w.html && !w.el) {\n            w.el = dom.createElement(\"div\");\n            w.el.innerHTML = w.html;\n        }\n        if (w.text && !w.el) {\n            w.el = dom.createElement(\"div\");\n            w.el.textContent = w.text;\n        }\n        if (w.el) {\n            dom.addCssClass(w.el, \"ace_lineWidgetContainer\");\n            if (w.className) {\n                dom.addCssClass(w.el, w.className);\n            }\n            w.el.style.position = \"absolute\";\n            w.el.style.zIndex = 5;\n            renderer.container.appendChild(w.el);\n            w._inDocument = true;\n            if (!w.coverGutter) {\n                w.el.style.zIndex = 3;\n            }\n            if (w.pixelHeight == null) {\n                w.pixelHeight = w.el.offsetHeight;\n            }\n        }\n        if (w.rowCount == null) {\n            w.rowCount = w.pixelHeight / renderer.layerConfig.lineHeight;\n        }\n        var fold = this.session.getFoldAt(w.row, 0);\n        w.$fold = fold;\n        if (fold) {\n            var lineWidgets = this.session.lineWidgets;\n            if (w.row == fold.end.row && !lineWidgets[fold.start.row])\n                lineWidgets[fold.start.row] = w;\n            else\n                w.hidden = true;\n        }\n        this.session._emit(\"changeFold\", { data: { start: { row: w.row } } });\n        this.$updateRows();\n        this.renderWidgets(null, renderer);\n        this.onWidgetChanged(w);\n        return w;\n    };\n    this.removeLineWidget = function (w) {\n        w._inDocument = false;\n        w.session = null;\n        if (w.el && w.el.parentNode)\n            w.el.parentNode.removeChild(w.el);\n        if (w.editor && w.editor.destroy)\n            try {\n                w.editor.destroy();\n            }\n            catch (e) { }\n        if (this.session.lineWidgets) {\n            var w1 = this.session.lineWidgets[w.row];\n            if (w1 == w) {\n                this.session.lineWidgets[w.row] = w.$oldWidget;\n                if (w.$oldWidget)\n                    this.onWidgetChanged(w.$oldWidget);\n            }\n            else {\n                while (w1) {\n                    if (w1.$oldWidget == w) {\n                        w1.$oldWidget = w.$oldWidget;\n                        break;\n                    }\n                    w1 = w1.$oldWidget;\n                }\n            }\n        }\n        this.session._emit(\"changeFold\", { data: { start: { row: w.row } } });\n        this.$updateRows();\n    };\n    this.getWidgetsAtRow = function (row) {\n        var lineWidgets = this.session.lineWidgets;\n        var w = lineWidgets && lineWidgets[row];\n        var list = [];\n        while (w) {\n            list.push(w);\n            w = w.$oldWidget;\n        }\n        return list;\n    };\n    this.onWidgetChanged = function (w) {\n        this.session._changedWidgets.push(w);\n        this.editor && this.editor.renderer.updateFull();\n    };\n    this.measureWidgets = function (e, renderer) {\n        var changedWidgets = this.session._changedWidgets;\n        var config = renderer.layerConfig;\n        if (!changedWidgets || !changedWidgets.length)\n            return;\n        var min = Infinity;\n        for (var i = 0; i < changedWidgets.length; i++) {\n            var w = changedWidgets[i];\n            if (!w || !w.el)\n                continue;\n            if (w.session != this.session)\n                continue;\n            if (!w._inDocument) {\n                if (this.session.lineWidgets[w.row] != w)\n                    continue;\n                w._inDocument = true;\n                renderer.container.appendChild(w.el);\n            }\n            w.h = w.el.offsetHeight;\n            if (!w.fixedWidth) {\n                w.w = w.el.offsetWidth;\n                w.screenWidth = Math.ceil(w.w / config.characterWidth);\n            }\n            var rowCount = w.h / config.lineHeight;\n            if (w.coverLine) {\n                rowCount -= this.session.getRowLineCount(w.row);\n                if (rowCount < 0)\n                    rowCount = 0;\n            }\n            if (w.rowCount != rowCount) {\n                w.rowCount = rowCount;\n                if (w.row < min)\n                    min = w.row;\n            }\n        }\n        if (min != Infinity) {\n            this.session._emit(\"changeFold\", { data: { start: { row: min } } });\n            this.session.lineWidgetWidth = null;\n        }\n        this.session._changedWidgets = [];\n    };\n    this.renderWidgets = function (e, renderer) {\n        var config = renderer.layerConfig;\n        var lineWidgets = this.session.lineWidgets;\n        if (!lineWidgets)\n            return;\n        var first = Math.min(this.firstRow, config.firstRow);\n        var last = Math.max(this.lastRow, config.lastRow, lineWidgets.length);\n        while (first > 0 && !lineWidgets[first])\n            first--;\n        this.firstRow = config.firstRow;\n        this.lastRow = config.lastRow;\n        renderer.$cursorLayer.config = config;\n        for (var i = first; i <= last; i++) {\n            var w = lineWidgets[i];\n            if (!w || !w.el)\n                continue;\n            if (w.hidden) {\n                w.el.style.top = -100 - (w.pixelHeight || 0) + \"px\";\n                continue;\n            }\n            if (!w._inDocument) {\n                w._inDocument = true;\n                renderer.container.appendChild(w.el);\n            }\n            var top = renderer.$cursorLayer.getPixelPosition({ row: i, column: 0 }, true).top;\n            if (!w.coverLine)\n                top += config.lineHeight * this.session.getRowLineCount(w.row);\n            w.el.style.top = top - config.offset + \"px\";\n            var left = w.coverGutter ? 0 : renderer.gutterWidth;\n            if (!w.fixedWidth)\n                left -= renderer.scrollLeft;\n            w.el.style.left = left + \"px\";\n            if (w.fullWidth && w.screenWidth) {\n                w.el.style.minWidth = config.width + 2 * config.padding + \"px\";\n            }\n            if (w.fixedWidth) {\n                w.el.style.right = renderer.scrollBar.getWidth() + \"px\";\n            }\n            else {\n                w.el.style.right = \"\";\n            }\n        }\n    };\n}).call(LineWidgets.prototype);\nexports.LineWidgets = LineWidgets;\n\n});\n\nace.define(\"ace/editor\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/lib/useragent\",\"ace/keyboard/textinput\",\"ace/mouse/mouse_handler\",\"ace/mouse/fold_handler\",\"ace/keyboard/keybinding\",\"ace/edit_session\",\"ace/search\",\"ace/range\",\"ace/lib/event_emitter\",\"ace/commands/command_manager\",\"ace/commands/default_commands\",\"ace/config\",\"ace/token_iterator\",\"ace/line_widgets\",\"ace/clipboard\"], function(require, exports, module){\"use strict\";\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nvar lang = require(\"./lib/lang\");\nvar useragent = require(\"./lib/useragent\");\nvar TextInput = require(\"./keyboard/textinput\").TextInput;\nvar MouseHandler = require(\"./mouse/mouse_handler\").MouseHandler;\nvar FoldHandler = require(\"./mouse/fold_handler\").FoldHandler;\nvar KeyBinding = require(\"./keyboard/keybinding\").KeyBinding;\nvar EditSession = require(\"./edit_session\").EditSession;\nvar Search = require(\"./search\").Search;\nvar Range = require(\"./range\").Range;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar CommandManager = require(\"./commands/command_manager\").CommandManager;\nvar defaultCommands = require(\"./commands/default_commands\").commands;\nvar config = require(\"./config\");\nvar TokenIterator = require(\"./token_iterator\").TokenIterator;\nvar LineWidgets = require(\"./line_widgets\").LineWidgets;\nvar clipboard = require(\"./clipboard\");\nvar Editor = function (renderer, session, options) {\n    this.$toDestroy = [];\n    var container = renderer.getContainerElement();\n    this.container = container;\n    this.renderer = renderer;\n    this.id = \"editor\" + (++Editor.$uid);\n    this.commands = new CommandManager(useragent.isMac ? \"mac\" : \"win\", defaultCommands);\n    if (typeof document == \"object\") {\n        this.textInput = new TextInput(renderer.getTextAreaContainer(), this);\n        this.renderer.textarea = this.textInput.getElement();\n        this.$mouseHandler = new MouseHandler(this);\n        new FoldHandler(this);\n    }\n    this.keyBinding = new KeyBinding(this);\n    this.$search = new Search().set({\n        wrap: true\n    });\n    this.$historyTracker = this.$historyTracker.bind(this);\n    this.commands.on(\"exec\", this.$historyTracker);\n    this.$initOperationListeners();\n    this._$emitInputEvent = lang.delayedCall(function () {\n        this._signal(\"input\", {});\n        if (this.session && !this.session.destroyed)\n            this.session.bgTokenizer.scheduleStart();\n    }.bind(this));\n    this.on(\"change\", function (_, _self) {\n        _self._$emitInputEvent.schedule(31);\n    });\n    this.setSession(session || options && options.session || new EditSession(\"\"));\n    config.resetOptions(this);\n    if (options)\n        this.setOptions(options);\n    config._signal(\"editor\", this);\n};\nEditor.$uid = 0;\n(function () {\n    oop.implement(this, EventEmitter);\n    this.$initOperationListeners = function () {\n        this.commands.on(\"exec\", this.startOperation.bind(this), true);\n        this.commands.on(\"afterExec\", this.endOperation.bind(this), true);\n        this.$opResetTimer = lang.delayedCall(this.endOperation.bind(this, true));\n        this.on(\"change\", function () {\n            if (!this.curOp) {\n                this.startOperation();\n                this.curOp.selectionBefore = this.$lastSel;\n            }\n            this.curOp.docChanged = true;\n        }.bind(this), true);\n        this.on(\"changeSelection\", function () {\n            if (!this.curOp) {\n                this.startOperation();\n                this.curOp.selectionBefore = this.$lastSel;\n            }\n            this.curOp.selectionChanged = true;\n        }.bind(this), true);\n    };\n    this.curOp = null;\n    this.prevOp = {};\n    this.startOperation = function (commandEvent) {\n        if (this.curOp) {\n            if (!commandEvent || this.curOp.command)\n                return;\n            this.prevOp = this.curOp;\n        }\n        if (!commandEvent) {\n            this.previousCommand = null;\n            commandEvent = {};\n        }\n        this.$opResetTimer.schedule();\n        this.curOp = this.session.curOp = {\n            command: commandEvent.command || {},\n            args: commandEvent.args,\n            scrollTop: this.renderer.scrollTop\n        };\n        this.curOp.selectionBefore = this.selection.toJSON();\n    };\n    this.endOperation = function (e) {\n        if (this.curOp && this.session) {\n            if (e && e.returnValue === false || !this.session)\n                return (this.curOp = null);\n            if (e == true && this.curOp.command && this.curOp.command.name == \"mouse\")\n                return;\n            this._signal(\"beforeEndOperation\");\n            if (!this.curOp)\n                return;\n            var command = this.curOp.command;\n            var scrollIntoView = command && command.scrollIntoView;\n            if (scrollIntoView) {\n                switch (scrollIntoView) {\n                    case \"center-animate\":\n                        scrollIntoView = \"animate\";\n                    case \"center\":\n                        this.renderer.scrollCursorIntoView(null, 0.5);\n                        break;\n                    case \"animate\":\n                    case \"cursor\":\n                        this.renderer.scrollCursorIntoView();\n                        break;\n                    case \"selectionPart\":\n                        var range = this.selection.getRange();\n                        var config = this.renderer.layerConfig;\n                        if (range.start.row >= config.lastRow || range.end.row <= config.firstRow) {\n                            this.renderer.scrollSelectionIntoView(this.selection.anchor, this.selection.lead);\n                        }\n                        break;\n                    default:\n                        break;\n                }\n                if (scrollIntoView == \"animate\")\n                    this.renderer.animateScrolling(this.curOp.scrollTop);\n            }\n            var sel = this.selection.toJSON();\n            this.curOp.selectionAfter = sel;\n            this.$lastSel = this.selection.toJSON();\n            this.session.getUndoManager().addSelection(sel);\n            this.prevOp = this.curOp;\n            this.curOp = null;\n        }\n    };\n    this.$mergeableCommands = [\"backspace\", \"del\", \"insertstring\"];\n    this.$historyTracker = function (e) {\n        if (!this.$mergeUndoDeltas)\n            return;\n        var prev = this.prevOp;\n        var mergeableCommands = this.$mergeableCommands;\n        var shouldMerge = prev.command && (e.command.name == prev.command.name);\n        if (e.command.name == \"insertstring\") {\n            var text = e.args;\n            if (this.mergeNextCommand === undefined)\n                this.mergeNextCommand = true;\n            shouldMerge = shouldMerge\n                && this.mergeNextCommand // previous command allows to coalesce with\n                && (!/\\s/.test(text) || /\\s/.test(prev.args)); // previous insertion was of same type\n            this.mergeNextCommand = true;\n        }\n        else {\n            shouldMerge = shouldMerge\n                && mergeableCommands.indexOf(e.command.name) !== -1; // the command is mergeable\n        }\n        if (this.$mergeUndoDeltas != \"always\"\n            && Date.now() - this.sequenceStartTime > 2000) {\n            shouldMerge = false; // the sequence is too long\n        }\n        if (shouldMerge)\n            this.session.mergeUndoDeltas = true;\n        else if (mergeableCommands.indexOf(e.command.name) !== -1)\n            this.sequenceStartTime = Date.now();\n    };\n    this.setKeyboardHandler = function (keyboardHandler, cb) {\n        if (keyboardHandler && typeof keyboardHandler === \"string\" && keyboardHandler != \"ace\") {\n            this.$keybindingId = keyboardHandler;\n            var _self = this;\n            config.loadModule([\"keybinding\", keyboardHandler], function (module) {\n                if (_self.$keybindingId == keyboardHandler)\n                    _self.keyBinding.setKeyboardHandler(module && module.handler);\n                cb && cb();\n            });\n        }\n        else {\n            this.$keybindingId = null;\n            this.keyBinding.setKeyboardHandler(keyboardHandler);\n            cb && cb();\n        }\n    };\n    this.getKeyboardHandler = function () {\n        return this.keyBinding.getKeyboardHandler();\n    };\n    this.setSession = function (session) {\n        if (this.session == session)\n            return;\n        if (this.curOp)\n            this.endOperation();\n        this.curOp = {};\n        var oldSession = this.session;\n        if (oldSession) {\n            this.session.off(\"change\", this.$onDocumentChange);\n            this.session.off(\"changeMode\", this.$onChangeMode);\n            this.session.off(\"tokenizerUpdate\", this.$onTokenizerUpdate);\n            this.session.off(\"changeTabSize\", this.$onChangeTabSize);\n            this.session.off(\"changeWrapLimit\", this.$onChangeWrapLimit);\n            this.session.off(\"changeWrapMode\", this.$onChangeWrapMode);\n            this.session.off(\"changeFold\", this.$onChangeFold);\n            this.session.off(\"changeFrontMarker\", this.$onChangeFrontMarker);\n            this.session.off(\"changeBackMarker\", this.$onChangeBackMarker);\n            this.session.off(\"changeBreakpoint\", this.$onChangeBreakpoint);\n            this.session.off(\"changeAnnotation\", this.$onChangeAnnotation);\n            this.session.off(\"changeOverwrite\", this.$onCursorChange);\n            this.session.off(\"changeScrollTop\", this.$onScrollTopChange);\n            this.session.off(\"changeScrollLeft\", this.$onScrollLeftChange);\n            var selection = this.session.getSelection();\n            selection.off(\"changeCursor\", this.$onCursorChange);\n            selection.off(\"changeSelection\", this.$onSelectionChange);\n        }\n        this.session = session;\n        if (session) {\n            this.$onDocumentChange = this.onDocumentChange.bind(this);\n            session.on(\"change\", this.$onDocumentChange);\n            this.renderer.setSession(session);\n            this.$onChangeMode = this.onChangeMode.bind(this);\n            session.on(\"changeMode\", this.$onChangeMode);\n            this.$onTokenizerUpdate = this.onTokenizerUpdate.bind(this);\n            session.on(\"tokenizerUpdate\", this.$onTokenizerUpdate);\n            this.$onChangeTabSize = this.renderer.onChangeTabSize.bind(this.renderer);\n            session.on(\"changeTabSize\", this.$onChangeTabSize);\n            this.$onChangeWrapLimit = this.onChangeWrapLimit.bind(this);\n            session.on(\"changeWrapLimit\", this.$onChangeWrapLimit);\n            this.$onChangeWrapMode = this.onChangeWrapMode.bind(this);\n            session.on(\"changeWrapMode\", this.$onChangeWrapMode);\n            this.$onChangeFold = this.onChangeFold.bind(this);\n            session.on(\"changeFold\", this.$onChangeFold);\n            this.$onChangeFrontMarker = this.onChangeFrontMarker.bind(this);\n            this.session.on(\"changeFrontMarker\", this.$onChangeFrontMarker);\n            this.$onChangeBackMarker = this.onChangeBackMarker.bind(this);\n            this.session.on(\"changeBackMarker\", this.$onChangeBackMarker);\n            this.$onChangeBreakpoint = this.onChangeBreakpoint.bind(this);\n            this.session.on(\"changeBreakpoint\", this.$onChangeBreakpoint);\n            this.$onChangeAnnotation = this.onChangeAnnotation.bind(this);\n            this.session.on(\"changeAnnotation\", this.$onChangeAnnotation);\n            this.$onCursorChange = this.onCursorChange.bind(this);\n            this.session.on(\"changeOverwrite\", this.$onCursorChange);\n            this.$onScrollTopChange = this.onScrollTopChange.bind(this);\n            this.session.on(\"changeScrollTop\", this.$onScrollTopChange);\n            this.$onScrollLeftChange = this.onScrollLeftChange.bind(this);\n            this.session.on(\"changeScrollLeft\", this.$onScrollLeftChange);\n            this.selection = session.getSelection();\n            this.selection.on(\"changeCursor\", this.$onCursorChange);\n            this.$onSelectionChange = this.onSelectionChange.bind(this);\n            this.selection.on(\"changeSelection\", this.$onSelectionChange);\n            this.onChangeMode();\n            this.onCursorChange();\n            this.onScrollTopChange();\n            this.onScrollLeftChange();\n            this.onSelectionChange();\n            this.onChangeFrontMarker();\n            this.onChangeBackMarker();\n            this.onChangeBreakpoint();\n            this.onChangeAnnotation();\n            this.session.getUseWrapMode() && this.renderer.adjustWrapLimit();\n            this.renderer.updateFull();\n        }\n        else {\n            this.selection = null;\n            this.renderer.setSession(session);\n        }\n        this._signal(\"changeSession\", {\n            session: session,\n            oldSession: oldSession\n        });\n        this.curOp = null;\n        oldSession && oldSession._signal(\"changeEditor\", { oldEditor: this });\n        session && session._signal(\"changeEditor\", { editor: this });\n        if (session && !session.destroyed)\n            session.bgTokenizer.scheduleStart();\n    };\n    this.getSession = function () {\n        return this.session;\n    };\n    this.setValue = function (val, cursorPos) {\n        this.session.doc.setValue(val);\n        if (!cursorPos)\n            this.selectAll();\n        else if (cursorPos == 1)\n            this.navigateFileEnd();\n        else if (cursorPos == -1)\n            this.navigateFileStart();\n        return val;\n    };\n    this.getValue = function () {\n        return this.session.getValue();\n    };\n    this.getSelection = function () {\n        return this.selection;\n    };\n    this.resize = function (force) {\n        this.renderer.onResize(force);\n    };\n    this.setTheme = function (theme, cb) {\n        this.renderer.setTheme(theme, cb);\n    };\n    this.getTheme = function () {\n        return this.renderer.getTheme();\n    };\n    this.setStyle = function (style) {\n        this.renderer.setStyle(style);\n    };\n    this.unsetStyle = function (style) {\n        this.renderer.unsetStyle(style);\n    };\n    this.getFontSize = function () {\n        return this.getOption(\"fontSize\") ||\n            dom.computedStyle(this.container).fontSize;\n    };\n    this.setFontSize = function (size) {\n        this.setOption(\"fontSize\", size);\n    };\n    this.$highlightBrackets = function () {\n        if (this.$highlightPending) {\n            return;\n        }\n        var self = this;\n        this.$highlightPending = true;\n        setTimeout(function () {\n            self.$highlightPending = false;\n            var session = self.session;\n            if (!session || session.destroyed)\n                return;\n            if (session.$bracketHighlight) {\n                session.$bracketHighlight.markerIds.forEach(function (id) {\n                    session.removeMarker(id);\n                });\n                session.$bracketHighlight = null;\n            }\n            var pos = self.getCursorPosition();\n            var handler = self.getKeyboardHandler();\n            var isBackwards = handler && handler.$getDirectionForHighlight && handler.$getDirectionForHighlight(self);\n            var ranges = session.getMatchingBracketRanges(pos, isBackwards);\n            if (!ranges) {\n                var iterator = new TokenIterator(session, pos.row, pos.column);\n                var token = iterator.getCurrentToken();\n                if (token && /\\b(?:tag-open|tag-name)/.test(token.type)) {\n                    var tagNamesRanges = session.getMatchingTags(pos);\n                    if (tagNamesRanges)\n                        ranges = [tagNamesRanges.openTagName, tagNamesRanges.closeTagName];\n                }\n            }\n            if (!ranges && session.$mode.getMatching)\n                ranges = session.$mode.getMatching(self.session);\n            if (!ranges) {\n                if (self.getHighlightIndentGuides())\n                    self.renderer.$textLayer.$highlightIndentGuide();\n                return;\n            }\n            var markerType = \"ace_bracket\";\n            if (!Array.isArray(ranges)) {\n                ranges = [ranges];\n            }\n            else if (ranges.length == 1) {\n                markerType = \"ace_error_bracket\";\n            }\n            if (ranges.length == 2) {\n                if (Range.comparePoints(ranges[0].end, ranges[1].start) == 0)\n                    ranges = [Range.fromPoints(ranges[0].start, ranges[1].end)];\n                else if (Range.comparePoints(ranges[0].start, ranges[1].end) == 0)\n                    ranges = [Range.fromPoints(ranges[1].start, ranges[0].end)];\n            }\n            session.$bracketHighlight = {\n                ranges: ranges,\n                markerIds: ranges.map(function (range) {\n                    return session.addMarker(range, markerType, \"text\");\n                })\n            };\n            if (self.getHighlightIndentGuides())\n                self.renderer.$textLayer.$highlightIndentGuide();\n        }, 50);\n    };\n    this.focus = function () {\n        this.textInput.focus();\n    };\n    this.isFocused = function () {\n        return this.textInput.isFocused();\n    };\n    this.blur = function () {\n        this.textInput.blur();\n    };\n    this.onFocus = function (e) {\n        if (this.$isFocused)\n            return;\n        this.$isFocused = true;\n        this.renderer.showCursor();\n        this.renderer.visualizeFocus();\n        this._emit(\"focus\", e);\n    };\n    this.onBlur = function (e) {\n        if (!this.$isFocused)\n            return;\n        this.$isFocused = false;\n        this.renderer.hideCursor();\n        this.renderer.visualizeBlur();\n        this._emit(\"blur\", e);\n    };\n    this.$cursorChange = function () {\n        this.renderer.updateCursor();\n        this.$highlightBrackets();\n        this.$updateHighlightActiveLine();\n    };\n    this.onDocumentChange = function (delta) {\n        var wrap = this.session.$useWrapMode;\n        var lastRow = (delta.start.row == delta.end.row ? delta.end.row : Infinity);\n        this.renderer.updateLines(delta.start.row, lastRow, wrap);\n        this._signal(\"change\", delta);\n        this.$cursorChange();\n    };\n    this.onTokenizerUpdate = function (e) {\n        var rows = e.data;\n        this.renderer.updateLines(rows.first, rows.last);\n    };\n    this.onScrollTopChange = function () {\n        this.renderer.scrollToY(this.session.getScrollTop());\n    };\n    this.onScrollLeftChange = function () {\n        this.renderer.scrollToX(this.session.getScrollLeft());\n    };\n    this.onCursorChange = function () {\n        this.$cursorChange();\n        this._signal(\"changeSelection\");\n    };\n    this.$updateHighlightActiveLine = function () {\n        var session = this.getSession();\n        var highlight;\n        if (this.$highlightActiveLine) {\n            if (this.$selectionStyle != \"line\" || !this.selection.isMultiLine())\n                highlight = this.getCursorPosition();\n            if (this.renderer.theme && this.renderer.theme.$selectionColorConflict && !this.selection.isEmpty())\n                highlight = false;\n            if (this.renderer.$maxLines && this.session.getLength() === 1 && !(this.renderer.$minLines > 1))\n                highlight = false;\n        }\n        if (session.$highlightLineMarker && !highlight) {\n            session.removeMarker(session.$highlightLineMarker.id);\n            session.$highlightLineMarker = null;\n        }\n        else if (!session.$highlightLineMarker && highlight) {\n            var range = new Range(highlight.row, highlight.column, highlight.row, Infinity);\n            range.id = session.addMarker(range, \"ace_active-line\", \"screenLine\");\n            session.$highlightLineMarker = range;\n        }\n        else if (highlight) {\n            session.$highlightLineMarker.start.row = highlight.row;\n            session.$highlightLineMarker.end.row = highlight.row;\n            session.$highlightLineMarker.start.column = highlight.column;\n            session._signal(\"changeBackMarker\");\n        }\n    };\n    this.onSelectionChange = function (e) {\n        var session = this.session;\n        if (session.$selectionMarker) {\n            session.removeMarker(session.$selectionMarker);\n        }\n        session.$selectionMarker = null;\n        if (!this.selection.isEmpty()) {\n            var range = this.selection.getRange();\n            var style = this.getSelectionStyle();\n            session.$selectionMarker = session.addMarker(range, \"ace_selection\", style);\n        }\n        else {\n            this.$updateHighlightActiveLine();\n        }\n        var re = this.$highlightSelectedWord && this.$getSelectionHighLightRegexp();\n        this.session.highlight(re);\n        this._signal(\"changeSelection\");\n    };\n    this.$getSelectionHighLightRegexp = function () {\n        var session = this.session;\n        var selection = this.getSelectionRange();\n        if (selection.isEmpty() || selection.isMultiLine())\n            return;\n        var startColumn = selection.start.column;\n        var endColumn = selection.end.column;\n        var line = session.getLine(selection.start.row);\n        var needle = line.substring(startColumn, endColumn);\n        if (needle.length > 5000 || !/[\\w\\d]/.test(needle))\n            return;\n        var re = this.$search.$assembleRegExp({\n            wholeWord: true,\n            caseSensitive: true,\n            needle: needle\n        });\n        var wordWithBoundary = line.substring(startColumn - 1, endColumn + 1);\n        if (!re.test(wordWithBoundary))\n            return;\n        return re;\n    };\n    this.onChangeFrontMarker = function () {\n        this.renderer.updateFrontMarkers();\n    };\n    this.onChangeBackMarker = function () {\n        this.renderer.updateBackMarkers();\n    };\n    this.onChangeBreakpoint = function () {\n        this.renderer.updateBreakpoints();\n    };\n    this.onChangeAnnotation = function () {\n        this.renderer.setAnnotations(this.session.getAnnotations());\n    };\n    this.onChangeMode = function (e) {\n        this.renderer.updateText();\n        this._emit(\"changeMode\", e);\n    };\n    this.onChangeWrapLimit = function () {\n        this.renderer.updateFull();\n    };\n    this.onChangeWrapMode = function () {\n        this.renderer.onResize(true);\n    };\n    this.onChangeFold = function () {\n        this.$updateHighlightActiveLine();\n        this.renderer.updateFull();\n    };\n    this.getSelectedText = function () {\n        return this.session.getTextRange(this.getSelectionRange());\n    };\n    this.getCopyText = function () {\n        var text = this.getSelectedText();\n        var nl = this.session.doc.getNewLineCharacter();\n        var copyLine = false;\n        if (!text && this.$copyWithEmptySelection) {\n            copyLine = true;\n            var ranges = this.selection.getAllRanges();\n            for (var i = 0; i < ranges.length; i++) {\n                var range = ranges[i];\n                if (i && ranges[i - 1].start.row == range.start.row)\n                    continue;\n                text += this.session.getLine(range.start.row) + nl;\n            }\n        }\n        var e = { text: text };\n        this._signal(\"copy\", e);\n        clipboard.lineMode = copyLine ? e.text : false;\n        return e.text;\n    };\n    this.onCopy = function () {\n        this.commands.exec(\"copy\", this);\n    };\n    this.onCut = function () {\n        this.commands.exec(\"cut\", this);\n    };\n    this.onPaste = function (text, event) {\n        var e = { text: text, event: event };\n        this.commands.exec(\"paste\", this, e);\n    };\n    this.$handlePaste = function (e) {\n        if (typeof e == \"string\")\n            e = { text: e };\n        this._signal(\"paste\", e);\n        var text = e.text;\n        var lineMode = text === clipboard.lineMode;\n        var session = this.session;\n        if (!this.inMultiSelectMode || this.inVirtualSelectionMode) {\n            if (lineMode)\n                session.insert({ row: this.selection.lead.row, column: 0 }, text);\n            else\n                this.insert(text);\n        }\n        else if (lineMode) {\n            this.selection.rangeList.ranges.forEach(function (range) {\n                session.insert({ row: range.start.row, column: 0 }, text);\n            });\n        }\n        else {\n            var lines = text.split(/\\r\\n|\\r|\\n/);\n            var ranges = this.selection.rangeList.ranges;\n            var isFullLine = lines.length == 2 && (!lines[0] || !lines[1]);\n            if (lines.length != ranges.length || isFullLine)\n                return this.commands.exec(\"insertstring\", this, text);\n            for (var i = ranges.length; i--;) {\n                var range = ranges[i];\n                if (!range.isEmpty())\n                    session.remove(range);\n                session.insert(range.start, lines[i]);\n            }\n        }\n    };\n    this.execCommand = function (command, args) {\n        return this.commands.exec(command, this, args);\n    };\n    this.insert = function (text, pasted) {\n        var session = this.session;\n        var mode = session.getMode();\n        var cursor = this.getCursorPosition();\n        if (this.getBehavioursEnabled() && !pasted) {\n            var transform = mode.transformAction(session.getState(cursor.row), 'insertion', this, session, text);\n            if (transform) {\n                if (text !== transform.text) {\n                    if (!this.inVirtualSelectionMode) {\n                        this.session.mergeUndoDeltas = false;\n                        this.mergeNextCommand = false;\n                    }\n                }\n                text = transform.text;\n            }\n        }\n        if (text == \"\\t\")\n            text = this.session.getTabString();\n        if (!this.selection.isEmpty()) {\n            var range = this.getSelectionRange();\n            cursor = this.session.remove(range);\n            this.clearSelection();\n        }\n        else if (this.session.getOverwrite() && text.indexOf(\"\\n\") == -1) {\n            var range = new Range.fromPoints(cursor, cursor);\n            range.end.column += text.length;\n            this.session.remove(range);\n        }\n        if (text == \"\\n\" || text == \"\\r\\n\") {\n            var line = session.getLine(cursor.row);\n            if (cursor.column > line.search(/\\S|$/)) {\n                var d = line.substr(cursor.column).search(/\\S|$/);\n                session.doc.removeInLine(cursor.row, cursor.column, cursor.column + d);\n            }\n        }\n        this.clearSelection();\n        var start = cursor.column;\n        var lineState = session.getState(cursor.row);\n        var line = session.getLine(cursor.row);\n        var shouldOutdent = mode.checkOutdent(lineState, line, text);\n        session.insert(cursor, text);\n        if (transform && transform.selection) {\n            if (transform.selection.length == 2) { // Transform relative to the current column\n                this.selection.setSelectionRange(new Range(cursor.row, start + transform.selection[0], cursor.row, start + transform.selection[1]));\n            }\n            else { // Transform relative to the current row.\n                this.selection.setSelectionRange(new Range(cursor.row + transform.selection[0], transform.selection[1], cursor.row + transform.selection[2], transform.selection[3]));\n            }\n        }\n        if (this.$enableAutoIndent) {\n            if (session.getDocument().isNewLine(text)) {\n                var lineIndent = mode.getNextLineIndent(lineState, line.slice(0, cursor.column), session.getTabString());\n                session.insert({ row: cursor.row + 1, column: 0 }, lineIndent);\n            }\n            if (shouldOutdent)\n                mode.autoOutdent(lineState, session, cursor.row);\n        }\n    };\n    this.autoIndent = function () {\n        var session = this.session;\n        var mode = session.getMode();\n        var startRow, endRow;\n        if (this.selection.isEmpty()) {\n            startRow = 0;\n            endRow = session.doc.getLength() - 1;\n        }\n        else {\n            var selectedRange = this.getSelectionRange();\n            startRow = selectedRange.start.row;\n            endRow = selectedRange.end.row;\n        }\n        var prevLineState = \"\";\n        var prevLine = \"\";\n        var lineIndent = \"\";\n        var line, currIndent, range;\n        var tab = session.getTabString();\n        for (var row = startRow; row <= endRow; row++) {\n            if (row > 0) {\n                prevLineState = session.getState(row - 1);\n                prevLine = session.getLine(row - 1);\n                lineIndent = mode.getNextLineIndent(prevLineState, prevLine, tab);\n            }\n            line = session.getLine(row);\n            currIndent = mode.$getIndent(line);\n            if (lineIndent !== currIndent) {\n                if (currIndent.length > 0) {\n                    range = new Range(row, 0, row, currIndent.length);\n                    session.remove(range);\n                }\n                if (lineIndent.length > 0) {\n                    session.insert({ row: row, column: 0 }, lineIndent);\n                }\n            }\n            mode.autoOutdent(prevLineState, session, row);\n        }\n    };\n    this.onTextInput = function (text, composition) {\n        if (!composition)\n            return this.keyBinding.onTextInput(text);\n        this.startOperation({ command: { name: \"insertstring\" } });\n        var applyComposition = this.applyComposition.bind(this, text, composition);\n        if (this.selection.rangeCount)\n            this.forEachSelection(applyComposition);\n        else\n            applyComposition();\n        this.endOperation();\n    };\n    this.applyComposition = function (text, composition) {\n        if (composition.extendLeft || composition.extendRight) {\n            var r = this.selection.getRange();\n            r.start.column -= composition.extendLeft;\n            r.end.column += composition.extendRight;\n            if (r.start.column < 0) {\n                r.start.row--;\n                r.start.column += this.session.getLine(r.start.row).length + 1;\n            }\n            this.selection.setRange(r);\n            if (!text && !r.isEmpty())\n                this.remove();\n        }\n        if (text || !this.selection.isEmpty())\n            this.insert(text, true);\n        if (composition.restoreStart || composition.restoreEnd) {\n            var r = this.selection.getRange();\n            r.start.column -= composition.restoreStart;\n            r.end.column -= composition.restoreEnd;\n            this.selection.setRange(r);\n        }\n    };\n    this.onCommandKey = function (e, hashId, keyCode) {\n        return this.keyBinding.onCommandKey(e, hashId, keyCode);\n    };\n    this.setOverwrite = function (overwrite) {\n        this.session.setOverwrite(overwrite);\n    };\n    this.getOverwrite = function () {\n        return this.session.getOverwrite();\n    };\n    this.toggleOverwrite = function () {\n        this.session.toggleOverwrite();\n    };\n    this.setScrollSpeed = function (speed) {\n        this.setOption(\"scrollSpeed\", speed);\n    };\n    this.getScrollSpeed = function () {\n        return this.getOption(\"scrollSpeed\");\n    };\n    this.setDragDelay = function (dragDelay) {\n        this.setOption(\"dragDelay\", dragDelay);\n    };\n    this.getDragDelay = function () {\n        return this.getOption(\"dragDelay\");\n    };\n    this.setSelectionStyle = function (val) {\n        this.setOption(\"selectionStyle\", val);\n    };\n    this.getSelectionStyle = function () {\n        return this.getOption(\"selectionStyle\");\n    };\n    this.setHighlightActiveLine = function (shouldHighlight) {\n        this.setOption(\"highlightActiveLine\", shouldHighlight);\n    };\n    this.getHighlightActiveLine = function () {\n        return this.getOption(\"highlightActiveLine\");\n    };\n    this.setHighlightGutterLine = function (shouldHighlight) {\n        this.setOption(\"highlightGutterLine\", shouldHighlight);\n    };\n    this.getHighlightGutterLine = function () {\n        return this.getOption(\"highlightGutterLine\");\n    };\n    this.setHighlightSelectedWord = function (shouldHighlight) {\n        this.setOption(\"highlightSelectedWord\", shouldHighlight);\n    };\n    this.getHighlightSelectedWord = function () {\n        return this.$highlightSelectedWord;\n    };\n    this.setAnimatedScroll = function (shouldAnimate) {\n        this.renderer.setAnimatedScroll(shouldAnimate);\n    };\n    this.getAnimatedScroll = function () {\n        return this.renderer.getAnimatedScroll();\n    };\n    this.setShowInvisibles = function (showInvisibles) {\n        this.renderer.setShowInvisibles(showInvisibles);\n    };\n    this.getShowInvisibles = function () {\n        return this.renderer.getShowInvisibles();\n    };\n    this.setDisplayIndentGuides = function (display) {\n        this.renderer.setDisplayIndentGuides(display);\n    };\n    this.getDisplayIndentGuides = function () {\n        return this.renderer.getDisplayIndentGuides();\n    };\n    this.setHighlightIndentGuides = function (highlight) {\n        this.renderer.setHighlightIndentGuides(highlight);\n    };\n    this.getHighlightIndentGuides = function () {\n        return this.renderer.getHighlightIndentGuides();\n    };\n    this.setShowPrintMargin = function (showPrintMargin) {\n        this.renderer.setShowPrintMargin(showPrintMargin);\n    };\n    this.getShowPrintMargin = function () {\n        return this.renderer.getShowPrintMargin();\n    };\n    this.setPrintMarginColumn = function (showPrintMargin) {\n        this.renderer.setPrintMarginColumn(showPrintMargin);\n    };\n    this.getPrintMarginColumn = function () {\n        return this.renderer.getPrintMarginColumn();\n    };\n    this.setReadOnly = function (readOnly) {\n        this.setOption(\"readOnly\", readOnly);\n    };\n    this.getReadOnly = function () {\n        return this.getOption(\"readOnly\");\n    };\n    this.setBehavioursEnabled = function (enabled) {\n        this.setOption(\"behavioursEnabled\", enabled);\n    };\n    this.getBehavioursEnabled = function () {\n        return this.getOption(\"behavioursEnabled\");\n    };\n    this.setWrapBehavioursEnabled = function (enabled) {\n        this.setOption(\"wrapBehavioursEnabled\", enabled);\n    };\n    this.getWrapBehavioursEnabled = function () {\n        return this.getOption(\"wrapBehavioursEnabled\");\n    };\n    this.setShowFoldWidgets = function (show) {\n        this.setOption(\"showFoldWidgets\", show);\n    };\n    this.getShowFoldWidgets = function () {\n        return this.getOption(\"showFoldWidgets\");\n    };\n    this.setFadeFoldWidgets = function (fade) {\n        this.setOption(\"fadeFoldWidgets\", fade);\n    };\n    this.getFadeFoldWidgets = function () {\n        return this.getOption(\"fadeFoldWidgets\");\n    };\n    this.remove = function (dir) {\n        if (this.selection.isEmpty()) {\n            if (dir == \"left\")\n                this.selection.selectLeft();\n            else\n                this.selection.selectRight();\n        }\n        var range = this.getSelectionRange();\n        if (this.getBehavioursEnabled()) {\n            var session = this.session;\n            var state = session.getState(range.start.row);\n            var new_range = session.getMode().transformAction(state, 'deletion', this, session, range);\n            if (range.end.column === 0) {\n                var text = session.getTextRange(range);\n                if (text[text.length - 1] == \"\\n\") {\n                    var line = session.getLine(range.end.row);\n                    if (/^\\s+$/.test(line)) {\n                        range.end.column = line.length;\n                    }\n                }\n            }\n            if (new_range)\n                range = new_range;\n        }\n        this.session.remove(range);\n        this.clearSelection();\n    };\n    this.removeWordRight = function () {\n        if (this.selection.isEmpty())\n            this.selection.selectWordRight();\n        this.session.remove(this.getSelectionRange());\n        this.clearSelection();\n    };\n    this.removeWordLeft = function () {\n        if (this.selection.isEmpty())\n            this.selection.selectWordLeft();\n        this.session.remove(this.getSelectionRange());\n        this.clearSelection();\n    };\n    this.removeToLineStart = function () {\n        if (this.selection.isEmpty())\n            this.selection.selectLineStart();\n        if (this.selection.isEmpty())\n            this.selection.selectLeft();\n        this.session.remove(this.getSelectionRange());\n        this.clearSelection();\n    };\n    this.removeToLineEnd = function () {\n        if (this.selection.isEmpty())\n            this.selection.selectLineEnd();\n        var range = this.getSelectionRange();\n        if (range.start.column == range.end.column && range.start.row == range.end.row) {\n            range.end.column = 0;\n            range.end.row++;\n        }\n        this.session.remove(range);\n        this.clearSelection();\n    };\n    this.splitLine = function () {\n        if (!this.selection.isEmpty()) {\n            this.session.remove(this.getSelectionRange());\n            this.clearSelection();\n        }\n        var cursor = this.getCursorPosition();\n        this.insert(\"\\n\");\n        this.moveCursorToPosition(cursor);\n    };\n    this.setGhostText = function (text, position) {\n        if (!this.session.widgetManager) {\n            this.session.widgetManager = new LineWidgets(this.session);\n            this.session.widgetManager.attach(this);\n        }\n        this.renderer.setGhostText(text, position);\n    };\n    this.removeGhostText = function () {\n        if (!this.session.widgetManager)\n            return;\n        this.renderer.removeGhostText();\n    };\n    this.transposeLetters = function () {\n        if (!this.selection.isEmpty()) {\n            return;\n        }\n        var cursor = this.getCursorPosition();\n        var column = cursor.column;\n        if (column === 0)\n            return;\n        var line = this.session.getLine(cursor.row);\n        var swap, range;\n        if (column < line.length) {\n            swap = line.charAt(column) + line.charAt(column - 1);\n            range = new Range(cursor.row, column - 1, cursor.row, column + 1);\n        }\n        else {\n            swap = line.charAt(column - 1) + line.charAt(column - 2);\n            range = new Range(cursor.row, column - 2, cursor.row, column);\n        }\n        this.session.replace(range, swap);\n        this.session.selection.moveToPosition(range.end);\n    };\n    this.toLowerCase = function () {\n        var originalRange = this.getSelectionRange();\n        if (this.selection.isEmpty()) {\n            this.selection.selectWord();\n        }\n        var range = this.getSelectionRange();\n        var text = this.session.getTextRange(range);\n        this.session.replace(range, text.toLowerCase());\n        this.selection.setSelectionRange(originalRange);\n    };\n    this.toUpperCase = function () {\n        var originalRange = this.getSelectionRange();\n        if (this.selection.isEmpty()) {\n            this.selection.selectWord();\n        }\n        var range = this.getSelectionRange();\n        var text = this.session.getTextRange(range);\n        this.session.replace(range, text.toUpperCase());\n        this.selection.setSelectionRange(originalRange);\n    };\n    this.indent = function () {\n        var session = this.session;\n        var range = this.getSelectionRange();\n        if (range.start.row < range.end.row) {\n            var rows = this.$getSelectedRows();\n            session.indentRows(rows.first, rows.last, \"\\t\");\n            return;\n        }\n        else if (range.start.column < range.end.column) {\n            var text = session.getTextRange(range);\n            if (!/^\\s+$/.test(text)) {\n                var rows = this.$getSelectedRows();\n                session.indentRows(rows.first, rows.last, \"\\t\");\n                return;\n            }\n        }\n        var line = session.getLine(range.start.row);\n        var position = range.start;\n        var size = session.getTabSize();\n        var column = session.documentToScreenColumn(position.row, position.column);\n        if (this.session.getUseSoftTabs()) {\n            var count = (size - column % size);\n            var indentString = lang.stringRepeat(\" \", count);\n        }\n        else {\n            var count = column % size;\n            while (line[range.start.column - 1] == \" \" && count) {\n                range.start.column--;\n                count--;\n            }\n            this.selection.setSelectionRange(range);\n            indentString = \"\\t\";\n        }\n        return this.insert(indentString);\n    };\n    this.blockIndent = function () {\n        var rows = this.$getSelectedRows();\n        this.session.indentRows(rows.first, rows.last, \"\\t\");\n    };\n    this.blockOutdent = function () {\n        var selection = this.session.getSelection();\n        this.session.outdentRows(selection.getRange());\n    };\n    this.sortLines = function () {\n        var rows = this.$getSelectedRows();\n        var session = this.session;\n        var lines = [];\n        for (var i = rows.first; i <= rows.last; i++)\n            lines.push(session.getLine(i));\n        lines.sort(function (a, b) {\n            if (a.toLowerCase() < b.toLowerCase())\n                return -1;\n            if (a.toLowerCase() > b.toLowerCase())\n                return 1;\n            return 0;\n        });\n        var deleteRange = new Range(0, 0, 0, 0);\n        for (var i = rows.first; i <= rows.last; i++) {\n            var line = session.getLine(i);\n            deleteRange.start.row = i;\n            deleteRange.end.row = i;\n            deleteRange.end.column = line.length;\n            session.replace(deleteRange, lines[i - rows.first]);\n        }\n    };\n    this.toggleCommentLines = function () {\n        var state = this.session.getState(this.getCursorPosition().row);\n        var rows = this.$getSelectedRows();\n        this.session.getMode().toggleCommentLines(state, this.session, rows.first, rows.last);\n    };\n    this.toggleBlockComment = function () {\n        var cursor = this.getCursorPosition();\n        var state = this.session.getState(cursor.row);\n        var range = this.getSelectionRange();\n        this.session.getMode().toggleBlockComment(state, this.session, range, cursor);\n    };\n    this.getNumberAt = function (row, column) {\n        var _numberRx = /[\\-]?[0-9]+(?:\\.[0-9]+)?/g;\n        _numberRx.lastIndex = 0;\n        var s = this.session.getLine(row);\n        while (_numberRx.lastIndex < column) {\n            var m = _numberRx.exec(s);\n            if (m.index <= column && m.index + m[0].length >= column) {\n                var number = {\n                    value: m[0],\n                    start: m.index,\n                    end: m.index + m[0].length\n                };\n                return number;\n            }\n        }\n        return null;\n    };\n    this.modifyNumber = function (amount) {\n        var row = this.selection.getCursor().row;\n        var column = this.selection.getCursor().column;\n        var charRange = new Range(row, column - 1, row, column);\n        var c = this.session.getTextRange(charRange);\n        if (!isNaN(parseFloat(c)) && isFinite(c)) {\n            var nr = this.getNumberAt(row, column);\n            if (nr) {\n                var fp = nr.value.indexOf(\".\") >= 0 ? nr.start + nr.value.indexOf(\".\") + 1 : nr.end;\n                var decimals = nr.start + nr.value.length - fp;\n                var t = parseFloat(nr.value);\n                t *= Math.pow(10, decimals);\n                if (fp !== nr.end && column < fp) {\n                    amount *= Math.pow(10, nr.end - column - 1);\n                }\n                else {\n                    amount *= Math.pow(10, nr.end - column);\n                }\n                t += amount;\n                t /= Math.pow(10, decimals);\n                var nnr = t.toFixed(decimals);\n                var replaceRange = new Range(row, nr.start, row, nr.end);\n                this.session.replace(replaceRange, nnr);\n                this.moveCursorTo(row, Math.max(nr.start + 1, column + nnr.length - nr.value.length));\n            }\n        }\n        else {\n            this.toggleWord();\n        }\n    };\n    this.$toggleWordPairs = [\n        [\"first\", \"last\"],\n        [\"true\", \"false\"],\n        [\"yes\", \"no\"],\n        [\"width\", \"height\"],\n        [\"top\", \"bottom\"],\n        [\"right\", \"left\"],\n        [\"on\", \"off\"],\n        [\"x\", \"y\"],\n        [\"get\", \"set\"],\n        [\"max\", \"min\"],\n        [\"horizontal\", \"vertical\"],\n        [\"show\", \"hide\"],\n        [\"add\", \"remove\"],\n        [\"up\", \"down\"],\n        [\"before\", \"after\"],\n        [\"even\", \"odd\"],\n        [\"in\", \"out\"],\n        [\"inside\", \"outside\"],\n        [\"next\", \"previous\"],\n        [\"increase\", \"decrease\"],\n        [\"attach\", \"detach\"],\n        [\"&&\", \"||\"],\n        [\"==\", \"!=\"]\n    ];\n    this.toggleWord = function () {\n        var row = this.selection.getCursor().row;\n        var column = this.selection.getCursor().column;\n        this.selection.selectWord();\n        var currentState = this.getSelectedText();\n        var currWordStart = this.selection.getWordRange().start.column;\n        var wordParts = currentState.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g, '$1 ').split(/\\s/);\n        var delta = column - currWordStart - 1;\n        if (delta < 0)\n            delta = 0;\n        var curLength = 0, itLength = 0;\n        var that = this;\n        if (currentState.match(/[A-Za-z0-9_]+/)) {\n            wordParts.forEach(function (item, i) {\n                itLength = curLength + item.length;\n                if (delta >= curLength && delta <= itLength) {\n                    currentState = item;\n                    that.selection.clearSelection();\n                    that.moveCursorTo(row, curLength + currWordStart);\n                    that.selection.selectTo(row, itLength + currWordStart);\n                }\n                curLength = itLength;\n            });\n        }\n        var wordPairs = this.$toggleWordPairs;\n        var reg;\n        for (var i = 0; i < wordPairs.length; i++) {\n            var item = wordPairs[i];\n            for (var j = 0; j <= 1; j++) {\n                var negate = +!j;\n                var firstCondition = currentState.match(new RegExp('^\\\\s?_?(' + lang.escapeRegExp(item[j]) + ')\\\\s?$', 'i'));\n                if (firstCondition) {\n                    var secondCondition = currentState.match(new RegExp('([_]|^|\\\\s)(' + lang.escapeRegExp(firstCondition[1]) + ')($|\\\\s)', 'g'));\n                    if (secondCondition) {\n                        reg = currentState.replace(new RegExp(lang.escapeRegExp(item[j]), 'i'), function (result) {\n                            var res = item[negate];\n                            if (result.toUpperCase() == result) {\n                                res = res.toUpperCase();\n                            }\n                            else if (result.charAt(0).toUpperCase() == result.charAt(0)) {\n                                res = res.substr(0, 0) + item[negate].charAt(0).toUpperCase() + res.substr(1);\n                            }\n                            return res;\n                        });\n                        this.insert(reg);\n                        reg = \"\";\n                    }\n                }\n            }\n        }\n    };\n    this.findLinkAt = function (row, column) {\n        var e_1, _a;\n        var line = this.session.getLine(row);\n        var wordParts = line.split(/((?:https?|ftp):\\/\\/[\\S]+)/);\n        var columnPosition = column;\n        if (columnPosition < 0)\n            columnPosition = 0;\n        var previousPosition = 0, currentPosition = 0, match;\n        try {\n            for (var wordParts_1 = __values(wordParts), wordParts_1_1 = wordParts_1.next(); !wordParts_1_1.done; wordParts_1_1 = wordParts_1.next()) {\n                var item = wordParts_1_1.value;\n                currentPosition = previousPosition + item.length;\n                if (columnPosition >= previousPosition && columnPosition <= currentPosition) {\n                    if (item.match(/((?:https?|ftp):\\/\\/[\\S]+)/)) {\n                        match = item.replace(/[\\s:.,'\";}\\]]+$/, \"\");\n                        break;\n                    }\n                }\n                previousPosition = currentPosition;\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (wordParts_1_1 && !wordParts_1_1.done && (_a = wordParts_1.return)) _a.call(wordParts_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return match;\n    };\n    this.openLink = function () {\n        var cursor = this.selection.getCursor();\n        var url = this.findLinkAt(cursor.row, cursor.column);\n        if (url)\n            window.open(url, '_blank');\n        return url != null;\n    };\n    this.removeLines = function () {\n        var rows = this.$getSelectedRows();\n        this.session.removeFullLines(rows.first, rows.last);\n        this.clearSelection();\n    };\n    this.duplicateSelection = function () {\n        var sel = this.selection;\n        var doc = this.session;\n        var range = sel.getRange();\n        var reverse = sel.isBackwards();\n        if (range.isEmpty()) {\n            var row = range.start.row;\n            doc.duplicateLines(row, row);\n        }\n        else {\n            var point = reverse ? range.start : range.end;\n            var endPoint = doc.insert(point, doc.getTextRange(range), false);\n            range.start = point;\n            range.end = endPoint;\n            sel.setSelectionRange(range, reverse);\n        }\n    };\n    this.moveLinesDown = function () {\n        this.$moveLines(1, false);\n    };\n    this.moveLinesUp = function () {\n        this.$moveLines(-1, false);\n    };\n    this.moveText = function (range, toPosition, copy) {\n        return this.session.moveText(range, toPosition, copy);\n    };\n    this.copyLinesUp = function () {\n        this.$moveLines(-1, true);\n    };\n    this.copyLinesDown = function () {\n        this.$moveLines(1, true);\n    };\n    this.$moveLines = function (dir, copy) {\n        var rows, moved;\n        var selection = this.selection;\n        if (!selection.inMultiSelectMode || this.inVirtualSelectionMode) {\n            var range = selection.toOrientedRange();\n            rows = this.$getSelectedRows(range);\n            moved = this.session.$moveLines(rows.first, rows.last, copy ? 0 : dir);\n            if (copy && dir == -1)\n                moved = 0;\n            range.moveBy(moved, 0);\n            selection.fromOrientedRange(range);\n        }\n        else {\n            var ranges = selection.rangeList.ranges;\n            selection.rangeList.detach(this.session);\n            this.inVirtualSelectionMode = true;\n            var diff = 0;\n            var totalDiff = 0;\n            var l = ranges.length;\n            for (var i = 0; i < l; i++) {\n                var rangeIndex = i;\n                ranges[i].moveBy(diff, 0);\n                rows = this.$getSelectedRows(ranges[i]);\n                var first = rows.first;\n                var last = rows.last;\n                while (++i < l) {\n                    if (totalDiff)\n                        ranges[i].moveBy(totalDiff, 0);\n                    var subRows = this.$getSelectedRows(ranges[i]);\n                    if (copy && subRows.first != last)\n                        break;\n                    else if (!copy && subRows.first > last + 1)\n                        break;\n                    last = subRows.last;\n                }\n                i--;\n                diff = this.session.$moveLines(first, last, copy ? 0 : dir);\n                if (copy && dir == -1)\n                    rangeIndex = i + 1;\n                while (rangeIndex <= i) {\n                    ranges[rangeIndex].moveBy(diff, 0);\n                    rangeIndex++;\n                }\n                if (!copy)\n                    diff = 0;\n                totalDiff += diff;\n            }\n            selection.fromOrientedRange(selection.ranges[0]);\n            selection.rangeList.attach(this.session);\n            this.inVirtualSelectionMode = false;\n        }\n    };\n    this.$getSelectedRows = function (range) {\n        range = (range || this.getSelectionRange()).collapseRows();\n        return {\n            first: this.session.getRowFoldStart(range.start.row),\n            last: this.session.getRowFoldEnd(range.end.row)\n        };\n    };\n    this.onCompositionStart = function (compositionState) {\n        this.renderer.showComposition(compositionState);\n    };\n    this.onCompositionUpdate = function (text) {\n        this.renderer.setCompositionText(text);\n    };\n    this.onCompositionEnd = function () {\n        this.renderer.hideComposition();\n    };\n    this.getFirstVisibleRow = function () {\n        return this.renderer.getFirstVisibleRow();\n    };\n    this.getLastVisibleRow = function () {\n        return this.renderer.getLastVisibleRow();\n    };\n    this.isRowVisible = function (row) {\n        return (row >= this.getFirstVisibleRow() && row <= this.getLastVisibleRow());\n    };\n    this.isRowFullyVisible = function (row) {\n        return (row >= this.renderer.getFirstFullyVisibleRow() && row <= this.renderer.getLastFullyVisibleRow());\n    };\n    this.$getVisibleRowCount = function () {\n        return this.renderer.getScrollBottomRow() - this.renderer.getScrollTopRow() + 1;\n    };\n    this.$moveByPage = function (dir, select) {\n        var renderer = this.renderer;\n        var config = this.renderer.layerConfig;\n        var rows = dir * Math.floor(config.height / config.lineHeight);\n        if (select === true) {\n            this.selection.$moveSelection(function () {\n                this.moveCursorBy(rows, 0);\n            });\n        }\n        else if (select === false) {\n            this.selection.moveCursorBy(rows, 0);\n            this.selection.clearSelection();\n        }\n        var scrollTop = renderer.scrollTop;\n        renderer.scrollBy(0, rows * config.lineHeight);\n        if (select != null)\n            renderer.scrollCursorIntoView(null, 0.5);\n        renderer.animateScrolling(scrollTop);\n    };\n    this.selectPageDown = function () {\n        this.$moveByPage(1, true);\n    };\n    this.selectPageUp = function () {\n        this.$moveByPage(-1, true);\n    };\n    this.gotoPageDown = function () {\n        this.$moveByPage(1, false);\n    };\n    this.gotoPageUp = function () {\n        this.$moveByPage(-1, false);\n    };\n    this.scrollPageDown = function () {\n        this.$moveByPage(1);\n    };\n    this.scrollPageUp = function () {\n        this.$moveByPage(-1);\n    };\n    this.scrollToRow = function (row) {\n        this.renderer.scrollToRow(row);\n    };\n    this.scrollToLine = function (line, center, animate, callback) {\n        this.renderer.scrollToLine(line, center, animate, callback);\n    };\n    this.centerSelection = function () {\n        var range = this.getSelectionRange();\n        var pos = {\n            row: Math.floor(range.start.row + (range.end.row - range.start.row) / 2),\n            column: Math.floor(range.start.column + (range.end.column - range.start.column) / 2)\n        };\n        this.renderer.alignCursor(pos, 0.5);\n    };\n    this.getCursorPosition = function () {\n        return this.selection.getCursor();\n    };\n    this.getCursorPositionScreen = function () {\n        return this.session.documentToScreenPosition(this.getCursorPosition());\n    };\n    this.getSelectionRange = function () {\n        return this.selection.getRange();\n    };\n    this.selectAll = function () {\n        this.selection.selectAll();\n    };\n    this.clearSelection = function () {\n        this.selection.clearSelection();\n    };\n    this.moveCursorTo = function (row, column) {\n        this.selection.moveCursorTo(row, column);\n    };\n    this.moveCursorToPosition = function (pos) {\n        this.selection.moveCursorToPosition(pos);\n    };\n    this.jumpToMatching = function (select, expand) {\n        var cursor = this.getCursorPosition();\n        var iterator = new TokenIterator(this.session, cursor.row, cursor.column);\n        var prevToken = iterator.getCurrentToken();\n        var tokenCount = 0;\n        if (prevToken && prevToken.type.indexOf('tag-name') !== -1) {\n            prevToken = iterator.stepBackward();\n        }\n        var token = prevToken || iterator.stepForward();\n        if (!token)\n            return;\n        var matchType;\n        var found = false;\n        var depth = {};\n        var i = cursor.column - token.start;\n        var bracketType;\n        var brackets = {\n            \")\": \"(\",\n            \"(\": \"(\",\n            \"]\": \"[\",\n            \"[\": \"[\",\n            \"{\": \"{\",\n            \"}\": \"{\"\n        };\n        do {\n            if (token.value.match(/[{}()\\[\\]]/g)) {\n                for (; i < token.value.length && !found; i++) {\n                    if (!brackets[token.value[i]]) {\n                        continue;\n                    }\n                    bracketType = brackets[token.value[i]] + '.' + token.type.replace(\"rparen\", \"lparen\");\n                    if (isNaN(depth[bracketType])) {\n                        depth[bracketType] = 0;\n                    }\n                    switch (token.value[i]) {\n                        case '(':\n                        case '[':\n                        case '{':\n                            depth[bracketType]++;\n                            break;\n                        case ')':\n                        case ']':\n                        case '}':\n                            depth[bracketType]--;\n                            if (depth[bracketType] === -1) {\n                                matchType = 'bracket';\n                                found = true;\n                            }\n                            break;\n                    }\n                }\n            }\n            else if (token.type.indexOf('tag-name') !== -1) {\n                if (isNaN(depth[token.value])) {\n                    depth[token.value] = 0;\n                }\n                if (prevToken.value === '<' && tokenCount > 1) {\n                    depth[token.value]++;\n                }\n                else if (prevToken.value === '</') {\n                    depth[token.value]--;\n                }\n                if (depth[token.value] === -1) {\n                    matchType = 'tag';\n                    found = true;\n                }\n            }\n            if (!found) {\n                prevToken = token;\n                tokenCount++;\n                token = iterator.stepForward();\n                i = 0;\n            }\n        } while (token && !found);\n        if (!matchType)\n            return;\n        var range, pos;\n        if (matchType === 'bracket') {\n            range = this.session.getBracketRange(cursor);\n            if (!range) {\n                range = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + i - 1, iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + i - 1);\n                pos = range.start;\n                if (expand || pos.row === cursor.row && Math.abs(pos.column - cursor.column)\n                    < 2)\n                    range = this.session.getBracketRange(pos);\n            }\n        }\n        else if (matchType === 'tag') {\n            if (!token || token.type.indexOf('tag-name') === -1)\n                return;\n            range = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() - 2, iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() - 2);\n            if (range.compare(cursor.row, cursor.column) === 0) {\n                var tagsRanges = this.session.getMatchingTags(cursor);\n                if (tagsRanges) {\n                    if (tagsRanges.openTag.contains(cursor.row, cursor.column)) {\n                        range = tagsRanges.closeTag;\n                        pos = range.start;\n                    }\n                    else {\n                        range = tagsRanges.openTag;\n                        if (tagsRanges.closeTag.start.row === cursor.row && tagsRanges.closeTag.start.column\n                            === cursor.column)\n                            pos = range.end;\n                        else\n                            pos = range.start;\n                    }\n                }\n            }\n            pos = pos || range.start;\n        }\n        pos = range && range.cursor || pos;\n        if (pos) {\n            if (select) {\n                if (range && expand) {\n                    this.selection.setRange(range);\n                }\n                else if (range && range.isEqual(this.getSelectionRange())) {\n                    this.clearSelection();\n                }\n                else {\n                    this.selection.selectTo(pos.row, pos.column);\n                }\n            }\n            else {\n                this.selection.moveTo(pos.row, pos.column);\n            }\n        }\n    };\n    this.gotoLine = function (lineNumber, column, animate) {\n        this.selection.clearSelection();\n        this.session.unfold({ row: lineNumber - 1, column: column || 0 });\n        this.exitMultiSelectMode && this.exitMultiSelectMode();\n        this.moveCursorTo(lineNumber - 1, column || 0);\n        if (!this.isRowFullyVisible(lineNumber - 1))\n            this.scrollToLine(lineNumber - 1, true, animate);\n    };\n    this.navigateTo = function (row, column) {\n        this.selection.moveTo(row, column);\n    };\n    this.navigateUp = function (times) {\n        if (this.selection.isMultiLine() && !this.selection.isBackwards()) {\n            var selectionStart = this.selection.anchor.getPosition();\n            return this.moveCursorToPosition(selectionStart);\n        }\n        this.selection.clearSelection();\n        this.selection.moveCursorBy(-times || -1, 0);\n    };\n    this.navigateDown = function (times) {\n        if (this.selection.isMultiLine() && this.selection.isBackwards()) {\n            var selectionEnd = this.selection.anchor.getPosition();\n            return this.moveCursorToPosition(selectionEnd);\n        }\n        this.selection.clearSelection();\n        this.selection.moveCursorBy(times || 1, 0);\n    };\n    this.navigateLeft = function (times) {\n        if (!this.selection.isEmpty()) {\n            var selectionStart = this.getSelectionRange().start;\n            this.moveCursorToPosition(selectionStart);\n        }\n        else {\n            times = times || 1;\n            while (times--) {\n                this.selection.moveCursorLeft();\n            }\n        }\n        this.clearSelection();\n    };\n    this.navigateRight = function (times) {\n        if (!this.selection.isEmpty()) {\n            var selectionEnd = this.getSelectionRange().end;\n            this.moveCursorToPosition(selectionEnd);\n        }\n        else {\n            times = times || 1;\n            while (times--) {\n                this.selection.moveCursorRight();\n            }\n        }\n        this.clearSelection();\n    };\n    this.navigateLineStart = function () {\n        this.selection.moveCursorLineStart();\n        this.clearSelection();\n    };\n    this.navigateLineEnd = function () {\n        this.selection.moveCursorLineEnd();\n        this.clearSelection();\n    };\n    this.navigateFileEnd = function () {\n        this.selection.moveCursorFileEnd();\n        this.clearSelection();\n    };\n    this.navigateFileStart = function () {\n        this.selection.moveCursorFileStart();\n        this.clearSelection();\n    };\n    this.navigateWordRight = function () {\n        this.selection.moveCursorWordRight();\n        this.clearSelection();\n    };\n    this.navigateWordLeft = function () {\n        this.selection.moveCursorWordLeft();\n        this.clearSelection();\n    };\n    this.replace = function (replacement, options) {\n        if (options)\n            this.$search.set(options);\n        var range = this.$search.find(this.session);\n        var replaced = 0;\n        if (!range)\n            return replaced;\n        if (this.$tryReplace(range, replacement)) {\n            replaced = 1;\n        }\n        this.selection.setSelectionRange(range);\n        this.renderer.scrollSelectionIntoView(range.start, range.end);\n        return replaced;\n    };\n    this.replaceAll = function (replacement, options) {\n        if (options) {\n            this.$search.set(options);\n        }\n        var ranges = this.$search.findAll(this.session);\n        var replaced = 0;\n        if (!ranges.length)\n            return replaced;\n        var selection = this.getSelectionRange();\n        this.selection.moveTo(0, 0);\n        for (var i = ranges.length - 1; i >= 0; --i) {\n            if (this.$tryReplace(ranges[i], replacement)) {\n                replaced++;\n            }\n        }\n        this.selection.setSelectionRange(selection);\n        return replaced;\n    };\n    this.$tryReplace = function (range, replacement) {\n        var input = this.session.getTextRange(range);\n        replacement = this.$search.replace(input, replacement);\n        if (replacement !== null) {\n            range.end = this.session.replace(range, replacement);\n            return range;\n        }\n        else {\n            return null;\n        }\n    };\n    this.getLastSearchOptions = function () {\n        return this.$search.getOptions();\n    };\n    this.find = function (needle, options, animate) {\n        if (!options)\n            options = {};\n        if (typeof needle == \"string\" || needle instanceof RegExp)\n            options.needle = needle;\n        else if (typeof needle == \"object\")\n            oop.mixin(options, needle);\n        var range = this.selection.getRange();\n        if (options.needle == null) {\n            needle = this.session.getTextRange(range)\n                || this.$search.$options.needle;\n            if (!needle) {\n                range = this.session.getWordRange(range.start.row, range.start.column);\n                needle = this.session.getTextRange(range);\n            }\n            this.$search.set({ needle: needle });\n        }\n        this.$search.set(options);\n        if (!options.start)\n            this.$search.set({ start: range });\n        var newRange = this.$search.find(this.session);\n        if (options.preventScroll)\n            return newRange;\n        if (newRange) {\n            this.revealRange(newRange, animate);\n            return newRange;\n        }\n        if (options.backwards)\n            range.start = range.end;\n        else\n            range.end = range.start;\n        this.selection.setRange(range);\n    };\n    this.findNext = function (options, animate) {\n        this.find({ skipCurrent: true, backwards: false }, options, animate);\n    };\n    this.findPrevious = function (options, animate) {\n        this.find(options, { skipCurrent: true, backwards: true }, animate);\n    };\n    this.revealRange = function (range, animate) {\n        this.session.unfold(range);\n        this.selection.setSelectionRange(range);\n        var scrollTop = this.renderer.scrollTop;\n        this.renderer.scrollSelectionIntoView(range.start, range.end, 0.5);\n        if (animate !== false)\n            this.renderer.animateScrolling(scrollTop);\n    };\n    this.undo = function () {\n        this.session.getUndoManager().undo(this.session);\n        this.renderer.scrollCursorIntoView(null, 0.5);\n    };\n    this.redo = function () {\n        this.session.getUndoManager().redo(this.session);\n        this.renderer.scrollCursorIntoView(null, 0.5);\n    };\n    this.destroy = function () {\n        if (this.$toDestroy) {\n            this.$toDestroy.forEach(function (el) {\n                el.destroy();\n            });\n            this.$toDestroy = null;\n        }\n        if (this.$mouseHandler)\n            this.$mouseHandler.destroy();\n        this.renderer.destroy();\n        this._signal(\"destroy\", this);\n        if (this.session)\n            this.session.destroy();\n        if (this._$emitInputEvent)\n            this._$emitInputEvent.cancel();\n        this.removeAllListeners();\n    };\n    this.setAutoScrollEditorIntoView = function (enable) {\n        if (!enable)\n            return;\n        var rect;\n        var self = this;\n        var shouldScroll = false;\n        if (!this.$scrollAnchor)\n            this.$scrollAnchor = document.createElement(\"div\");\n        var scrollAnchor = this.$scrollAnchor;\n        scrollAnchor.style.cssText = \"position:absolute\";\n        this.container.insertBefore(scrollAnchor, this.container.firstChild);\n        var onChangeSelection = this.on(\"changeSelection\", function () {\n            shouldScroll = true;\n        });\n        var onBeforeRender = this.renderer.on(\"beforeRender\", function () {\n            if (shouldScroll)\n                rect = self.renderer.container.getBoundingClientRect();\n        });\n        var onAfterRender = this.renderer.on(\"afterRender\", function () {\n            if (shouldScroll && rect && (self.isFocused()\n                || self.searchBox && self.searchBox.isFocused())) {\n                var renderer = self.renderer;\n                var pos = renderer.$cursorLayer.$pixelPos;\n                var config = renderer.layerConfig;\n                var top = pos.top - config.offset;\n                if (pos.top >= 0 && top + rect.top < 0) {\n                    shouldScroll = true;\n                }\n                else if (pos.top < config.height &&\n                    pos.top + rect.top + config.lineHeight > window.innerHeight) {\n                    shouldScroll = false;\n                }\n                else {\n                    shouldScroll = null;\n                }\n                if (shouldScroll != null) {\n                    scrollAnchor.style.top = top + \"px\";\n                    scrollAnchor.style.left = pos.left + \"px\";\n                    scrollAnchor.style.height = config.lineHeight + \"px\";\n                    scrollAnchor.scrollIntoView(shouldScroll);\n                }\n                shouldScroll = rect = null;\n            }\n        });\n        this.setAutoScrollEditorIntoView = function (enable) {\n            if (enable)\n                return;\n            delete this.setAutoScrollEditorIntoView;\n            this.off(\"changeSelection\", onChangeSelection);\n            this.renderer.off(\"afterRender\", onAfterRender);\n            this.renderer.off(\"beforeRender\", onBeforeRender);\n        };\n    };\n    this.$resetCursorStyle = function () {\n        var style = this.$cursorStyle || \"ace\";\n        var cursorLayer = this.renderer.$cursorLayer;\n        if (!cursorLayer)\n            return;\n        cursorLayer.setSmoothBlinking(/smooth/.test(style));\n        cursorLayer.isBlinking = !this.$readOnly && style != \"wide\";\n        dom.setCssClass(cursorLayer.element, \"ace_slim-cursors\", /slim/.test(style));\n    };\n    this.prompt = function (message, options, callback) {\n        var editor = this;\n        config.loadModule(\"ace/ext/prompt\", function (module) {\n            module.prompt(editor, message, options, callback);\n        });\n    };\n}).call(Editor.prototype);\nconfig.defineOptions(Editor.prototype, \"editor\", {\n    selectionStyle: {\n        set: function (style) {\n            this.onSelectionChange();\n            this._signal(\"changeSelectionStyle\", { data: style });\n        },\n        initialValue: \"line\"\n    },\n    highlightActiveLine: {\n        set: function () { this.$updateHighlightActiveLine(); },\n        initialValue: true\n    },\n    highlightSelectedWord: {\n        set: function (shouldHighlight) { this.$onSelectionChange(); },\n        initialValue: true\n    },\n    readOnly: {\n        set: function (readOnly) {\n            this.textInput.setReadOnly(readOnly);\n            this.$resetCursorStyle();\n        },\n        initialValue: false\n    },\n    copyWithEmptySelection: {\n        set: function (value) {\n            this.textInput.setCopyWithEmptySelection(value);\n        },\n        initialValue: false\n    },\n    cursorStyle: {\n        set: function (val) { this.$resetCursorStyle(); },\n        values: [\"ace\", \"slim\", \"smooth\", \"wide\"],\n        initialValue: \"ace\"\n    },\n    mergeUndoDeltas: {\n        values: [false, true, \"always\"],\n        initialValue: true\n    },\n    behavioursEnabled: { initialValue: true },\n    wrapBehavioursEnabled: { initialValue: true },\n    enableAutoIndent: { initialValue: true },\n    autoScrollEditorIntoView: {\n        set: function (val) { this.setAutoScrollEditorIntoView(val); }\n    },\n    keyboardHandler: {\n        set: function (val) { this.setKeyboardHandler(val); },\n        get: function () { return this.$keybindingId; },\n        handlesSet: true\n    },\n    value: {\n        set: function (val) { this.session.setValue(val); },\n        get: function () { return this.getValue(); },\n        handlesSet: true,\n        hidden: true\n    },\n    session: {\n        set: function (val) { this.setSession(val); },\n        get: function () { return this.session; },\n        handlesSet: true,\n        hidden: true\n    },\n    showLineNumbers: {\n        set: function (show) {\n            this.renderer.$gutterLayer.setShowLineNumbers(show);\n            this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER);\n            if (show && this.$relativeLineNumbers)\n                relativeNumberRenderer.attach(this);\n            else\n                relativeNumberRenderer.detach(this);\n        },\n        initialValue: true\n    },\n    relativeLineNumbers: {\n        set: function (value) {\n            if (this.$showLineNumbers && value)\n                relativeNumberRenderer.attach(this);\n            else\n                relativeNumberRenderer.detach(this);\n        }\n    },\n    placeholder: {\n        set: function (message) {\n            if (!this.$updatePlaceholder) {\n                this.$updatePlaceholder = function () {\n                    var value = this.session && (this.renderer.$composition || this.getValue());\n                    if (value && this.renderer.placeholderNode) {\n                        this.renderer.off(\"afterRender\", this.$updatePlaceholder);\n                        dom.removeCssClass(this.container, \"ace_hasPlaceholder\");\n                        this.renderer.placeholderNode.remove();\n                        this.renderer.placeholderNode = null;\n                    }\n                    else if (!value && !this.renderer.placeholderNode) {\n                        this.renderer.on(\"afterRender\", this.$updatePlaceholder);\n                        dom.addCssClass(this.container, \"ace_hasPlaceholder\");\n                        var el = dom.createElement(\"div\");\n                        el.className = \"ace_placeholder\";\n                        el.textContent = this.$placeholder || \"\";\n                        this.renderer.placeholderNode = el;\n                        this.renderer.content.appendChild(this.renderer.placeholderNode);\n                    }\n                    else if (!value && this.renderer.placeholderNode) {\n                        this.renderer.placeholderNode.textContent = this.$placeholder || \"\";\n                    }\n                }.bind(this);\n                this.on(\"input\", this.$updatePlaceholder);\n            }\n            this.$updatePlaceholder();\n        }\n    },\n    customScrollbar: \"renderer\",\n    hScrollBarAlwaysVisible: \"renderer\",\n    vScrollBarAlwaysVisible: \"renderer\",\n    highlightGutterLine: \"renderer\",\n    animatedScroll: \"renderer\",\n    showInvisibles: \"renderer\",\n    showPrintMargin: \"renderer\",\n    printMarginColumn: \"renderer\",\n    printMargin: \"renderer\",\n    fadeFoldWidgets: \"renderer\",\n    showFoldWidgets: \"renderer\",\n    displayIndentGuides: \"renderer\",\n    highlightIndentGuides: \"renderer\",\n    showGutter: \"renderer\",\n    fontSize: \"renderer\",\n    fontFamily: \"renderer\",\n    maxLines: \"renderer\",\n    minLines: \"renderer\",\n    scrollPastEnd: \"renderer\",\n    fixedWidthGutter: \"renderer\",\n    theme: \"renderer\",\n    hasCssTransforms: \"renderer\",\n    maxPixelHeight: \"renderer\",\n    useTextareaForIME: \"renderer\",\n    scrollSpeed: \"$mouseHandler\",\n    dragDelay: \"$mouseHandler\",\n    dragEnabled: \"$mouseHandler\",\n    focusTimeout: \"$mouseHandler\",\n    tooltipFollowsMouse: \"$mouseHandler\",\n    firstLineNumber: \"session\",\n    overwrite: \"session\",\n    newLineMode: \"session\",\n    useWorker: \"session\",\n    useSoftTabs: \"session\",\n    navigateWithinSoftTabs: \"session\",\n    tabSize: \"session\",\n    wrap: \"session\",\n    indentedSoftWrap: \"session\",\n    foldStyle: \"session\",\n    mode: \"session\"\n});\nvar relativeNumberRenderer = {\n    getText: function (session, row) {\n        return (Math.abs(session.selection.lead.row - row) || (row + 1 + (row < 9 ? \"\\xb7\" : \"\"))) + \"\";\n    },\n    getWidth: function (session, lastLineNumber, config) {\n        return Math.max(lastLineNumber.toString().length, (config.lastRow + 1).toString().length, 2) * config.characterWidth;\n    },\n    update: function (e, editor) {\n        editor.renderer.$loop.schedule(editor.renderer.CHANGE_GUTTER);\n    },\n    attach: function (editor) {\n        editor.renderer.$gutterLayer.$renderer = this;\n        editor.on(\"changeSelection\", this.update);\n        this.update(null, editor);\n    },\n    detach: function (editor) {\n        if (editor.renderer.$gutterLayer.$renderer == this)\n            editor.renderer.$gutterLayer.$renderer = null;\n        editor.off(\"changeSelection\", this.update);\n        this.update(null, editor);\n    }\n};\nexports.Editor = Editor;\n\n});\n\nace.define(\"ace/undomanager\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar UndoManager = function () {\n    this.$maxRev = 0;\n    this.$fromUndo = false;\n    this.$undoDepth = Infinity;\n    this.reset();\n};\n(function () {\n    this.addSession = function (session) {\n        this.$session = session;\n    };\n    this.add = function (delta, allowMerge, session) {\n        if (this.$fromUndo)\n            return;\n        if (delta == this.$lastDelta)\n            return;\n        if (!this.$keepRedoStack)\n            this.$redoStack.length = 0;\n        if (allowMerge === false || !this.lastDeltas) {\n            this.lastDeltas = [];\n            var undoStackLength = this.$undoStack.length;\n            if (undoStackLength > this.$undoDepth - 1) {\n                this.$undoStack.splice(0, undoStackLength - this.$undoDepth + 1);\n            }\n            this.$undoStack.push(this.lastDeltas);\n            delta.id = this.$rev = ++this.$maxRev;\n        }\n        if (delta.action == \"remove\" || delta.action == \"insert\")\n            this.$lastDelta = delta;\n        this.lastDeltas.push(delta);\n    };\n    this.addSelection = function (selection, rev) {\n        this.selections.push({\n            value: selection,\n            rev: rev || this.$rev\n        });\n    };\n    this.startNewGroup = function () {\n        this.lastDeltas = null;\n        return this.$rev;\n    };\n    this.markIgnored = function (from, to) {\n        if (to == null)\n            to = this.$rev + 1;\n        var stack = this.$undoStack;\n        for (var i = stack.length; i--;) {\n            var delta = stack[i][0];\n            if (delta.id <= from)\n                break;\n            if (delta.id < to)\n                delta.ignore = true;\n        }\n        this.lastDeltas = null;\n    };\n    this.getSelection = function (rev, after) {\n        var stack = this.selections;\n        for (var i = stack.length; i--;) {\n            var selection = stack[i];\n            if (selection.rev < rev) {\n                if (after)\n                    selection = stack[i + 1];\n                return selection;\n            }\n        }\n    };\n    this.getRevision = function () {\n        return this.$rev;\n    };\n    this.getDeltas = function (from, to) {\n        if (to == null)\n            to = this.$rev + 1;\n        var stack = this.$undoStack;\n        var end = null, start = 0;\n        for (var i = stack.length; i--;) {\n            var delta = stack[i][0];\n            if (delta.id < to && !end)\n                end = i + 1;\n            if (delta.id <= from) {\n                start = i + 1;\n                break;\n            }\n        }\n        return stack.slice(start, end);\n    };\n    this.getChangedRanges = function (from, to) {\n        if (to == null)\n            to = this.$rev + 1;\n    };\n    this.getChangedLines = function (from, to) {\n        if (to == null)\n            to = this.$rev + 1;\n    };\n    this.undo = function (session, dontSelect) {\n        this.lastDeltas = null;\n        var stack = this.$undoStack;\n        if (!rearrangeUndoStack(stack, stack.length))\n            return;\n        if (!session)\n            session = this.$session;\n        if (this.$redoStackBaseRev !== this.$rev && this.$redoStack.length)\n            this.$redoStack = [];\n        this.$fromUndo = true;\n        var deltaSet = stack.pop();\n        var undoSelectionRange = null;\n        if (deltaSet) {\n            undoSelectionRange = session.undoChanges(deltaSet, dontSelect);\n            this.$redoStack.push(deltaSet);\n            this.$syncRev();\n        }\n        this.$fromUndo = false;\n        return undoSelectionRange;\n    };\n    this.redo = function (session, dontSelect) {\n        this.lastDeltas = null;\n        if (!session)\n            session = this.$session;\n        this.$fromUndo = true;\n        if (this.$redoStackBaseRev != this.$rev) {\n            var diff = this.getDeltas(this.$redoStackBaseRev, this.$rev + 1);\n            rebaseRedoStack(this.$redoStack, diff);\n            this.$redoStackBaseRev = this.$rev;\n            this.$redoStack.forEach(function (x) {\n                x[0].id = ++this.$maxRev;\n            }, this);\n        }\n        var deltaSet = this.$redoStack.pop();\n        var redoSelectionRange = null;\n        if (deltaSet) {\n            redoSelectionRange = session.redoChanges(deltaSet, dontSelect);\n            this.$undoStack.push(deltaSet);\n            this.$syncRev();\n        }\n        this.$fromUndo = false;\n        return redoSelectionRange;\n    };\n    this.$syncRev = function () {\n        var stack = this.$undoStack;\n        var nextDelta = stack[stack.length - 1];\n        var id = nextDelta && nextDelta[0].id || 0;\n        this.$redoStackBaseRev = id;\n        this.$rev = id;\n    };\n    this.reset = function () {\n        this.lastDeltas = null;\n        this.$lastDelta = null;\n        this.$undoStack = [];\n        this.$redoStack = [];\n        this.$rev = 0;\n        this.mark = 0;\n        this.$redoStackBaseRev = this.$rev;\n        this.selections = [];\n    };\n    this.canUndo = function () {\n        return this.$undoStack.length > 0;\n    };\n    this.canRedo = function () {\n        return this.$redoStack.length > 0;\n    };\n    this.bookmark = function (rev) {\n        if (rev == undefined)\n            rev = this.$rev;\n        this.mark = rev;\n    };\n    this.isAtBookmark = function () {\n        return this.$rev === this.mark;\n    };\n    this.toJSON = function () {\n    };\n    this.fromJSON = function () {\n    };\n    this.hasUndo = this.canUndo;\n    this.hasRedo = this.canRedo;\n    this.isClean = this.isAtBookmark;\n    this.markClean = this.bookmark;\n    this.$prettyPrint = function (delta) {\n        if (delta)\n            return stringifyDelta(delta);\n        return stringifyDelta(this.$undoStack) + \"\\n---\\n\" + stringifyDelta(this.$redoStack);\n    };\n}).call(UndoManager.prototype);\nfunction rearrangeUndoStack(stack, pos) {\n    for (var i = pos; i--;) {\n        var deltaSet = stack[i];\n        if (deltaSet && !deltaSet[0].ignore) {\n            while (i < pos - 1) {\n                var swapped = swapGroups(stack[i], stack[i + 1]);\n                stack[i] = swapped[0];\n                stack[i + 1] = swapped[1];\n                i++;\n            }\n            return true;\n        }\n    }\n}\nvar Range = require(\"./range\").Range;\nvar cmp = Range.comparePoints;\nvar comparePoints = Range.comparePoints;\nfunction $updateMarkers(delta) {\n    var isInsert = delta.action == \"insert\";\n    var start = delta.start;\n    var end = delta.end;\n    var rowShift = (end.row - start.row) * (isInsert ? 1 : -1);\n    var colShift = (end.column - start.column) * (isInsert ? 1 : -1);\n    if (isInsert)\n        end = start;\n    for (var i in this.marks) {\n        var point = this.marks[i];\n        var cmp = comparePoints(point, start);\n        if (cmp < 0) {\n            continue; // delta starts after the range\n        }\n        if (cmp === 0) {\n            if (isInsert) {\n                if (point.bias == 1) {\n                    cmp = 1;\n                }\n                else {\n                    point.bias == -1;\n                    continue;\n                }\n            }\n        }\n        var cmp2 = isInsert ? cmp : comparePoints(point, end);\n        if (cmp2 > 0) {\n            point.row += rowShift;\n            point.column += point.row == end.row ? colShift : 0;\n            continue;\n        }\n        if (!isInsert && cmp2 <= 0) {\n            point.row = start.row;\n            point.column = start.column;\n            if (cmp2 === 0)\n                point.bias = 1;\n        }\n    }\n}\nfunction clonePos(pos) {\n    return { row: pos.row, column: pos.column };\n}\nfunction cloneDelta(d) {\n    return {\n        start: clonePos(d.start),\n        end: clonePos(d.end),\n        action: d.action,\n        lines: d.lines.slice()\n    };\n}\nfunction stringifyDelta(d) {\n    d = d || this;\n    if (Array.isArray(d)) {\n        return d.map(stringifyDelta).join(\"\\n\");\n    }\n    var type = \"\";\n    if (d.action) {\n        type = d.action == \"insert\" ? \"+\" : \"-\";\n        type += \"[\" + d.lines + \"]\";\n    }\n    else if (d.value) {\n        if (Array.isArray(d.value)) {\n            type = d.value.map(stringifyRange).join(\"\\n\");\n        }\n        else {\n            type = stringifyRange(d.value);\n        }\n    }\n    if (d.start) {\n        type += stringifyRange(d);\n    }\n    if (d.id || d.rev) {\n        type += \"\\t(\" + (d.id || d.rev) + \")\";\n    }\n    return type;\n}\nfunction stringifyRange(r) {\n    return r.start.row + \":\" + r.start.column\n        + \"=>\" + r.end.row + \":\" + r.end.column;\n}\nfunction swap(d1, d2) {\n    var i1 = d1.action == \"insert\";\n    var i2 = d2.action == \"insert\";\n    if (i1 && i2) {\n        if (cmp(d2.start, d1.end) >= 0) {\n            shift(d2, d1, -1);\n        }\n        else if (cmp(d2.start, d1.start) <= 0) {\n            shift(d1, d2, +1);\n        }\n        else {\n            return null;\n        }\n    }\n    else if (i1 && !i2) {\n        if (cmp(d2.start, d1.end) >= 0) {\n            shift(d2, d1, -1);\n        }\n        else if (cmp(d2.end, d1.start) <= 0) {\n            shift(d1, d2, -1);\n        }\n        else {\n            return null;\n        }\n    }\n    else if (!i1 && i2) {\n        if (cmp(d2.start, d1.start) >= 0) {\n            shift(d2, d1, +1);\n        }\n        else if (cmp(d2.start, d1.start) <= 0) {\n            shift(d1, d2, +1);\n        }\n        else {\n            return null;\n        }\n    }\n    else if (!i1 && !i2) {\n        if (cmp(d2.start, d1.start) >= 0) {\n            shift(d2, d1, +1);\n        }\n        else if (cmp(d2.end, d1.start) <= 0) {\n            shift(d1, d2, -1);\n        }\n        else {\n            return null;\n        }\n    }\n    return [d2, d1];\n}\nfunction swapGroups(ds1, ds2) {\n    for (var i = ds1.length; i--;) {\n        for (var j = 0; j < ds2.length; j++) {\n            if (!swap(ds1[i], ds2[j])) {\n                while (i < ds1.length) {\n                    while (j--) {\n                        swap(ds2[j], ds1[i]);\n                    }\n                    j = ds2.length;\n                    i++;\n                }\n                return [ds1, ds2];\n            }\n        }\n    }\n    ds1.selectionBefore = ds2.selectionBefore =\n        ds1.selectionAfter = ds2.selectionAfter = null;\n    return [ds2, ds1];\n}\nfunction xform(d1, c1) {\n    var i1 = d1.action == \"insert\";\n    var i2 = c1.action == \"insert\";\n    if (i1 && i2) {\n        if (cmp(d1.start, c1.start) < 0) {\n            shift(c1, d1, 1);\n        }\n        else {\n            shift(d1, c1, 1);\n        }\n    }\n    else if (i1 && !i2) {\n        if (cmp(d1.start, c1.end) >= 0) {\n            shift(d1, c1, -1);\n        }\n        else if (cmp(d1.start, c1.start) <= 0) {\n            shift(c1, d1, +1);\n        }\n        else {\n            shift(d1, Range.fromPoints(c1.start, d1.start), -1);\n            shift(c1, d1, +1);\n        }\n    }\n    else if (!i1 && i2) {\n        if (cmp(c1.start, d1.end) >= 0) {\n            shift(c1, d1, -1);\n        }\n        else if (cmp(c1.start, d1.start) <= 0) {\n            shift(d1, c1, +1);\n        }\n        else {\n            shift(c1, Range.fromPoints(d1.start, c1.start), -1);\n            shift(d1, c1, +1);\n        }\n    }\n    else if (!i1 && !i2) {\n        if (cmp(c1.start, d1.end) >= 0) {\n            shift(c1, d1, -1);\n        }\n        else if (cmp(c1.end, d1.start) <= 0) {\n            shift(d1, c1, -1);\n        }\n        else {\n            var before, after;\n            if (cmp(d1.start, c1.start) < 0) {\n                before = d1;\n                d1 = splitDelta(d1, c1.start);\n            }\n            if (cmp(d1.end, c1.end) > 0) {\n                after = splitDelta(d1, c1.end);\n            }\n            shiftPos(c1.end, d1.start, d1.end, -1);\n            if (after && !before) {\n                d1.lines = after.lines;\n                d1.start = after.start;\n                d1.end = after.end;\n                after = d1;\n            }\n            return [c1, before, after].filter(Boolean);\n        }\n    }\n    return [c1, d1];\n}\nfunction shift(d1, d2, dir) {\n    shiftPos(d1.start, d2.start, d2.end, dir);\n    shiftPos(d1.end, d2.start, d2.end, dir);\n}\nfunction shiftPos(pos, start, end, dir) {\n    if (pos.row == (dir == 1 ? start : end).row) {\n        pos.column += dir * (end.column - start.column);\n    }\n    pos.row += dir * (end.row - start.row);\n}\nfunction splitDelta(c, pos) {\n    var lines = c.lines;\n    var end = c.end;\n    c.end = clonePos(pos);\n    var rowsBefore = c.end.row - c.start.row;\n    var otherLines = lines.splice(rowsBefore, lines.length);\n    var col = rowsBefore ? pos.column : pos.column - c.start.column;\n    lines.push(otherLines[0].substring(0, col));\n    otherLines[0] = otherLines[0].substr(col);\n    var rest = {\n        start: clonePos(pos),\n        end: end,\n        lines: otherLines,\n        action: c.action\n    };\n    return rest;\n}\nfunction moveDeltasByOne(redoStack, d) {\n    d = cloneDelta(d);\n    for (var j = redoStack.length; j--;) {\n        var deltaSet = redoStack[j];\n        for (var i = 0; i < deltaSet.length; i++) {\n            var x = deltaSet[i];\n            var xformed = xform(x, d);\n            d = xformed[0];\n            if (xformed.length != 2) {\n                if (xformed[2]) {\n                    deltaSet.splice(i + 1, 1, xformed[1], xformed[2]);\n                    i++;\n                }\n                else if (!xformed[1]) {\n                    deltaSet.splice(i, 1);\n                    i--;\n                }\n            }\n        }\n        if (!deltaSet.length) {\n            redoStack.splice(j, 1);\n        }\n    }\n    return redoStack;\n}\nfunction rebaseRedoStack(redoStack, deltaSets) {\n    for (var i = 0; i < deltaSets.length; i++) {\n        var deltas = deltaSets[i];\n        for (var j = 0; j < deltas.length; j++) {\n            moveDeltasByOne(redoStack, deltas[j]);\n        }\n    }\n}\nexports.UndoManager = UndoManager;\n\n});\n\nace.define(\"ace/layer/lines\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module){\"use strict\";\nvar dom = require(\"../lib/dom\");\nvar Lines = function (element, canvasHeight) {\n    this.element = element;\n    this.canvasHeight = canvasHeight || 500000;\n    this.element.style.height = (this.canvasHeight * 2) + \"px\";\n    this.cells = [];\n    this.cellCache = [];\n    this.$offsetCoefficient = 0;\n};\n(function () {\n    this.moveContainer = function (config) {\n        dom.translate(this.element, 0, -((config.firstRowScreen * config.lineHeight) % this.canvasHeight) - config.offset * this.$offsetCoefficient);\n    };\n    this.pageChanged = function (oldConfig, newConfig) {\n        return (Math.floor((oldConfig.firstRowScreen * oldConfig.lineHeight) / this.canvasHeight) !==\n            Math.floor((newConfig.firstRowScreen * newConfig.lineHeight) / this.canvasHeight));\n    };\n    this.computeLineTop = function (row, config, session) {\n        var screenTop = config.firstRowScreen * config.lineHeight;\n        var screenPage = Math.floor(screenTop / this.canvasHeight);\n        var lineTop = session.documentToScreenRow(row, 0) * config.lineHeight;\n        return lineTop - (screenPage * this.canvasHeight);\n    };\n    this.computeLineHeight = function (row, config, session) {\n        return config.lineHeight * session.getRowLineCount(row);\n    };\n    this.getLength = function () {\n        return this.cells.length;\n    };\n    this.get = function (index) {\n        return this.cells[index];\n    };\n    this.shift = function () {\n        this.$cacheCell(this.cells.shift());\n    };\n    this.pop = function () {\n        this.$cacheCell(this.cells.pop());\n    };\n    this.push = function (cell) {\n        if (Array.isArray(cell)) {\n            this.cells.push.apply(this.cells, cell);\n            var fragment = dom.createFragment(this.element);\n            for (var i = 0; i < cell.length; i++) {\n                fragment.appendChild(cell[i].element);\n            }\n            this.element.appendChild(fragment);\n        }\n        else {\n            this.cells.push(cell);\n            this.element.appendChild(cell.element);\n        }\n    };\n    this.unshift = function (cell) {\n        if (Array.isArray(cell)) {\n            this.cells.unshift.apply(this.cells, cell);\n            var fragment = dom.createFragment(this.element);\n            for (var i = 0; i < cell.length; i++) {\n                fragment.appendChild(cell[i].element);\n            }\n            if (this.element.firstChild)\n                this.element.insertBefore(fragment, this.element.firstChild);\n            else\n                this.element.appendChild(fragment);\n        }\n        else {\n            this.cells.unshift(cell);\n            this.element.insertAdjacentElement(\"afterbegin\", cell.element);\n        }\n    };\n    this.last = function () {\n        if (this.cells.length)\n            return this.cells[this.cells.length - 1];\n        else\n            return null;\n    };\n    this.$cacheCell = function (cell) {\n        if (!cell)\n            return;\n        cell.element.remove();\n        this.cellCache.push(cell);\n    };\n    this.createCell = function (row, config, session, initElement) {\n        var cell = this.cellCache.pop();\n        if (!cell) {\n            var element = dom.createElement(\"div\");\n            if (initElement)\n                initElement(element);\n            this.element.appendChild(element);\n            cell = {\n                element: element,\n                text: \"\",\n                row: row\n            };\n        }\n        cell.row = row;\n        return cell;\n    };\n}).call(Lines.prototype);\nexports.Lines = Lines;\n\n});\n\nace.define(\"ace/layer/gutter\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/lib/event_emitter\",\"ace/layer/lines\"], function(require, exports, module){\"use strict\";\nvar dom = require(\"../lib/dom\");\nvar oop = require(\"../lib/oop\");\nvar lang = require(\"../lib/lang\");\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\nvar Lines = require(\"./lines\").Lines;\nvar Gutter = function (parentEl) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_gutter-layer\";\n    parentEl.appendChild(this.element);\n    this.setShowFoldWidgets(this.$showFoldWidgets);\n    this.gutterWidth = 0;\n    this.$annotations = [];\n    this.$updateAnnotations = this.$updateAnnotations.bind(this);\n    this.$lines = new Lines(this.element);\n    this.$lines.$offsetCoefficient = 1;\n};\n(function () {\n    oop.implement(this, EventEmitter);\n    this.setSession = function (session) {\n        if (this.session)\n            this.session.off(\"change\", this.$updateAnnotations);\n        this.session = session;\n        if (session)\n            session.on(\"change\", this.$updateAnnotations);\n    };\n    this.addGutterDecoration = function (row, className) {\n        if (window.console)\n            console.warn && console.warn(\"deprecated use session.addGutterDecoration\");\n        this.session.addGutterDecoration(row, className);\n    };\n    this.removeGutterDecoration = function (row, className) {\n        if (window.console)\n            console.warn && console.warn(\"deprecated use session.removeGutterDecoration\");\n        this.session.removeGutterDecoration(row, className);\n    };\n    this.setAnnotations = function (annotations) {\n        this.$annotations = [];\n        for (var i = 0; i < annotations.length; i++) {\n            var annotation = annotations[i];\n            var row = annotation.row;\n            var rowInfo = this.$annotations[row];\n            if (!rowInfo)\n                rowInfo = this.$annotations[row] = { text: [] };\n            var annoText = annotation.text;\n            annoText = annoText ? lang.escapeHTML(annoText) : annotation.html || \"\";\n            if (rowInfo.text.indexOf(annoText) === -1)\n                rowInfo.text.push(annoText);\n            var type = annotation.type;\n            var className = annotation.className;\n            if (className)\n                rowInfo.className = className;\n            else if (type == \"error\")\n                rowInfo.className = \" ace_error\";\n            else if (type == \"warning\" && rowInfo.className != \" ace_error\")\n                rowInfo.className = \" ace_warning\";\n            else if (type == \"info\" && (!rowInfo.className))\n                rowInfo.className = \" ace_info\";\n        }\n    };\n    this.$updateAnnotations = function (delta) {\n        if (!this.$annotations.length)\n            return;\n        var firstRow = delta.start.row;\n        var len = delta.end.row - firstRow;\n        if (len === 0) {\n        }\n        else if (delta.action == 'remove') {\n            this.$annotations.splice(firstRow, len + 1, null);\n        }\n        else {\n            var args = new Array(len + 1);\n            args.unshift(firstRow, 1);\n            this.$annotations.splice.apply(this.$annotations, args);\n        }\n    };\n    this.update = function (config) {\n        this.config = config;\n        var session = this.session;\n        var firstRow = config.firstRow;\n        var lastRow = Math.min(config.lastRow + config.gutterOffset, // needed to compensate for hor scollbar\n        session.getLength() - 1);\n        this.oldLastRow = lastRow;\n        this.config = config;\n        this.$lines.moveContainer(config);\n        this.$updateCursorRow();\n        var fold = session.getNextFoldLine(firstRow);\n        var foldStart = fold ? fold.start.row : Infinity;\n        var cell = null;\n        var index = -1;\n        var row = firstRow;\n        while (true) {\n            if (row > foldStart) {\n                row = fold.end.row + 1;\n                fold = session.getNextFoldLine(row, fold);\n                foldStart = fold ? fold.start.row : Infinity;\n            }\n            if (row > lastRow) {\n                while (this.$lines.getLength() > index + 1)\n                    this.$lines.pop();\n                break;\n            }\n            cell = this.$lines.get(++index);\n            if (cell) {\n                cell.row = row;\n            }\n            else {\n                cell = this.$lines.createCell(row, config, this.session, onCreateCell);\n                this.$lines.push(cell);\n            }\n            this.$renderCell(cell, config, fold, row);\n            row++;\n        }\n        this._signal(\"afterRender\");\n        this.$updateGutterWidth(config);\n    };\n    this.$updateGutterWidth = function (config) {\n        var session = this.session;\n        var gutterRenderer = session.gutterRenderer || this.$renderer;\n        var firstLineNumber = session.$firstLineNumber;\n        var lastLineText = this.$lines.last() ? this.$lines.last().text : \"\";\n        if (this.$fixedWidth || session.$useWrapMode)\n            lastLineText = session.getLength() + firstLineNumber - 1;\n        var gutterWidth = gutterRenderer\n            ? gutterRenderer.getWidth(session, lastLineText, config)\n            : lastLineText.toString().length * config.characterWidth;\n        var padding = this.$padding || this.$computePadding();\n        gutterWidth += padding.left + padding.right;\n        if (gutterWidth !== this.gutterWidth && !isNaN(gutterWidth)) {\n            this.gutterWidth = gutterWidth;\n            this.element.parentNode.style.width =\n                this.element.style.width = Math.ceil(this.gutterWidth) + \"px\";\n            this._signal(\"changeGutterWidth\", gutterWidth);\n        }\n    };\n    this.$updateCursorRow = function () {\n        if (!this.$highlightGutterLine)\n            return;\n        var position = this.session.selection.getCursor();\n        if (this.$cursorRow === position.row)\n            return;\n        this.$cursorRow = position.row;\n    };\n    this.updateLineHighlight = function () {\n        if (!this.$highlightGutterLine)\n            return;\n        var row = this.session.selection.cursor.row;\n        this.$cursorRow = row;\n        if (this.$cursorCell && this.$cursorCell.row == row)\n            return;\n        if (this.$cursorCell)\n            this.$cursorCell.element.className = this.$cursorCell.element.className.replace(\"ace_gutter-active-line \", \"\");\n        var cells = this.$lines.cells;\n        this.$cursorCell = null;\n        for (var i = 0; i < cells.length; i++) {\n            var cell = cells[i];\n            if (cell.row >= this.$cursorRow) {\n                if (cell.row > this.$cursorRow) {\n                    var fold = this.session.getFoldLine(this.$cursorRow);\n                    if (i > 0 && fold && fold.start.row == cells[i - 1].row)\n                        cell = cells[i - 1];\n                    else\n                        break;\n                }\n                cell.element.className = \"ace_gutter-active-line \" + cell.element.className;\n                this.$cursorCell = cell;\n                break;\n            }\n        }\n    };\n    this.scrollLines = function (config) {\n        var oldConfig = this.config;\n        this.config = config;\n        this.$updateCursorRow();\n        if (this.$lines.pageChanged(oldConfig, config))\n            return this.update(config);\n        this.$lines.moveContainer(config);\n        var lastRow = Math.min(config.lastRow + config.gutterOffset, // needed to compensate for hor scollbar\n        this.session.getLength() - 1);\n        var oldLastRow = this.oldLastRow;\n        this.oldLastRow = lastRow;\n        if (!oldConfig || oldLastRow < config.firstRow)\n            return this.update(config);\n        if (lastRow < oldConfig.firstRow)\n            return this.update(config);\n        if (oldConfig.firstRow < config.firstRow)\n            for (var row = this.session.getFoldedRowCount(oldConfig.firstRow, config.firstRow - 1); row > 0; row--)\n                this.$lines.shift();\n        if (oldLastRow > lastRow)\n            for (var row = this.session.getFoldedRowCount(lastRow + 1, oldLastRow); row > 0; row--)\n                this.$lines.pop();\n        if (config.firstRow < oldConfig.firstRow) {\n            this.$lines.unshift(this.$renderLines(config, config.firstRow, oldConfig.firstRow - 1));\n        }\n        if (lastRow > oldLastRow) {\n            this.$lines.push(this.$renderLines(config, oldLastRow + 1, lastRow));\n        }\n        this.updateLineHighlight();\n        this._signal(\"afterRender\");\n        this.$updateGutterWidth(config);\n    };\n    this.$renderLines = function (config, firstRow, lastRow) {\n        var fragment = [];\n        var row = firstRow;\n        var foldLine = this.session.getNextFoldLine(row);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n        while (true) {\n            if (row > foldStart) {\n                row = foldLine.end.row + 1;\n                foldLine = this.session.getNextFoldLine(row, foldLine);\n                foldStart = foldLine ? foldLine.start.row : Infinity;\n            }\n            if (row > lastRow)\n                break;\n            var cell = this.$lines.createCell(row, config, this.session, onCreateCell);\n            this.$renderCell(cell, config, foldLine, row);\n            fragment.push(cell);\n            row++;\n        }\n        return fragment;\n    };\n    this.$renderCell = function (cell, config, fold, row) {\n        var element = cell.element;\n        var session = this.session;\n        var textNode = element.childNodes[0];\n        var foldWidget = element.childNodes[1];\n        var firstLineNumber = session.$firstLineNumber;\n        var breakpoints = session.$breakpoints;\n        var decorations = session.$decorations;\n        var gutterRenderer = session.gutterRenderer || this.$renderer;\n        var foldWidgets = this.$showFoldWidgets && session.foldWidgets;\n        var foldStart = fold ? fold.start.row : Number.MAX_VALUE;\n        var className = \"ace_gutter-cell \";\n        if (this.$highlightGutterLine) {\n            if (row == this.$cursorRow || (fold && row < this.$cursorRow && row >= foldStart && this.$cursorRow <= fold.end.row)) {\n                className += \"ace_gutter-active-line \";\n                if (this.$cursorCell != cell) {\n                    if (this.$cursorCell)\n                        this.$cursorCell.element.className = this.$cursorCell.element.className.replace(\"ace_gutter-active-line \", \"\");\n                    this.$cursorCell = cell;\n                }\n            }\n        }\n        if (breakpoints[row])\n            className += breakpoints[row];\n        if (decorations[row])\n            className += decorations[row];\n        if (this.$annotations[row])\n            className += this.$annotations[row].className;\n        if (element.className != className)\n            element.className = className;\n        if (foldWidgets) {\n            var c = foldWidgets[row];\n            if (c == null)\n                c = foldWidgets[row] = session.getFoldWidget(row);\n        }\n        if (c) {\n            var className = \"ace_fold-widget ace_\" + c;\n            if (c == \"start\" && row == foldStart && row < fold.end.row)\n                className += \" ace_closed\";\n            else\n                className += \" ace_open\";\n            if (foldWidget.className != className)\n                foldWidget.className = className;\n            var foldHeight = config.lineHeight + \"px\";\n            dom.setStyle(foldWidget.style, \"height\", foldHeight);\n            dom.setStyle(foldWidget.style, \"display\", \"inline-block\");\n        }\n        else {\n            if (foldWidget) {\n                dom.setStyle(foldWidget.style, \"display\", \"none\");\n            }\n        }\n        var text = (gutterRenderer\n            ? gutterRenderer.getText(session, row)\n            : row + firstLineNumber).toString();\n        if (text !== textNode.data) {\n            textNode.data = text;\n        }\n        dom.setStyle(cell.element.style, \"height\", this.$lines.computeLineHeight(row, config, session) + \"px\");\n        dom.setStyle(cell.element.style, \"top\", this.$lines.computeLineTop(row, config, session) + \"px\");\n        cell.text = text;\n        return cell;\n    };\n    this.$fixedWidth = false;\n    this.$highlightGutterLine = true;\n    this.$renderer = \"\";\n    this.setHighlightGutterLine = function (highlightGutterLine) {\n        this.$highlightGutterLine = highlightGutterLine;\n    };\n    this.$showLineNumbers = true;\n    this.$renderer = \"\";\n    this.setShowLineNumbers = function (show) {\n        this.$renderer = !show && {\n            getWidth: function () { return 0; },\n            getText: function () { return \"\"; }\n        };\n    };\n    this.getShowLineNumbers = function () {\n        return this.$showLineNumbers;\n    };\n    this.$showFoldWidgets = true;\n    this.setShowFoldWidgets = function (show) {\n        if (show)\n            dom.addCssClass(this.element, \"ace_folding-enabled\");\n        else\n            dom.removeCssClass(this.element, \"ace_folding-enabled\");\n        this.$showFoldWidgets = show;\n        this.$padding = null;\n    };\n    this.getShowFoldWidgets = function () {\n        return this.$showFoldWidgets;\n    };\n    this.$computePadding = function () {\n        if (!this.element.firstChild)\n            return { left: 0, right: 0 };\n        var style = dom.computedStyle(this.element.firstChild);\n        this.$padding = {};\n        this.$padding.left = (parseInt(style.borderLeftWidth) || 0)\n            + (parseInt(style.paddingLeft) || 0) + 1;\n        this.$padding.right = (parseInt(style.borderRightWidth) || 0)\n            + (parseInt(style.paddingRight) || 0);\n        return this.$padding;\n    };\n    this.getRegion = function (point) {\n        var padding = this.$padding || this.$computePadding();\n        var rect = this.element.getBoundingClientRect();\n        if (point.x < padding.left + rect.left)\n            return \"markers\";\n        if (this.$showFoldWidgets && point.x > rect.right - padding.right)\n            return \"foldWidgets\";\n    };\n}).call(Gutter.prototype);\nfunction onCreateCell(element) {\n    var textNode = document.createTextNode('');\n    element.appendChild(textNode);\n    var foldWidget = dom.createElement(\"span\");\n    element.appendChild(foldWidget);\n    return element;\n}\nexports.Gutter = Gutter;\n\n});\n\nace.define(\"ace/layer/marker\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/lib/dom\"], function(require, exports, module){\"use strict\";\nvar Range = require(\"../range\").Range;\nvar dom = require(\"../lib/dom\");\nvar Marker = function (parentEl) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_marker-layer\";\n    parentEl.appendChild(this.element);\n};\n(function () {\n    this.$padding = 0;\n    this.setPadding = function (padding) {\n        this.$padding = padding;\n    };\n    this.setSession = function (session) {\n        this.session = session;\n    };\n    this.setMarkers = function (markers) {\n        this.markers = markers;\n    };\n    this.elt = function (className, css) {\n        var x = this.i != -1 && this.element.childNodes[this.i];\n        if (!x) {\n            x = document.createElement(\"div\");\n            this.element.appendChild(x);\n            this.i = -1;\n        }\n        else {\n            this.i++;\n        }\n        x.style.cssText = css;\n        x.className = className;\n    };\n    this.update = function (config) {\n        if (!config)\n            return;\n        this.config = config;\n        this.i = 0;\n        var html;\n        for (var key in this.markers) {\n            var marker = this.markers[key];\n            if (!marker.range) {\n                marker.update(html, this, this.session, config);\n                continue;\n            }\n            var range = marker.range.clipRows(config.firstRow, config.lastRow);\n            if (range.isEmpty())\n                continue;\n            range = range.toScreenRange(this.session);\n            if (marker.renderer) {\n                var top = this.$getTop(range.start.row, config);\n                var left = this.$padding + range.start.column * config.characterWidth;\n                marker.renderer(html, range, left, top, config);\n            }\n            else if (marker.type == \"fullLine\") {\n                this.drawFullLineMarker(html, range, marker.clazz, config);\n            }\n            else if (marker.type == \"screenLine\") {\n                this.drawScreenLineMarker(html, range, marker.clazz, config);\n            }\n            else if (range.isMultiLine()) {\n                if (marker.type == \"text\")\n                    this.drawTextMarker(html, range, marker.clazz, config);\n                else\n                    this.drawMultiLineMarker(html, range, marker.clazz, config);\n            }\n            else {\n                this.drawSingleLineMarker(html, range, marker.clazz + \" ace_start\" + \" ace_br15\", config);\n            }\n        }\n        if (this.i != -1) {\n            while (this.i < this.element.childElementCount)\n                this.element.removeChild(this.element.lastChild);\n        }\n    };\n    this.$getTop = function (row, layerConfig) {\n        return (row - layerConfig.firstRowScreen) * layerConfig.lineHeight;\n    };\n    function getBorderClass(tl, tr, br, bl) {\n        return (tl ? 1 : 0) | (tr ? 2 : 0) | (br ? 4 : 0) | (bl ? 8 : 0);\n    }\n    this.drawTextMarker = function (stringBuilder, range, clazz, layerConfig, extraStyle) {\n        var session = this.session;\n        var start = range.start.row;\n        var end = range.end.row;\n        var row = start;\n        var prev = 0;\n        var curr = 0;\n        var next = session.getScreenLastRowColumn(row);\n        var lineRange = new Range(row, range.start.column, row, curr);\n        for (; row <= end; row++) {\n            lineRange.start.row = lineRange.end.row = row;\n            lineRange.start.column = row == start ? range.start.column : session.getRowWrapIndent(row);\n            lineRange.end.column = next;\n            prev = curr;\n            curr = next;\n            next = row + 1 < end ? session.getScreenLastRowColumn(row + 1) : row == end ? 0 : range.end.column;\n            this.drawSingleLineMarker(stringBuilder, lineRange, clazz + (row == start ? \" ace_start\" : \"\") + \" ace_br\"\n                + getBorderClass(row == start || row == start + 1 && range.start.column, prev < curr, curr > next, row == end), layerConfig, row == end ? 0 : 1, extraStyle);\n        }\n    };\n    this.drawMultiLineMarker = function (stringBuilder, range, clazz, config, extraStyle) {\n        var padding = this.$padding;\n        var height = config.lineHeight;\n        var top = this.$getTop(range.start.row, config);\n        var left = padding + range.start.column * config.characterWidth;\n        extraStyle = extraStyle || \"\";\n        if (this.session.$bidiHandler.isBidiRow(range.start.row)) {\n            var range1 = range.clone();\n            range1.end.row = range1.start.row;\n            range1.end.column = this.session.getLine(range1.start.row).length;\n            this.drawBidiSingleLineMarker(stringBuilder, range1, clazz + \" ace_br1 ace_start\", config, null, extraStyle);\n        }\n        else {\n            this.elt(clazz + \" ace_br1 ace_start\", \"height:\" + height + \"px;\" + \"right:0;\" + \"top:\" + top + \"px;left:\" + left + \"px;\" + (extraStyle || \"\"));\n        }\n        if (this.session.$bidiHandler.isBidiRow(range.end.row)) {\n            var range1 = range.clone();\n            range1.start.row = range1.end.row;\n            range1.start.column = 0;\n            this.drawBidiSingleLineMarker(stringBuilder, range1, clazz + \" ace_br12\", config, null, extraStyle);\n        }\n        else {\n            top = this.$getTop(range.end.row, config);\n            var width = range.end.column * config.characterWidth;\n            this.elt(clazz + \" ace_br12\", \"height:\" + height + \"px;\" +\n                \"width:\" + width + \"px;\" +\n                \"top:\" + top + \"px;\" +\n                \"left:\" + padding + \"px;\" + (extraStyle || \"\"));\n        }\n        height = (range.end.row - range.start.row - 1) * config.lineHeight;\n        if (height <= 0)\n            return;\n        top = this.$getTop(range.start.row + 1, config);\n        var radiusClass = (range.start.column ? 1 : 0) | (range.end.column ? 0 : 8);\n        this.elt(clazz + (radiusClass ? \" ace_br\" + radiusClass : \"\"), \"height:\" + height + \"px;\" +\n            \"right:0;\" +\n            \"top:\" + top + \"px;\" +\n            \"left:\" + padding + \"px;\" + (extraStyle || \"\"));\n    };\n    this.drawSingleLineMarker = function (stringBuilder, range, clazz, config, extraLength, extraStyle) {\n        if (this.session.$bidiHandler.isBidiRow(range.start.row))\n            return this.drawBidiSingleLineMarker(stringBuilder, range, clazz, config, extraLength, extraStyle);\n        var height = config.lineHeight;\n        var width = (range.end.column + (extraLength || 0) - range.start.column) * config.characterWidth;\n        var top = this.$getTop(range.start.row, config);\n        var left = this.$padding + range.start.column * config.characterWidth;\n        this.elt(clazz, \"height:\" + height + \"px;\" +\n            \"width:\" + width + \"px;\" +\n            \"top:\" + top + \"px;\" +\n            \"left:\" + left + \"px;\" + (extraStyle || \"\"));\n    };\n    this.drawBidiSingleLineMarker = function (stringBuilder, range, clazz, config, extraLength, extraStyle) {\n        var height = config.lineHeight, top = this.$getTop(range.start.row, config), padding = this.$padding;\n        var selections = this.session.$bidiHandler.getSelections(range.start.column, range.end.column);\n        selections.forEach(function (selection) {\n            this.elt(clazz, \"height:\" + height + \"px;\" +\n                \"width:\" + (selection.width + (extraLength || 0)) + \"px;\" +\n                \"top:\" + top + \"px;\" +\n                \"left:\" + (padding + selection.left) + \"px;\" + (extraStyle || \"\"));\n        }, this);\n    };\n    this.drawFullLineMarker = function (stringBuilder, range, clazz, config, extraStyle) {\n        var top = this.$getTop(range.start.row, config);\n        var height = config.lineHeight;\n        if (range.start.row != range.end.row)\n            height += this.$getTop(range.end.row, config) - top;\n        this.elt(clazz, \"height:\" + height + \"px;\" +\n            \"top:\" + top + \"px;\" +\n            \"left:0;right:0;\" + (extraStyle || \"\"));\n    };\n    this.drawScreenLineMarker = function (stringBuilder, range, clazz, config, extraStyle) {\n        var top = this.$getTop(range.start.row, config);\n        var height = config.lineHeight;\n        this.elt(clazz, \"height:\" + height + \"px;\" +\n            \"top:\" + top + \"px;\" +\n            \"left:0;right:0;\" + (extraStyle || \"\"));\n    };\n}).call(Marker.prototype);\nexports.Marker = Marker;\n\n});\n\nace.define(\"ace/layer/text\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/layer/lines\",\"ace/lib/event_emitter\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"../lib/oop\");\nvar dom = require(\"../lib/dom\");\nvar lang = require(\"../lib/lang\");\nvar Lines = require(\"./lines\").Lines;\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\nvar Text = function (parentEl) {\n    this.dom = dom;\n    this.element = this.dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_text-layer\";\n    parentEl.appendChild(this.element);\n    this.$updateEolChar = this.$updateEolChar.bind(this);\n    this.$lines = new Lines(this.element);\n};\n(function () {\n    oop.implement(this, EventEmitter);\n    this.EOF_CHAR = \"\\xB6\";\n    this.EOL_CHAR_LF = \"\\xAC\";\n    this.EOL_CHAR_CRLF = \"\\xa4\";\n    this.EOL_CHAR = this.EOL_CHAR_LF;\n    this.TAB_CHAR = \"\\u2014\"; //\"\\u21E5\";\n    this.SPACE_CHAR = \"\\xB7\";\n    this.$padding = 0;\n    this.MAX_LINE_LENGTH = 10000;\n    this.$updateEolChar = function () {\n        var doc = this.session.doc;\n        var unixMode = doc.getNewLineCharacter() == \"\\n\" && doc.getNewLineMode() != \"windows\";\n        var EOL_CHAR = unixMode ? this.EOL_CHAR_LF : this.EOL_CHAR_CRLF;\n        if (this.EOL_CHAR != EOL_CHAR) {\n            this.EOL_CHAR = EOL_CHAR;\n            return true;\n        }\n    };\n    this.setPadding = function (padding) {\n        this.$padding = padding;\n        this.element.style.margin = \"0 \" + padding + \"px\";\n    };\n    this.getLineHeight = function () {\n        return this.$fontMetrics.$characterSize.height || 0;\n    };\n    this.getCharacterWidth = function () {\n        return this.$fontMetrics.$characterSize.width || 0;\n    };\n    this.$setFontMetrics = function (measure) {\n        this.$fontMetrics = measure;\n        this.$fontMetrics.on(\"changeCharacterSize\", function (e) {\n            this._signal(\"changeCharacterSize\", e);\n        }.bind(this));\n        this.$pollSizeChanges();\n    };\n    this.checkForSizeChanges = function () {\n        this.$fontMetrics.checkForSizeChanges();\n    };\n    this.$pollSizeChanges = function () {\n        return this.$pollSizeChangesTimer = this.$fontMetrics.$pollSizeChanges();\n    };\n    this.setSession = function (session) {\n        this.session = session;\n        if (session)\n            this.$computeTabString();\n    };\n    this.showInvisibles = false;\n    this.showSpaces = false;\n    this.showTabs = false;\n    this.showEOL = false;\n    this.setShowInvisibles = function (showInvisibles) {\n        if (this.showInvisibles == showInvisibles)\n            return false;\n        this.showInvisibles = showInvisibles;\n        if (typeof showInvisibles == \"string\") {\n            this.showSpaces = /tab/i.test(showInvisibles);\n            this.showTabs = /space/i.test(showInvisibles);\n            this.showEOL = /eol/i.test(showInvisibles);\n        }\n        else {\n            this.showSpaces = this.showTabs = this.showEOL = showInvisibles;\n        }\n        this.$computeTabString();\n        return true;\n    };\n    this.displayIndentGuides = true;\n    this.setDisplayIndentGuides = function (display) {\n        if (this.displayIndentGuides == display)\n            return false;\n        this.displayIndentGuides = display;\n        this.$computeTabString();\n        return true;\n    };\n    this.$highlightIndentGuides = true;\n    this.setHighlightIndentGuides = function (highlight) {\n        if (this.$highlightIndentGuides === highlight)\n            return false;\n        this.$highlightIndentGuides = highlight;\n        return highlight;\n    };\n    this.$tabStrings = [];\n    this.onChangeTabSize =\n        this.$computeTabString = function () {\n            var tabSize = this.session.getTabSize();\n            this.tabSize = tabSize;\n            var tabStr = this.$tabStrings = [0];\n            for (var i = 1; i < tabSize + 1; i++) {\n                if (this.showTabs) {\n                    var span = this.dom.createElement(\"span\");\n                    span.className = \"ace_invisible ace_invisible_tab\";\n                    span.textContent = lang.stringRepeat(this.TAB_CHAR, i);\n                    tabStr.push(span);\n                }\n                else {\n                    tabStr.push(this.dom.createTextNode(lang.stringRepeat(\" \", i), this.element));\n                }\n            }\n            if (this.displayIndentGuides) {\n                this.$indentGuideRe = /\\s\\S| \\t|\\t |\\s$/;\n                var className = \"ace_indent-guide\";\n                var spaceClass = this.showSpaces ? \" ace_invisible ace_invisible_space\" : \"\";\n                var spaceContent = this.showSpaces\n                    ? lang.stringRepeat(this.SPACE_CHAR, this.tabSize)\n                    : lang.stringRepeat(\" \", this.tabSize);\n                var tabClass = this.showTabs ? \" ace_invisible ace_invisible_tab\" : \"\";\n                var tabContent = this.showTabs\n                    ? lang.stringRepeat(this.TAB_CHAR, this.tabSize)\n                    : spaceContent;\n                var span = this.dom.createElement(\"span\");\n                span.className = className + spaceClass;\n                span.textContent = spaceContent;\n                this.$tabStrings[\" \"] = span;\n                var span = this.dom.createElement(\"span\");\n                span.className = className + tabClass;\n                span.textContent = tabContent;\n                this.$tabStrings[\"\\t\"] = span;\n            }\n        };\n    this.updateLines = function (config, firstRow, lastRow) {\n        if (this.config.lastRow != config.lastRow ||\n            this.config.firstRow != config.firstRow) {\n            return this.update(config);\n        }\n        this.config = config;\n        var first = Math.max(firstRow, config.firstRow);\n        var last = Math.min(lastRow, config.lastRow);\n        var lineElements = this.element.childNodes;\n        var lineElementsIdx = 0;\n        for (var row = config.firstRow; row < first; row++) {\n            var foldLine = this.session.getFoldLine(row);\n            if (foldLine) {\n                if (foldLine.containsRow(first)) {\n                    first = foldLine.start.row;\n                    break;\n                }\n                else {\n                    row = foldLine.end.row;\n                }\n            }\n            lineElementsIdx++;\n        }\n        var heightChanged = false;\n        var row = first;\n        var foldLine = this.session.getNextFoldLine(row);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n        while (true) {\n            if (row > foldStart) {\n                row = foldLine.end.row + 1;\n                foldLine = this.session.getNextFoldLine(row, foldLine);\n                foldStart = foldLine ? foldLine.start.row : Infinity;\n            }\n            if (row > last)\n                break;\n            var lineElement = lineElements[lineElementsIdx++];\n            if (lineElement) {\n                this.dom.removeChildren(lineElement);\n                this.$renderLine(lineElement, row, row == foldStart ? foldLine : false);\n                if (heightChanged)\n                    lineElement.style.top = this.$lines.computeLineTop(row, config, this.session) + \"px\";\n                var height = (config.lineHeight * this.session.getRowLength(row)) + \"px\";\n                if (lineElement.style.height != height) {\n                    heightChanged = true;\n                    lineElement.style.height = height;\n                }\n            }\n            row++;\n        }\n        if (heightChanged) {\n            while (lineElementsIdx < this.$lines.cells.length) {\n                var cell = this.$lines.cells[lineElementsIdx++];\n                cell.element.style.top = this.$lines.computeLineTop(cell.row, config, this.session) + \"px\";\n            }\n        }\n    };\n    this.scrollLines = function (config) {\n        var oldConfig = this.config;\n        this.config = config;\n        if (this.$lines.pageChanged(oldConfig, config))\n            return this.update(config);\n        this.$lines.moveContainer(config);\n        var lastRow = config.lastRow;\n        var oldLastRow = oldConfig ? oldConfig.lastRow : -1;\n        if (!oldConfig || oldLastRow < config.firstRow)\n            return this.update(config);\n        if (lastRow < oldConfig.firstRow)\n            return this.update(config);\n        if (!oldConfig || oldConfig.lastRow < config.firstRow)\n            return this.update(config);\n        if (config.lastRow < oldConfig.firstRow)\n            return this.update(config);\n        if (oldConfig.firstRow < config.firstRow)\n            for (var row = this.session.getFoldedRowCount(oldConfig.firstRow, config.firstRow - 1); row > 0; row--)\n                this.$lines.shift();\n        if (oldConfig.lastRow > config.lastRow)\n            for (var row = this.session.getFoldedRowCount(config.lastRow + 1, oldConfig.lastRow); row > 0; row--)\n                this.$lines.pop();\n        if (config.firstRow < oldConfig.firstRow) {\n            this.$lines.unshift(this.$renderLinesFragment(config, config.firstRow, oldConfig.firstRow - 1));\n        }\n        if (config.lastRow > oldConfig.lastRow) {\n            this.$lines.push(this.$renderLinesFragment(config, oldConfig.lastRow + 1, config.lastRow));\n        }\n        this.$highlightIndentGuide();\n    };\n    this.$renderLinesFragment = function (config, firstRow, lastRow) {\n        var fragment = [];\n        var row = firstRow;\n        var foldLine = this.session.getNextFoldLine(row);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n        while (true) {\n            if (row > foldStart) {\n                row = foldLine.end.row + 1;\n                foldLine = this.session.getNextFoldLine(row, foldLine);\n                foldStart = foldLine ? foldLine.start.row : Infinity;\n            }\n            if (row > lastRow)\n                break;\n            var line = this.$lines.createCell(row, config, this.session);\n            var lineEl = line.element;\n            this.dom.removeChildren(lineEl);\n            dom.setStyle(lineEl.style, \"height\", this.$lines.computeLineHeight(row, config, this.session) + \"px\");\n            dom.setStyle(lineEl.style, \"top\", this.$lines.computeLineTop(row, config, this.session) + \"px\");\n            this.$renderLine(lineEl, row, row == foldStart ? foldLine : false);\n            if (this.$useLineGroups()) {\n                lineEl.className = \"ace_line_group\";\n            }\n            else {\n                lineEl.className = \"ace_line\";\n            }\n            fragment.push(line);\n            row++;\n        }\n        return fragment;\n    };\n    this.update = function (config) {\n        this.$lines.moveContainer(config);\n        this.config = config;\n        var firstRow = config.firstRow;\n        var lastRow = config.lastRow;\n        var lines = this.$lines;\n        while (lines.getLength())\n            lines.pop();\n        lines.push(this.$renderLinesFragment(config, firstRow, lastRow));\n    };\n    this.$textToken = {\n        \"text\": true,\n        \"rparen\": true,\n        \"lparen\": true\n    };\n    this.$renderToken = function (parent, screenColumn, token, value) {\n        var self = this;\n        var re = /(\\t)|( +)|([\\x00-\\x1f\\x80-\\xa0\\xad\\u1680\\u180E\\u2000-\\u200f\\u2028\\u2029\\u202F\\u205F\\uFEFF\\uFFF9-\\uFFFC\\u2066\\u2067\\u2068\\u202A\\u202B\\u202D\\u202E\\u202C\\u2069]+)|(\\u3000)|([\\u1100-\\u115F\\u11A3-\\u11A7\\u11FA-\\u11FF\\u2329-\\u232A\\u2E80-\\u2E99\\u2E9B-\\u2EF3\\u2F00-\\u2FD5\\u2FF0-\\u2FFB\\u3001-\\u303E\\u3041-\\u3096\\u3099-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u3190-\\u31BA\\u31C0-\\u31E3\\u31F0-\\u321E\\u3220-\\u3247\\u3250-\\u32FE\\u3300-\\u4DBF\\u4E00-\\uA48C\\uA490-\\uA4C6\\uA960-\\uA97C\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFAFF\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE66\\uFE68-\\uFE6B\\uFF01-\\uFF60\\uFFE0-\\uFFE6]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF])/g;\n        var valueFragment = this.dom.createFragment(this.element);\n        var m;\n        var i = 0;\n        while (m = re.exec(value)) {\n            var tab = m[1];\n            var simpleSpace = m[2];\n            var controlCharacter = m[3];\n            var cjkSpace = m[4];\n            var cjk = m[5];\n            if (!self.showSpaces && simpleSpace)\n                continue;\n            var before = i != m.index ? value.slice(i, m.index) : \"\";\n            i = m.index + m[0].length;\n            if (before) {\n                valueFragment.appendChild(this.dom.createTextNode(before, this.element));\n            }\n            if (tab) {\n                var tabSize = self.session.getScreenTabSize(screenColumn + m.index);\n                valueFragment.appendChild(self.$tabStrings[tabSize].cloneNode(true));\n                screenColumn += tabSize - 1;\n            }\n            else if (simpleSpace) {\n                if (self.showSpaces) {\n                    var span = this.dom.createElement(\"span\");\n                    span.className = \"ace_invisible ace_invisible_space\";\n                    span.textContent = lang.stringRepeat(self.SPACE_CHAR, simpleSpace.length);\n                    valueFragment.appendChild(span);\n                }\n                else {\n                    valueFragment.appendChild(this.com.createTextNode(simpleSpace, this.element));\n                }\n            }\n            else if (controlCharacter) {\n                var span = this.dom.createElement(\"span\");\n                span.className = \"ace_invisible ace_invisible_space ace_invalid\";\n                span.textContent = lang.stringRepeat(self.SPACE_CHAR, controlCharacter.length);\n                valueFragment.appendChild(span);\n            }\n            else if (cjkSpace) {\n                screenColumn += 1;\n                var span = this.dom.createElement(\"span\");\n                span.style.width = (self.config.characterWidth * 2) + \"px\";\n                span.className = self.showSpaces ? \"ace_cjk ace_invisible ace_invisible_space\" : \"ace_cjk\";\n                span.textContent = self.showSpaces ? self.SPACE_CHAR : cjkSpace;\n                valueFragment.appendChild(span);\n            }\n            else if (cjk) {\n                screenColumn += 1;\n                var span = this.dom.createElement(\"span\");\n                span.style.width = (self.config.characterWidth * 2) + \"px\";\n                span.className = \"ace_cjk\";\n                span.textContent = cjk;\n                valueFragment.appendChild(span);\n            }\n        }\n        valueFragment.appendChild(this.dom.createTextNode(i ? value.slice(i) : value, this.element));\n        if (!this.$textToken[token.type]) {\n            var classes = \"ace_\" + token.type.replace(/\\./g, \" ace_\");\n            var span = this.dom.createElement(\"span\");\n            if (token.type == \"fold\")\n                span.style.width = (token.value.length * this.config.characterWidth) + \"px\";\n            span.className = classes;\n            span.appendChild(valueFragment);\n            parent.appendChild(span);\n        }\n        else {\n            parent.appendChild(valueFragment);\n        }\n        return screenColumn + value.length;\n    };\n    this.renderIndentGuide = function (parent, value, max) {\n        var cols = value.search(this.$indentGuideRe);\n        if (cols <= 0 || cols >= max)\n            return value;\n        if (value[0] == \" \") {\n            cols -= cols % this.tabSize;\n            var count = cols / this.tabSize;\n            for (var i = 0; i < count; i++) {\n                parent.appendChild(this.$tabStrings[\" \"].cloneNode(true));\n            }\n            this.$highlightIndentGuide();\n            return value.substr(cols);\n        }\n        else if (value[0] == \"\\t\") {\n            for (var i = 0; i < cols; i++) {\n                parent.appendChild(this.$tabStrings[\"\\t\"].cloneNode(true));\n            }\n            this.$highlightIndentGuide();\n            return value.substr(cols);\n        }\n        this.$highlightIndentGuide();\n        return value;\n    };\n    this.$highlightIndentGuide = function () {\n        if (!this.$highlightIndentGuides || !this.displayIndentGuides)\n            return;\n        this.$highlightIndentGuideMarker = {\n            indentLevel: undefined,\n            start: undefined,\n            end: undefined,\n            dir: undefined\n        };\n        var lines = this.session.doc.$lines;\n        if (!lines)\n            return;\n        var cursor = this.session.selection.getCursor();\n        var initialIndent = /^\\s*/.exec(this.session.doc.getLine(cursor.row))[0].length;\n        var elementIndentLevel = Math.floor(initialIndent / this.tabSize);\n        this.$highlightIndentGuideMarker = {\n            indentLevel: elementIndentLevel,\n            start: cursor.row\n        };\n        var bracketHighlight = this.session.$bracketHighlight;\n        if (bracketHighlight) {\n            var ranges = this.session.$bracketHighlight.ranges;\n            for (var i = 0; i < ranges.length; i++) {\n                if (cursor.row !== ranges[i].start.row) {\n                    this.$highlightIndentGuideMarker.end = ranges[i].start.row;\n                    if (cursor.row > ranges[i].start.row) {\n                        this.$highlightIndentGuideMarker.dir = -1;\n                    }\n                    else {\n                        this.$highlightIndentGuideMarker.dir = 1;\n                    }\n                    break;\n                }\n            }\n        }\n        if (!this.$highlightIndentGuideMarker.end) {\n            if (lines[cursor.row] !== '' && cursor.column === lines[cursor.row].length) {\n                this.$highlightIndentGuideMarker.dir = 1;\n                for (var i = cursor.row + 1; i < lines.length; i++) {\n                    var line = lines[i];\n                    var currentIndent = /^\\s*/.exec(line)[0].length;\n                    if (line !== '') {\n                        this.$highlightIndentGuideMarker.end = i;\n                        if (currentIndent <= initialIndent)\n                            break;\n                    }\n                }\n            }\n        }\n        this.$renderHighlightIndentGuide();\n    };\n    this.$clearActiveIndentGuide = function () {\n        var cells = this.$lines.cells;\n        for (var i = 0; i < cells.length; i++) {\n            var cell = cells[i];\n            var childNodes = cell.element.childNodes;\n            if (childNodes.length > 0) {\n                for (var j = 0; j < childNodes.length; j++) {\n                    if (childNodes[j].classList && childNodes[j].classList.contains(\"ace_indent-guide-active\")) {\n                        childNodes[j].classList.remove(\"ace_indent-guide-active\");\n                        break;\n                    }\n                }\n            }\n        }\n    };\n    this.$setIndentGuideActive = function (cell, indentLevel) {\n        var line = this.session.doc.getLine(cell.row);\n        if (line !== \"\") {\n            var childNodes = cell.element.childNodes;\n            if (childNodes) {\n                var node = childNodes[indentLevel - 1];\n                if (node && node.classList && node.classList.contains(\"ace_indent-guide\"))\n                    node.classList.add(\"ace_indent-guide-active\");\n            }\n        }\n    };\n    this.$renderHighlightIndentGuide = function () {\n        if (!this.$lines)\n            return;\n        var cells = this.$lines.cells;\n        this.$clearActiveIndentGuide();\n        var indentLevel = this.$highlightIndentGuideMarker.indentLevel;\n        if (indentLevel !== 0) {\n            if (this.$highlightIndentGuideMarker.dir === 1) {\n                for (var i = 0; i < cells.length; i++) {\n                    var cell = cells[i];\n                    if (this.$highlightIndentGuideMarker.end && cell.row >= this.$highlightIndentGuideMarker.start\n                        + 1) {\n                        if (cell.row >= this.$highlightIndentGuideMarker.end)\n                            break;\n                        this.$setIndentGuideActive(cell, indentLevel);\n                    }\n                }\n            }\n            else {\n                for (var i = cells.length - 1; i >= 0; i--) {\n                    var cell = cells[i];\n                    if (this.$highlightIndentGuideMarker.end && cell.row < this.$highlightIndentGuideMarker.start) {\n                        if (cell.row <= this.$highlightIndentGuideMarker.end)\n                            break;\n                        this.$setIndentGuideActive(cell, indentLevel);\n                    }\n                }\n            }\n        }\n    };\n    this.$createLineElement = function (parent) {\n        var lineEl = this.dom.createElement(\"div\");\n        lineEl.className = \"ace_line\";\n        lineEl.style.height = this.config.lineHeight + \"px\";\n        return lineEl;\n    };\n    this.$renderWrappedLine = function (parent, tokens, splits) {\n        var chars = 0;\n        var split = 0;\n        var splitChars = splits[0];\n        var screenColumn = 0;\n        var lineEl = this.$createLineElement();\n        parent.appendChild(lineEl);\n        for (var i = 0; i < tokens.length; i++) {\n            var token = tokens[i];\n            var value = token.value;\n            if (i == 0 && this.displayIndentGuides) {\n                chars = value.length;\n                value = this.renderIndentGuide(lineEl, value, splitChars);\n                if (!value)\n                    continue;\n                chars -= value.length;\n            }\n            if (chars + value.length < splitChars) {\n                screenColumn = this.$renderToken(lineEl, screenColumn, token, value);\n                chars += value.length;\n            }\n            else {\n                while (chars + value.length >= splitChars) {\n                    screenColumn = this.$renderToken(lineEl, screenColumn, token, value.substring(0, splitChars - chars));\n                    value = value.substring(splitChars - chars);\n                    chars = splitChars;\n                    lineEl = this.$createLineElement();\n                    parent.appendChild(lineEl);\n                    lineEl.appendChild(this.dom.createTextNode(lang.stringRepeat(\"\\xa0\", splits.indent), this.element));\n                    split++;\n                    screenColumn = 0;\n                    splitChars = splits[split] || Number.MAX_VALUE;\n                }\n                if (value.length != 0) {\n                    chars += value.length;\n                    screenColumn = this.$renderToken(lineEl, screenColumn, token, value);\n                }\n            }\n        }\n        if (splits[splits.length - 1] > this.MAX_LINE_LENGTH)\n            this.$renderOverflowMessage(lineEl, screenColumn, null, \"\", true);\n    };\n    this.$renderSimpleLine = function (parent, tokens) {\n        var screenColumn = 0;\n        for (var i = 0; i < tokens.length; i++) {\n            var token = tokens[i];\n            var value = token.value;\n            if (i == 0 && this.displayIndentGuides) {\n                value = this.renderIndentGuide(parent, value);\n                if (!value)\n                    continue;\n            }\n            if (screenColumn + value.length > this.MAX_LINE_LENGTH)\n                return this.$renderOverflowMessage(parent, screenColumn, token, value);\n            screenColumn = this.$renderToken(parent, screenColumn, token, value);\n        }\n    };\n    this.$renderOverflowMessage = function (parent, screenColumn, token, value, hide) {\n        token && this.$renderToken(parent, screenColumn, token, value.slice(0, this.MAX_LINE_LENGTH - screenColumn));\n        var overflowEl = this.dom.createElement(\"span\");\n        overflowEl.className = \"ace_inline_button ace_keyword ace_toggle_wrap\";\n        overflowEl.textContent = hide ? \"<hide>\" : \"<click to see more...>\";\n        parent.appendChild(overflowEl);\n    };\n    this.$renderLine = function (parent, row, foldLine) {\n        if (!foldLine && foldLine != false)\n            foldLine = this.session.getFoldLine(row);\n        if (foldLine)\n            var tokens = this.$getFoldLineTokens(row, foldLine);\n        else\n            var tokens = this.session.getTokens(row);\n        var lastLineEl = parent;\n        if (tokens.length) {\n            var splits = this.session.getRowSplitData(row);\n            if (splits && splits.length) {\n                this.$renderWrappedLine(parent, tokens, splits);\n                var lastLineEl = parent.lastChild;\n            }\n            else {\n                var lastLineEl = parent;\n                if (this.$useLineGroups()) {\n                    lastLineEl = this.$createLineElement();\n                    parent.appendChild(lastLineEl);\n                }\n                this.$renderSimpleLine(lastLineEl, tokens);\n            }\n        }\n        else if (this.$useLineGroups()) {\n            lastLineEl = this.$createLineElement();\n            parent.appendChild(lastLineEl);\n        }\n        if (this.showEOL && lastLineEl) {\n            if (foldLine)\n                row = foldLine.end.row;\n            var invisibleEl = this.dom.createElement(\"span\");\n            invisibleEl.className = \"ace_invisible ace_invisible_eol\";\n            invisibleEl.textContent = row == this.session.getLength() - 1 ? this.EOF_CHAR : this.EOL_CHAR;\n            lastLineEl.appendChild(invisibleEl);\n        }\n    };\n    this.$getFoldLineTokens = function (row, foldLine) {\n        var session = this.session;\n        var renderTokens = [];\n        function addTokens(tokens, from, to) {\n            var idx = 0, col = 0;\n            while ((col + tokens[idx].value.length) < from) {\n                col += tokens[idx].value.length;\n                idx++;\n                if (idx == tokens.length)\n                    return;\n            }\n            if (col != from) {\n                var value = tokens[idx].value.substring(from - col);\n                if (value.length > (to - from))\n                    value = value.substring(0, to - from);\n                renderTokens.push({\n                    type: tokens[idx].type,\n                    value: value\n                });\n                col = from + value.length;\n                idx += 1;\n            }\n            while (col < to && idx < tokens.length) {\n                var value = tokens[idx].value;\n                if (value.length + col > to) {\n                    renderTokens.push({\n                        type: tokens[idx].type,\n                        value: value.substring(0, to - col)\n                    });\n                }\n                else\n                    renderTokens.push(tokens[idx]);\n                col += value.length;\n                idx += 1;\n            }\n        }\n        var tokens = session.getTokens(row);\n        foldLine.walk(function (placeholder, row, column, lastColumn, isNewRow) {\n            if (placeholder != null) {\n                renderTokens.push({\n                    type: \"fold\",\n                    value: placeholder\n                });\n            }\n            else {\n                if (isNewRow)\n                    tokens = session.getTokens(row);\n                if (tokens.length)\n                    addTokens(tokens, lastColumn, column);\n            }\n        }, foldLine.end.row, this.session.getLine(foldLine.end.row).length);\n        return renderTokens;\n    };\n    this.$useLineGroups = function () {\n        return this.session.getUseWrapMode();\n    };\n    this.destroy = function () { };\n}).call(Text.prototype);\nexports.Text = Text;\n\n});\n\nace.define(\"ace/layer/cursor\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module){\"use strict\";\nvar dom = require(\"../lib/dom\");\nvar Cursor = function (parentEl) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_cursor-layer\";\n    parentEl.appendChild(this.element);\n    this.isVisible = false;\n    this.isBlinking = true;\n    this.blinkInterval = 1000;\n    this.smoothBlinking = false;\n    this.cursors = [];\n    this.cursor = this.addCursor();\n    dom.addCssClass(this.element, \"ace_hidden-cursors\");\n    this.$updateCursors = this.$updateOpacity.bind(this);\n};\n(function () {\n    this.$updateOpacity = function (val) {\n        var cursors = this.cursors;\n        for (var i = cursors.length; i--;)\n            dom.setStyle(cursors[i].style, \"opacity\", val ? \"\" : \"0\");\n    };\n    this.$startCssAnimation = function () {\n        var cursors = this.cursors;\n        for (var i = cursors.length; i--;)\n            cursors[i].style.animationDuration = this.blinkInterval + \"ms\";\n        this.$isAnimating = true;\n        setTimeout(function () {\n            if (this.$isAnimating) {\n                dom.addCssClass(this.element, \"ace_animate-blinking\");\n            }\n        }.bind(this));\n    };\n    this.$stopCssAnimation = function () {\n        this.$isAnimating = false;\n        dom.removeCssClass(this.element, \"ace_animate-blinking\");\n    };\n    this.$padding = 0;\n    this.setPadding = function (padding) {\n        this.$padding = padding;\n    };\n    this.setSession = function (session) {\n        this.session = session;\n    };\n    this.setBlinking = function (blinking) {\n        if (blinking != this.isBlinking) {\n            this.isBlinking = blinking;\n            this.restartTimer();\n        }\n    };\n    this.setBlinkInterval = function (blinkInterval) {\n        if (blinkInterval != this.blinkInterval) {\n            this.blinkInterval = blinkInterval;\n            this.restartTimer();\n        }\n    };\n    this.setSmoothBlinking = function (smoothBlinking) {\n        if (smoothBlinking != this.smoothBlinking) {\n            this.smoothBlinking = smoothBlinking;\n            dom.setCssClass(this.element, \"ace_smooth-blinking\", smoothBlinking);\n            this.$updateCursors(true);\n            this.restartTimer();\n        }\n    };\n    this.addCursor = function () {\n        var el = dom.createElement(\"div\");\n        el.className = \"ace_cursor\";\n        this.element.appendChild(el);\n        this.cursors.push(el);\n        return el;\n    };\n    this.removeCursor = function () {\n        if (this.cursors.length > 1) {\n            var el = this.cursors.pop();\n            el.parentNode.removeChild(el);\n            return el;\n        }\n    };\n    this.hideCursor = function () {\n        this.isVisible = false;\n        dom.addCssClass(this.element, \"ace_hidden-cursors\");\n        this.restartTimer();\n    };\n    this.showCursor = function () {\n        this.isVisible = true;\n        dom.removeCssClass(this.element, \"ace_hidden-cursors\");\n        this.restartTimer();\n    };\n    this.restartTimer = function () {\n        var update = this.$updateCursors;\n        clearInterval(this.intervalId);\n        clearTimeout(this.timeoutId);\n        this.$stopCssAnimation();\n        if (this.smoothBlinking) {\n            this.$isSmoothBlinking = false;\n            dom.removeCssClass(this.element, \"ace_smooth-blinking\");\n        }\n        update(true);\n        if (!this.isBlinking || !this.blinkInterval || !this.isVisible) {\n            this.$stopCssAnimation();\n            return;\n        }\n        if (this.smoothBlinking) {\n            this.$isSmoothBlinking = true;\n            setTimeout(function () {\n                if (this.$isSmoothBlinking) {\n                    dom.addCssClass(this.element, \"ace_smooth-blinking\");\n                }\n            }.bind(this));\n        }\n        if (dom.HAS_CSS_ANIMATION) {\n            this.$startCssAnimation();\n        }\n        else {\n            var blink = function () {\n                this.timeoutId = setTimeout(function () {\n                    update(false);\n                }, 0.6 * this.blinkInterval);\n            }.bind(this);\n            this.intervalId = setInterval(function () {\n                update(true);\n                blink();\n            }, this.blinkInterval);\n            blink();\n        }\n    };\n    this.getPixelPosition = function (position, onScreen) {\n        if (!this.config || !this.session)\n            return { left: 0, top: 0 };\n        if (!position)\n            position = this.session.selection.getCursor();\n        var pos = this.session.documentToScreenPosition(position);\n        var cursorLeft = this.$padding + (this.session.$bidiHandler.isBidiRow(pos.row, position.row)\n            ? this.session.$bidiHandler.getPosLeft(pos.column)\n            : pos.column * this.config.characterWidth);\n        var cursorTop = (pos.row - (onScreen ? this.config.firstRowScreen : 0)) *\n            this.config.lineHeight;\n        return { left: cursorLeft, top: cursorTop };\n    };\n    this.isCursorInView = function (pixelPos, config) {\n        return pixelPos.top >= 0 && pixelPos.top < config.maxHeight;\n    };\n    this.update = function (config) {\n        this.config = config;\n        var selections = this.session.$selectionMarkers;\n        var i = 0, cursorIndex = 0;\n        if (selections === undefined || selections.length === 0) {\n            selections = [{ cursor: null }];\n        }\n        for (var i = 0, n = selections.length; i < n; i++) {\n            var pixelPos = this.getPixelPosition(selections[i].cursor, true);\n            if ((pixelPos.top > config.height + config.offset ||\n                pixelPos.top < 0) && i > 1) {\n                continue;\n            }\n            var element = this.cursors[cursorIndex++] || this.addCursor();\n            var style = element.style;\n            if (!this.drawCursor) {\n                if (!this.isCursorInView(pixelPos, config)) {\n                    dom.setStyle(style, \"display\", \"none\");\n                }\n                else {\n                    dom.setStyle(style, \"display\", \"block\");\n                    dom.translate(element, pixelPos.left, pixelPos.top);\n                    dom.setStyle(style, \"width\", Math.round(config.characterWidth) + \"px\");\n                    dom.setStyle(style, \"height\", config.lineHeight + \"px\");\n                }\n            }\n            else {\n                this.drawCursor(element, pixelPos, config, selections[i], this.session);\n            }\n        }\n        while (this.cursors.length > cursorIndex)\n            this.removeCursor();\n        var overwrite = this.session.getOverwrite();\n        this.$setOverwrite(overwrite);\n        this.$pixelPos = pixelPos;\n        this.restartTimer();\n    };\n    this.drawCursor = null;\n    this.$setOverwrite = function (overwrite) {\n        if (overwrite != this.overwrite) {\n            this.overwrite = overwrite;\n            if (overwrite)\n                dom.addCssClass(this.element, \"ace_overwrite-cursors\");\n            else\n                dom.removeCssClass(this.element, \"ace_overwrite-cursors\");\n        }\n    };\n    this.destroy = function () {\n        clearInterval(this.intervalId);\n        clearTimeout(this.timeoutId);\n    };\n}).call(Cursor.prototype);\nexports.Cursor = Cursor;\n\n});\n\nace.define(\"ace/scrollbar\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/lib/event_emitter\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nvar event = require(\"./lib/event\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar MAX_SCROLL_H = 0x8000;\nvar ScrollBar = function (parent) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_scrollbar ace_scrollbar\" + this.classSuffix;\n    this.inner = dom.createElement(\"div\");\n    this.inner.className = \"ace_scrollbar-inner\";\n    this.inner.textContent = \"\\xa0\";\n    this.element.appendChild(this.inner);\n    parent.appendChild(this.element);\n    this.setVisible(false);\n    this.skipEvent = false;\n    event.addListener(this.element, \"scroll\", this.onScroll.bind(this));\n    event.addListener(this.element, \"mousedown\", event.preventDefault);\n};\n(function () {\n    oop.implement(this, EventEmitter);\n    this.setVisible = function (isVisible) {\n        this.element.style.display = isVisible ? \"\" : \"none\";\n        this.isVisible = isVisible;\n        this.coeff = 1;\n    };\n}).call(ScrollBar.prototype);\nvar VScrollBar = function (parent, renderer) {\n    ScrollBar.call(this, parent);\n    this.scrollTop = 0;\n    this.scrollHeight = 0;\n    renderer.$scrollbarWidth =\n        this.width = dom.scrollbarWidth(parent.ownerDocument);\n    this.inner.style.width =\n        this.element.style.width = (this.width || 15) + 5 + \"px\";\n    this.$minWidth = 0;\n};\noop.inherits(VScrollBar, ScrollBar);\n(function () {\n    this.classSuffix = '-v';\n    this.onScroll = function () {\n        if (!this.skipEvent) {\n            this.scrollTop = this.element.scrollTop;\n            if (this.coeff != 1) {\n                var h = this.element.clientHeight / this.scrollHeight;\n                this.scrollTop = this.scrollTop * (1 - h) / (this.coeff - h);\n            }\n            this._emit(\"scroll\", { data: this.scrollTop });\n        }\n        this.skipEvent = false;\n    };\n    this.getWidth = function () {\n        return Math.max(this.isVisible ? this.width : 0, this.$minWidth || 0);\n    };\n    this.setHeight = function (height) {\n        this.element.style.height = height + \"px\";\n    };\n    this.setInnerHeight =\n        this.setScrollHeight = function (height) {\n            this.scrollHeight = height;\n            if (height > MAX_SCROLL_H) {\n                this.coeff = MAX_SCROLL_H / height;\n                height = MAX_SCROLL_H;\n            }\n            else if (this.coeff != 1) {\n                this.coeff = 1;\n            }\n            this.inner.style.height = height + \"px\";\n        };\n    this.setScrollTop = function (scrollTop) {\n        if (this.scrollTop != scrollTop) {\n            this.skipEvent = true;\n            this.scrollTop = scrollTop;\n            this.element.scrollTop = scrollTop * this.coeff;\n        }\n    };\n}).call(VScrollBar.prototype);\nvar HScrollBar = function (parent, renderer) {\n    ScrollBar.call(this, parent);\n    this.scrollLeft = 0;\n    this.height = renderer.$scrollbarWidth;\n    this.inner.style.height =\n        this.element.style.height = (this.height || 15) + 5 + \"px\";\n};\noop.inherits(HScrollBar, ScrollBar);\n(function () {\n    this.classSuffix = '-h';\n    this.onScroll = function () {\n        if (!this.skipEvent) {\n            this.scrollLeft = this.element.scrollLeft;\n            this._emit(\"scroll\", { data: this.scrollLeft });\n        }\n        this.skipEvent = false;\n    };\n    this.getHeight = function () {\n        return this.isVisible ? this.height : 0;\n    };\n    this.setWidth = function (width) {\n        this.element.style.width = width + \"px\";\n    };\n    this.setInnerWidth = function (width) {\n        this.inner.style.width = width + \"px\";\n    };\n    this.setScrollWidth = function (width) {\n        this.inner.style.width = width + \"px\";\n    };\n    this.setScrollLeft = function (scrollLeft) {\n        if (this.scrollLeft != scrollLeft) {\n            this.skipEvent = true;\n            this.scrollLeft = this.element.scrollLeft = scrollLeft;\n        }\n    };\n}).call(HScrollBar.prototype);\nexports.ScrollBar = VScrollBar; // backward compatibility\nexports.ScrollBarV = VScrollBar; // backward compatibility\nexports.ScrollBarH = HScrollBar; // backward compatibility\nexports.VScrollBar = VScrollBar;\nexports.HScrollBar = HScrollBar;\n\n});\n\nace.define(\"ace/scrollbar_custom\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/lib/event_emitter\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nvar event = require(\"./lib/event\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\ndom.importCssString(\".ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{\\n  position: absolute;\\n  background: rgba(128, 128, 128, 0.6);\\n  -moz-box-sizing: border-box;\\n  box-sizing: border-box;\\n  border: 1px solid #bbb;\\n  border-radius: 2px;\\n  z-index: 8;\\n}\\n.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {\\n  position: absolute;\\n  z-index: 6;\\n  background: none;\\n  overflow: hidden!important;\\n}\\n.ace_editor>.ace_sb-v {\\n  z-index: 6;\\n  right: 0;\\n  top: 0;\\n  width: 12px;\\n}\\n.ace_editor>.ace_sb-v div {\\n  z-index: 8;\\n  right: 0;\\n  width: 100%;\\n}\\n.ace_editor>.ace_sb-h {\\n  bottom: 0;\\n  left: 0;\\n  height: 12px;\\n}\\n.ace_editor>.ace_sb-h div {\\n  bottom: 0;\\n  height: 100%;\\n}\\n.ace_editor>.ace_sb_grabbed {\\n  z-index: 8;\\n  background: #000;\\n}\", \"ace_scrollbar.css\", false);\nvar ScrollBar = function (parent) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_sb\" + this.classSuffix;\n    this.inner = dom.createElement(\"div\");\n    this.inner.className = \"\";\n    this.element.appendChild(this.inner);\n    this.VScrollWidth = 12;\n    this.HScrollHeight = 12;\n    parent.appendChild(this.element);\n    this.setVisible(false);\n    this.skipEvent = false;\n    event.addMultiMouseDownListener(this.element, [500, 300, 300], this, \"onMouseDown\");\n};\n(function () {\n    oop.implement(this, EventEmitter);\n    this.setVisible = function (isVisible) {\n        this.element.style.display = isVisible ? \"\" : \"none\";\n        this.isVisible = isVisible;\n        this.coeff = 1;\n    };\n}).call(ScrollBar.prototype);\nvar VScrollBar = function (parent, renderer) {\n    ScrollBar.call(this, parent);\n    this.scrollTop = 0;\n    this.scrollHeight = 0;\n    this.parent = parent;\n    this.width = this.VScrollWidth;\n    this.renderer = renderer;\n    this.inner.style.width = this.element.style.width = (this.width || 15) + \"px\";\n    this.$minWidth = 0;\n};\noop.inherits(VScrollBar, ScrollBar);\n(function () {\n    this.classSuffix = '-v';\n    oop.implement(this, EventEmitter);\n    this.onMouseDown = function (eType, e) {\n        if (eType !== \"mousedown\")\n            return;\n        if (event.getButton(e) !== 0 || e.detail === 2) {\n            return;\n        }\n        if (e.target === this.inner) {\n            var self = this;\n            var mousePageY = e.clientY;\n            var onMouseMove = function (e) {\n                mousePageY = e.clientY;\n            };\n            var onMouseUp = function () {\n                clearInterval(timerId);\n            };\n            var startY = e.clientY;\n            var startTop = this.thumbTop;\n            var onScrollInterval = function () {\n                if (mousePageY === undefined)\n                    return;\n                var scrollTop = self.scrollTopFromThumbTop(startTop + mousePageY - startY);\n                if (scrollTop === self.scrollTop)\n                    return;\n                self._emit(\"scroll\", { data: scrollTop });\n            };\n            event.capture(this.inner, onMouseMove, onMouseUp);\n            var timerId = setInterval(onScrollInterval, 20);\n            return event.preventDefault(e);\n        }\n        var top = e.clientY - this.element.getBoundingClientRect().top - this.thumbHeight / 2;\n        this._emit(\"scroll\", { data: this.scrollTopFromThumbTop(top) });\n        return event.preventDefault(e);\n    };\n    this.getHeight = function () {\n        return this.height;\n    };\n    this.scrollTopFromThumbTop = function (thumbTop) {\n        var scrollTop = thumbTop * (this.pageHeight - this.viewHeight) / (this.slideHeight - this.thumbHeight);\n        scrollTop = scrollTop >> 0;\n        if (scrollTop < 0) {\n            scrollTop = 0;\n        }\n        else if (scrollTop > this.pageHeight - this.viewHeight) {\n            scrollTop = this.pageHeight - this.viewHeight;\n        }\n        return scrollTop;\n    };\n    this.getWidth = function () {\n        return Math.max(this.isVisible ? this.width : 0, this.$minWidth || 0);\n    };\n    this.setHeight = function (height) {\n        this.height = Math.max(0, height);\n        this.slideHeight = this.height;\n        this.viewHeight = this.height;\n        this.setScrollHeight(this.pageHeight, true);\n    };\n    this.setInnerHeight = this.setScrollHeight = function (height, force) {\n        if (this.pageHeight === height && !force)\n            return;\n        this.pageHeight = height;\n        this.thumbHeight = this.slideHeight * this.viewHeight / this.pageHeight;\n        if (this.thumbHeight > this.slideHeight)\n            this.thumbHeight = this.slideHeight;\n        if (this.thumbHeight < 15)\n            this.thumbHeight = 15;\n        this.inner.style.height = this.thumbHeight + \"px\";\n        if (this.scrollTop > (this.pageHeight - this.viewHeight)) {\n            this.scrollTop = (this.pageHeight - this.viewHeight);\n            if (this.scrollTop < 0)\n                this.scrollTop = 0;\n            this._emit(\"scroll\", { data: this.scrollTop });\n        }\n    };\n    this.setScrollTop = function (scrollTop) {\n        this.scrollTop = scrollTop;\n        if (scrollTop < 0)\n            scrollTop = 0;\n        this.thumbTop = scrollTop * (this.slideHeight - this.thumbHeight) / (this.pageHeight - this.viewHeight);\n        this.inner.style.top = this.thumbTop + \"px\";\n    };\n}).call(VScrollBar.prototype);\nvar HScrollBar = function (parent, renderer) {\n    ScrollBar.call(this, parent);\n    this.scrollLeft = 0;\n    this.scrollWidth = 0;\n    this.height = this.HScrollHeight;\n    this.inner.style.height = this.element.style.height = (this.height || 12) + \"px\";\n    this.renderer = renderer;\n};\noop.inherits(HScrollBar, ScrollBar);\n(function () {\n    this.classSuffix = '-h';\n    oop.implement(this, EventEmitter);\n    this.onMouseDown = function (eType, e) {\n        if (eType !== \"mousedown\")\n            return;\n        if (event.getButton(e) !== 0 || e.detail === 2) {\n            return;\n        }\n        if (e.target === this.inner) {\n            var self = this;\n            var mousePageX = e.clientX;\n            var onMouseMove = function (e) {\n                mousePageX = e.clientX;\n            };\n            var onMouseUp = function () {\n                clearInterval(timerId);\n            };\n            var startX = e.clientX;\n            var startLeft = this.thumbLeft;\n            var onScrollInterval = function () {\n                if (mousePageX === undefined)\n                    return;\n                var scrollLeft = self.scrollLeftFromThumbLeft(startLeft + mousePageX - startX);\n                if (scrollLeft === self.scrollLeft)\n                    return;\n                self._emit(\"scroll\", { data: scrollLeft });\n            };\n            event.capture(this.inner, onMouseMove, onMouseUp);\n            var timerId = setInterval(onScrollInterval, 20);\n            return event.preventDefault(e);\n        }\n        var left = e.clientX - this.element.getBoundingClientRect().left - this.thumbWidth / 2;\n        this._emit(\"scroll\", { data: this.scrollLeftFromThumbLeft(left) });\n        return event.preventDefault(e);\n    };\n    this.getHeight = function () {\n        return this.isVisible ? this.height : 0;\n    };\n    this.scrollLeftFromThumbLeft = function (thumbLeft) {\n        var scrollLeft = thumbLeft * (this.pageWidth - this.viewWidth) / (this.slideWidth - this.thumbWidth);\n        scrollLeft = scrollLeft >> 0;\n        if (scrollLeft < 0) {\n            scrollLeft = 0;\n        }\n        else if (scrollLeft > this.pageWidth - this.viewWidth) {\n            scrollLeft = this.pageWidth - this.viewWidth;\n        }\n        return scrollLeft;\n    };\n    this.setWidth = function (width) {\n        this.width = Math.max(0, width);\n        this.element.style.width = this.width + \"px\";\n        this.slideWidth = this.width;\n        this.viewWidth = this.width;\n        this.setScrollWidth(this.pageWidth, true);\n    };\n    this.setInnerWidth = this.setScrollWidth = function (width, force) {\n        if (this.pageWidth === width && !force)\n            return;\n        this.pageWidth = width;\n        this.thumbWidth = this.slideWidth * this.viewWidth / this.pageWidth;\n        if (this.thumbWidth > this.slideWidth)\n            this.thumbWidth = this.slideWidth;\n        if (this.thumbWidth < 15)\n            this.thumbWidth = 15;\n        this.inner.style.width = this.thumbWidth + \"px\";\n        if (this.scrollLeft > (this.pageWidth - this.viewWidth)) {\n            this.scrollLeft = (this.pageWidth - this.viewWidth);\n            if (this.scrollLeft < 0)\n                this.scrollLeft = 0;\n            this._emit(\"scroll\", { data: this.scrollLeft });\n        }\n    };\n    this.setScrollLeft = function (scrollLeft) {\n        this.scrollLeft = scrollLeft;\n        if (scrollLeft < 0)\n            scrollLeft = 0;\n        this.thumbLeft = scrollLeft * (this.slideWidth - this.thumbWidth) / (this.pageWidth - this.viewWidth);\n        this.inner.style.left = (this.thumbLeft) + \"px\";\n    };\n}).call(HScrollBar.prototype);\nexports.ScrollBar = VScrollBar; // backward compatibility\nexports.ScrollBarV = VScrollBar; // backward compatibility\nexports.ScrollBarH = HScrollBar; // backward compatibility\nexports.VScrollBar = VScrollBar;\nexports.HScrollBar = HScrollBar;\n\n});\n\nace.define(\"ace/renderloop\",[\"require\",\"exports\",\"module\",\"ace/lib/event\"], function(require, exports, module){\"use strict\";\nvar event = require(\"./lib/event\");\nvar RenderLoop = function (onRender, win) {\n    this.onRender = onRender;\n    this.pending = false;\n    this.changes = 0;\n    this.$recursionLimit = 2;\n    this.window = win || window;\n    var _self = this;\n    this._flush = function (ts) {\n        _self.pending = false;\n        var changes = _self.changes;\n        if (changes) {\n            event.blockIdle(100);\n            _self.changes = 0;\n            _self.onRender(changes);\n        }\n        if (_self.changes) {\n            if (_self.$recursionLimit-- < 0)\n                return;\n            _self.schedule();\n        }\n        else {\n            _self.$recursionLimit = 2;\n        }\n    };\n};\n(function () {\n    this.schedule = function (change) {\n        this.changes = this.changes | change;\n        if (this.changes && !this.pending) {\n            event.nextFrame(this._flush);\n            this.pending = true;\n        }\n    };\n    this.clear = function (change) {\n        var changes = this.changes;\n        this.changes = 0;\n        return changes;\n    };\n}).call(RenderLoop.prototype);\nexports.RenderLoop = RenderLoop;\n\n});\n\nace.define(\"ace/layer/font_metrics\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/lib/event\",\"ace/lib/useragent\",\"ace/lib/event_emitter\"], function(require, exports, module){var oop = require(\"../lib/oop\");\nvar dom = require(\"../lib/dom\");\nvar lang = require(\"../lib/lang\");\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\nvar CHAR_COUNT = 512;\nvar USE_OBSERVER = typeof ResizeObserver == \"function\";\nvar L = 200;\nvar FontMetrics = exports.FontMetrics = function (parentEl) {\n    this.el = dom.createElement(\"div\");\n    this.$setMeasureNodeStyles(this.el.style, true);\n    this.$main = dom.createElement(\"div\");\n    this.$setMeasureNodeStyles(this.$main.style);\n    this.$measureNode = dom.createElement(\"div\");\n    this.$setMeasureNodeStyles(this.$measureNode.style);\n    this.el.appendChild(this.$main);\n    this.el.appendChild(this.$measureNode);\n    parentEl.appendChild(this.el);\n    this.$measureNode.textContent = lang.stringRepeat(\"X\", CHAR_COUNT);\n    this.$characterSize = { width: 0, height: 0 };\n    if (USE_OBSERVER)\n        this.$addObserver();\n    else\n        this.checkForSizeChanges();\n};\n(function () {\n    oop.implement(this, EventEmitter);\n    this.$characterSize = { width: 0, height: 0 };\n    this.$setMeasureNodeStyles = function (style, isRoot) {\n        style.width = style.height = \"auto\";\n        style.left = style.top = \"0px\";\n        style.visibility = \"hidden\";\n        style.position = \"absolute\";\n        style.whiteSpace = \"pre\";\n        if (useragent.isIE < 8) {\n            style[\"font-family\"] = \"inherit\";\n        }\n        else {\n            style.font = \"inherit\";\n        }\n        style.overflow = isRoot ? \"hidden\" : \"visible\";\n    };\n    this.checkForSizeChanges = function (size) {\n        if (size === undefined)\n            size = this.$measureSizes();\n        if (size && (this.$characterSize.width !== size.width || this.$characterSize.height !== size.height)) {\n            this.$measureNode.style.fontWeight = \"bold\";\n            var boldSize = this.$measureSizes();\n            this.$measureNode.style.fontWeight = \"\";\n            this.$characterSize = size;\n            this.charSizes = Object.create(null);\n            this.allowBoldFonts = boldSize && boldSize.width === size.width && boldSize.height === size.height;\n            this._emit(\"changeCharacterSize\", { data: size });\n        }\n    };\n    this.$addObserver = function () {\n        var self = this;\n        this.$observer = new window.ResizeObserver(function (e) {\n            self.checkForSizeChanges();\n        });\n        this.$observer.observe(this.$measureNode);\n    };\n    this.$pollSizeChanges = function () {\n        if (this.$pollSizeChangesTimer || this.$observer)\n            return this.$pollSizeChangesTimer;\n        var self = this;\n        return this.$pollSizeChangesTimer = event.onIdle(function cb() {\n            self.checkForSizeChanges();\n            event.onIdle(cb, 500);\n        }, 500);\n    };\n    this.setPolling = function (val) {\n        if (val) {\n            this.$pollSizeChanges();\n        }\n        else if (this.$pollSizeChangesTimer) {\n            clearInterval(this.$pollSizeChangesTimer);\n            this.$pollSizeChangesTimer = 0;\n        }\n    };\n    this.$measureSizes = function (node) {\n        var size = {\n            height: (node || this.$measureNode).clientHeight,\n            width: (node || this.$measureNode).clientWidth / CHAR_COUNT\n        };\n        if (size.width === 0 || size.height === 0)\n            return null;\n        return size;\n    };\n    this.$measureCharWidth = function (ch) {\n        this.$main.textContent = lang.stringRepeat(ch, CHAR_COUNT);\n        var rect = this.$main.getBoundingClientRect();\n        return rect.width / CHAR_COUNT;\n    };\n    this.getCharacterWidth = function (ch) {\n        var w = this.charSizes[ch];\n        if (w === undefined) {\n            w = this.charSizes[ch] = this.$measureCharWidth(ch) / this.$characterSize.width;\n        }\n        return w;\n    };\n    this.destroy = function () {\n        clearInterval(this.$pollSizeChangesTimer);\n        if (this.$observer)\n            this.$observer.disconnect();\n        if (this.el && this.el.parentNode)\n            this.el.parentNode.removeChild(this.el);\n    };\n    this.$getZoom = function getZoom(element) {\n        if (!element || !element.parentElement)\n            return 1;\n        return (window.getComputedStyle(element).zoom || 1) * getZoom(element.parentElement);\n    };\n    this.$initTransformMeasureNodes = function () {\n        var t = function (t, l) {\n            return [\"div\", {\n                    style: \"position: absolute;top:\" + t + \"px;left:\" + l + \"px;\"\n                }];\n        };\n        this.els = dom.buildDom([t(0, 0), t(L, 0), t(0, L), t(L, L)], this.el);\n    };\n    this.transformCoordinates = function (clientPos, elPos) {\n        if (clientPos) {\n            var zoom = this.$getZoom(this.el);\n            clientPos = mul(1 / zoom, clientPos);\n        }\n        function solve(l1, l2, r) {\n            var det = l1[1] * l2[0] - l1[0] * l2[1];\n            return [\n                (-l2[1] * r[0] + l2[0] * r[1]) / det,\n                (+l1[1] * r[0] - l1[0] * r[1]) / det\n            ];\n        }\n        function sub(a, b) { return [a[0] - b[0], a[1] - b[1]]; }\n        function add(a, b) { return [a[0] + b[0], a[1] + b[1]]; }\n        function mul(a, b) { return [a * b[0], a * b[1]]; }\n        if (!this.els)\n            this.$initTransformMeasureNodes();\n        function p(el) {\n            var r = el.getBoundingClientRect();\n            return [r.left, r.top];\n        }\n        var a = p(this.els[0]);\n        var b = p(this.els[1]);\n        var c = p(this.els[2]);\n        var d = p(this.els[3]);\n        var h = solve(sub(d, b), sub(d, c), sub(add(b, c), add(d, a)));\n        var m1 = mul(1 + h[0], sub(b, a));\n        var m2 = mul(1 + h[1], sub(c, a));\n        if (elPos) {\n            var x = elPos;\n            var k = h[0] * x[0] / L + h[1] * x[1] / L + 1;\n            var ut = add(mul(x[0], m1), mul(x[1], m2));\n            return add(mul(1 / k / L, ut), a);\n        }\n        var u = sub(clientPos, a);\n        var f = solve(sub(m1, mul(h[0], u)), sub(m2, mul(h[1], u)), u);\n        return mul(L, f);\n    };\n}).call(FontMetrics.prototype);\n\n});\n\nace.define(\"ace/css/editor.css\",[\"require\",\"exports\",\"module\"], function(require, exports, module){/*\nstyles = []\nfor (var i = 1; i < 16; i++) {\n    styles.push(\".ace_br\" + i + \"{\" + (\n        [\"top-left\", \"top-right\", \"bottom-right\", \"bottom-left\"]\n    ).map(function(x, j) {\n        return i & (1<<j) ? \"border-\" + x + \"-radius: 3px;\" : \"\"\n    }).filter(Boolean).join(\" \") + \"}\")\n}\nstyles.join(\"\\\\n\")\n*/\nmodule.exports = \"\\n.ace_br1 {border-top-left-radius    : 3px;}\\n.ace_br2 {border-top-right-radius   : 3px;}\\n.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}\\n.ace_br4 {border-bottom-right-radius: 3px;}\\n.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}\\n.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}\\n.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}\\n.ace_br8 {border-bottom-left-radius : 3px;}\\n.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}\\n.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}\\n.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}\\n.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\n.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\n.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\n.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}\\n\\n\\n.ace_editor {\\n    position: relative;\\n    overflow: hidden;\\n    padding: 0;\\n    font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'Source Code Pro', 'source-code-pro', monospace;\\n    direction: ltr;\\n    text-align: left;\\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\\n}\\n\\n.ace_scroller {\\n    position: absolute;\\n    overflow: hidden;\\n    top: 0;\\n    bottom: 0;\\n    background-color: inherit;\\n    -ms-user-select: none;\\n    -moz-user-select: none;\\n    -webkit-user-select: none;\\n    user-select: none;\\n    cursor: text;\\n}\\n\\n.ace_content {\\n    position: absolute;\\n    box-sizing: border-box;\\n    min-width: 100%;\\n    contain: style size layout;\\n    font-variant-ligatures: no-common-ligatures;\\n}\\n\\n.ace_dragging .ace_scroller:before{\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    bottom: 0;\\n    content: '';\\n    background: rgba(250, 250, 250, 0.01);\\n    z-index: 1000;\\n}\\n.ace_dragging.ace_dark .ace_scroller:before{\\n    background: rgba(0, 0, 0, 0.01);\\n}\\n\\n.ace_gutter {\\n    position: absolute;\\n    overflow : hidden;\\n    width: auto;\\n    top: 0;\\n    bottom: 0;\\n    left: 0;\\n    cursor: default;\\n    z-index: 4;\\n    -ms-user-select: none;\\n    -moz-user-select: none;\\n    -webkit-user-select: none;\\n    user-select: none;\\n    contain: style size layout;\\n}\\n\\n.ace_gutter-active-line {\\n    position: absolute;\\n    left: 0;\\n    right: 0;\\n}\\n\\n.ace_scroller.ace_scroll-left:after {\\n    content: \\\"\\\";\\n    position: absolute;\\n    top: 0;\\n    right: 0;\\n    bottom: 0;\\n    left: 0;\\n    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\\n    pointer-events: none;\\n}\\n\\n.ace_gutter-cell {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    padding-left: 19px;\\n    padding-right: 6px;\\n    background-repeat: no-repeat;\\n}\\n\\n.ace_gutter-cell.ace_error {\\n    background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==\\\");\\n    background-repeat: no-repeat;\\n    background-position: 2px center;\\n}\\n\\n.ace_gutter-cell.ace_warning {\\n    background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==\\\");\\n    background-position: 2px center;\\n}\\n\\n.ace_gutter-cell.ace_info {\\n    background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=\\\");\\n    background-position: 2px center;\\n}\\n.ace_dark .ace_gutter-cell.ace_info {\\n    background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC\\\");\\n}\\n\\n.ace_scrollbar {\\n    contain: strict;\\n    position: absolute;\\n    right: 0;\\n    bottom: 0;\\n    z-index: 6;\\n}\\n\\n.ace_scrollbar-inner {\\n    position: absolute;\\n    cursor: text;\\n    left: 0;\\n    top: 0;\\n}\\n\\n.ace_scrollbar-v{\\n    overflow-x: hidden;\\n    overflow-y: scroll;\\n    top: 0;\\n}\\n\\n.ace_scrollbar-h {\\n    overflow-x: scroll;\\n    overflow-y: hidden;\\n    left: 0;\\n}\\n\\n.ace_print-margin {\\n    position: absolute;\\n    height: 100%;\\n}\\n\\n.ace_text-input {\\n    position: absolute;\\n    z-index: 0;\\n    width: 0.5em;\\n    height: 1em;\\n    opacity: 0;\\n    background: transparent;\\n    -moz-appearance: none;\\n    appearance: none;\\n    border: none;\\n    resize: none;\\n    outline: none;\\n    overflow: hidden;\\n    font: inherit;\\n    padding: 0 1px;\\n    margin: 0 -1px;\\n    contain: strict;\\n    -ms-user-select: text;\\n    -moz-user-select: text;\\n    -webkit-user-select: text;\\n    user-select: text;\\n    /*with `pre-line` chrome inserts &nbsp; instead of space*/\\n    white-space: pre!important;\\n}\\n.ace_text-input.ace_composition {\\n    background: transparent;\\n    color: inherit;\\n    z-index: 1000;\\n    opacity: 1;\\n}\\n.ace_composition_placeholder { color: transparent }\\n.ace_composition_marker { \\n    border-bottom: 1px solid;\\n    position: absolute;\\n    border-radius: 0;\\n    margin-top: 1px;\\n}\\n\\n[ace_nocontext=true] {\\n    transform: none!important;\\n    filter: none!important;\\n    clip-path: none!important;\\n    mask : none!important;\\n    contain: none!important;\\n    perspective: none!important;\\n    mix-blend-mode: initial!important;\\n    z-index: auto;\\n}\\n\\n.ace_layer {\\n    z-index: 1;\\n    position: absolute;\\n    overflow: hidden;\\n    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/\\n    word-wrap: normal;\\n    white-space: pre;\\n    height: 100%;\\n    width: 100%;\\n    box-sizing: border-box;\\n    /* setting pointer-events: auto; on node under the mouse, which changes\\n        during scroll, will break mouse wheel scrolling in Safari */\\n    pointer-events: none;\\n}\\n\\n.ace_gutter-layer {\\n    position: relative;\\n    width: auto;\\n    text-align: right;\\n    pointer-events: auto;\\n    height: 1000000px;\\n    contain: style size layout;\\n}\\n\\n.ace_text-layer {\\n    font: inherit !important;\\n    position: absolute;\\n    height: 1000000px;\\n    width: 1000000px;\\n    contain: style size layout;\\n}\\n\\n.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {\\n    contain: style size layout;\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n}\\n\\n.ace_hidpi .ace_text-layer,\\n.ace_hidpi .ace_gutter-layer,\\n.ace_hidpi .ace_content,\\n.ace_hidpi .ace_gutter {\\n    contain: strict;\\n    will-change: transform;\\n}\\n.ace_hidpi .ace_text-layer > .ace_line, \\n.ace_hidpi .ace_text-layer > .ace_line_group {\\n    contain: strict;\\n}\\n\\n.ace_cjk {\\n    display: inline-block;\\n    text-align: center;\\n}\\n\\n.ace_cursor-layer {\\n    z-index: 4;\\n}\\n\\n.ace_cursor {\\n    z-index: 4;\\n    position: absolute;\\n    box-sizing: border-box;\\n    border-left: 2px solid;\\n    /* workaround for smooth cursor repaintng whole screen in chrome */\\n    transform: translatez(0);\\n}\\n\\n.ace_multiselect .ace_cursor {\\n    border-left-width: 1px;\\n}\\n\\n.ace_slim-cursors .ace_cursor {\\n    border-left-width: 1px;\\n}\\n\\n.ace_overwrite-cursors .ace_cursor {\\n    border-left-width: 0;\\n    border-bottom: 1px solid;\\n}\\n\\n.ace_hidden-cursors .ace_cursor {\\n    opacity: 0.2;\\n}\\n\\n.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {\\n    opacity: 0;\\n}\\n\\n.ace_smooth-blinking .ace_cursor {\\n    transition: opacity 0.18s;\\n}\\n\\n.ace_animate-blinking .ace_cursor {\\n    animation-duration: 1000ms;\\n    animation-timing-function: step-end;\\n    animation-name: blink-ace-animate;\\n    animation-iteration-count: infinite;\\n}\\n\\n.ace_animate-blinking.ace_smooth-blinking .ace_cursor {\\n    animation-duration: 1000ms;\\n    animation-timing-function: ease-in-out;\\n    animation-name: blink-ace-animate-smooth;\\n}\\n    \\n@keyframes blink-ace-animate {\\n    from, to { opacity: 1; }\\n    60% { opacity: 0; }\\n}\\n\\n@keyframes blink-ace-animate-smooth {\\n    from, to { opacity: 1; }\\n    45% { opacity: 1; }\\n    60% { opacity: 0; }\\n    85% { opacity: 0; }\\n}\\n\\n.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\\n    position: absolute;\\n    z-index: 3;\\n}\\n\\n.ace_marker-layer .ace_selection {\\n    position: absolute;\\n    z-index: 5;\\n}\\n\\n.ace_marker-layer .ace_bracket {\\n    position: absolute;\\n    z-index: 6;\\n}\\n\\n.ace_marker-layer .ace_error_bracket {\\n    position: absolute;\\n    border-bottom: 1px solid #DE5555;\\n    border-radius: 0;\\n}\\n\\n.ace_marker-layer .ace_active-line {\\n    position: absolute;\\n    z-index: 2;\\n}\\n\\n.ace_marker-layer .ace_selected-word {\\n    position: absolute;\\n    z-index: 4;\\n    box-sizing: border-box;\\n}\\n\\n.ace_line .ace_fold {\\n    box-sizing: border-box;\\n\\n    display: inline-block;\\n    height: 11px;\\n    margin-top: -2px;\\n    vertical-align: middle;\\n\\n    background-image:\\n        url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=\\\"),\\n        url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=\\\");\\n    background-repeat: no-repeat, repeat-x;\\n    background-position: center center, top left;\\n    color: transparent;\\n\\n    border: 1px solid black;\\n    border-radius: 2px;\\n\\n    cursor: pointer;\\n    pointer-events: auto;\\n}\\n\\n.ace_dark .ace_fold {\\n}\\n\\n.ace_fold:hover{\\n    background-image:\\n        url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=\\\"),\\n        url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC\\\");\\n}\\n\\n.ace_tooltip {\\n    background-color: #f5f5f5;\\n    border: 1px solid gray;\\n    border-radius: 1px;\\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\\n    color: black;\\n    max-width: 100%;\\n    padding: 3px 4px;\\n    position: fixed;\\n    z-index: 999999;\\n    box-sizing: border-box;\\n    cursor: default;\\n    white-space: pre;\\n    word-wrap: break-word;\\n    line-height: normal;\\n    font-style: normal;\\n    font-weight: normal;\\n    letter-spacing: normal;\\n    pointer-events: none;\\n}\\n\\n.ace_tooltip:focus {\\n    outline: 1px solid black;\\n}\\n\\n.ace_folding-enabled > .ace_gutter-cell {\\n    padding-right: 13px;\\n}\\n\\n.ace_fold-widget {\\n    box-sizing: border-box;\\n\\n    margin: 0 -12px 0 1px;\\n    display: none;\\n    width: 11px;\\n    vertical-align: top;\\n\\n    background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==\\\");\\n    background-repeat: no-repeat;\\n    background-position: center;\\n\\n    border-radius: 3px;\\n    \\n    border: 1px solid transparent;\\n    cursor: pointer;\\n}\\n\\n.ace_folding-enabled .ace_fold-widget {\\n    display: inline-block;   \\n}\\n\\n.ace_fold-widget.ace_end {\\n    background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==\\\");\\n}\\n\\n.ace_fold-widget.ace_closed {\\n    background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==\\\");\\n}\\n\\n.ace_fold-widget:hover {\\n    border: 1px solid rgba(0, 0, 0, 0.3);\\n    background-color: rgba(255, 255, 255, 0.2);\\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\\n}\\n\\n.ace_fold-widget:active {\\n    border: 1px solid rgba(0, 0, 0, 0.4);\\n    background-color: rgba(0, 0, 0, 0.05);\\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\\n}\\n/**\\n * Dark version for fold widgets\\n */\\n.ace_dark .ace_fold-widget {\\n    background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC\\\");\\n}\\n.ace_dark .ace_fold-widget.ace_end {\\n    background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==\\\");\\n}\\n.ace_dark .ace_fold-widget.ace_closed {\\n    background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==\\\");\\n}\\n.ace_dark .ace_fold-widget:hover {\\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\\n    background-color: rgba(255, 255, 255, 0.1);\\n}\\n.ace_dark .ace_fold-widget:active {\\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\\n}\\n\\n.ace_inline_button {\\n    border: 1px solid lightgray;\\n    display: inline-block;\\n    margin: -1px 8px;\\n    padding: 0 5px;\\n    pointer-events: auto;\\n    cursor: pointer;\\n}\\n.ace_inline_button:hover {\\n    border-color: gray;\\n    background: rgba(200,200,200,0.2);\\n    display: inline-block;\\n    pointer-events: auto;\\n}\\n\\n.ace_fold-widget.ace_invalid {\\n    background-color: #FFB4B4;\\n    border-color: #DE5555;\\n}\\n\\n.ace_fade-fold-widgets .ace_fold-widget {\\n    transition: opacity 0.4s ease 0.05s;\\n    opacity: 0;\\n}\\n\\n.ace_fade-fold-widgets:hover .ace_fold-widget {\\n    transition: opacity 0.05s ease 0.05s;\\n    opacity:1;\\n}\\n\\n.ace_underline {\\n    text-decoration: underline;\\n}\\n\\n.ace_bold {\\n    font-weight: bold;\\n}\\n\\n.ace_nobold .ace_bold {\\n    font-weight: normal;\\n}\\n\\n.ace_italic {\\n    font-style: italic;\\n}\\n\\n\\n.ace_error-marker {\\n    background-color: rgba(255, 0, 0,0.2);\\n    position: absolute;\\n    z-index: 9;\\n}\\n\\n.ace_highlight-marker {\\n    background-color: rgba(255, 255, 0,0.2);\\n    position: absolute;\\n    z-index: 8;\\n}\\n\\n.ace_mobile-menu {\\n    position: absolute;\\n    line-height: 1.5;\\n    border-radius: 4px;\\n    -ms-user-select: none;\\n    -moz-user-select: none;\\n    -webkit-user-select: none;\\n    user-select: none;\\n    background: white;\\n    box-shadow: 1px 3px 2px grey;\\n    border: 1px solid #dcdcdc;\\n    color: black;\\n}\\n.ace_dark > .ace_mobile-menu {\\n    background: #333;\\n    color: #ccc;\\n    box-shadow: 1px 3px 2px grey;\\n    border: 1px solid #444;\\n\\n}\\n.ace_mobile-button {\\n    padding: 2px;\\n    cursor: pointer;\\n    overflow: hidden;\\n}\\n.ace_mobile-button:hover {\\n    background-color: #eee;\\n    opacity:1;\\n}\\n.ace_mobile-button:active {\\n    background-color: #ddd;\\n}\\n\\n.ace_placeholder {\\n    font-family: arial;\\n    transform: scale(0.9);\\n    transform-origin: left;\\n    white-space: pre;\\n    opacity: 0.7;\\n    margin: 0 10px;\\n}\\n\\n.ace_ghost_text {\\n    opacity: 0.5;\\n    font-style: italic;\\n    white-space: pre;\\n}\";\n\n});\n\nace.define(\"ace/layer/decorators\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/oop\",\"ace/lib/event_emitter\"], function(require, exports, module){\"use strict\";\nvar dom = require(\"../lib/dom\");\nvar oop = require(\"../lib/oop\");\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\nvar Decorator = function (parent, renderer) {\n    this.canvas = dom.createElement(\"canvas\");\n    this.renderer = renderer;\n    this.pixelRatio = 1;\n    this.maxHeight = renderer.layerConfig.maxHeight;\n    this.lineHeight = renderer.layerConfig.lineHeight;\n    this.canvasHeight = parent.parent.scrollHeight;\n    this.heightRatio = this.canvasHeight / this.maxHeight;\n    this.canvasWidth = parent.width;\n    this.minDecorationHeight = (2 * this.pixelRatio) | 0;\n    this.halfMinDecorationHeight = (this.minDecorationHeight / 2) | 0;\n    this.canvas.width = this.canvasWidth;\n    this.canvas.height = this.canvasHeight;\n    this.canvas.style.top = 0 + \"px\";\n    this.canvas.style.right = 0 + \"px\";\n    this.canvas.style.zIndex = 7 + \"px\";\n    this.canvas.style.position = \"absolute\";\n    this.colors = {};\n    this.colors.dark = {\n        \"error\": \"rgba(255, 18, 18, 1)\",\n        \"warning\": \"rgba(18, 136, 18, 1)\",\n        \"info\": \"rgba(18, 18, 136, 1)\"\n    };\n    this.colors.light = {\n        \"error\": \"rgb(255,51,51)\",\n        \"warning\": \"rgb(32,133,72)\",\n        \"info\": \"rgb(35,68,138)\"\n    };\n    parent.element.appendChild(this.canvas);\n};\n(function () {\n    oop.implement(this, EventEmitter);\n    this.$updateDecorators = function (config) {\n        var colors = (this.renderer.theme.isDark === true) ? this.colors.dark : this.colors.light;\n        if (config) {\n            this.maxHeight = config.maxHeight;\n            this.lineHeight = config.lineHeight;\n            this.canvasHeight = config.height;\n            var allLineHeight = (config.lastRow + 1) * this.lineHeight;\n            if (allLineHeight < this.canvasHeight) {\n                this.heightRatio = 1;\n            }\n            else {\n                this.heightRatio = this.canvasHeight / this.maxHeight;\n            }\n        }\n        var ctx = this.canvas.getContext(\"2d\");\n        function compare(a, b) {\n            if (a.priority < b.priority)\n                return -1;\n            if (a.priority > b.priority)\n                return 1;\n            return 0;\n        }\n        var annotations = this.renderer.session.$annotations;\n        ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n        if (annotations) {\n            var priorities = {\n                \"info\": 1,\n                \"warning\": 2,\n                \"error\": 3\n            };\n            annotations.forEach(function (item) {\n                item.priority = priorities[item.type] || null;\n            });\n            annotations = annotations.sort(compare);\n            var foldData = this.renderer.session.$foldData;\n            for (var i = 0; i < annotations.length; i++) {\n                var row = annotations[i].row;\n                var compensateFold = this.compensateFoldRows(row, foldData);\n                var currentY = Math.round((row - compensateFold) * this.lineHeight * this.heightRatio);\n                var y1 = Math.round(((row - compensateFold) * this.lineHeight * this.heightRatio));\n                var y2 = Math.round((((row - compensateFold) * this.lineHeight + this.lineHeight) * this.heightRatio));\n                var height = y2 - y1;\n                if (height < this.minDecorationHeight) {\n                    var yCenter = ((y1 + y2) / 2) | 0;\n                    if (yCenter < this.halfMinDecorationHeight) {\n                        yCenter = this.halfMinDecorationHeight;\n                    }\n                    else if (yCenter + this.halfMinDecorationHeight > this.canvasHeight) {\n                        yCenter = this.canvasHeight - this.halfMinDecorationHeight;\n                    }\n                    y1 = Math.round(yCenter - this.halfMinDecorationHeight);\n                    y2 = Math.round(yCenter + this.halfMinDecorationHeight);\n                }\n                ctx.fillStyle = colors[annotations[i].type] || null;\n                ctx.fillRect(0, currentY, this.canvasWidth, y2 - y1);\n            }\n        }\n        var cursor = this.renderer.session.selection.getCursor();\n        if (cursor) {\n            var compensateFold = this.compensateFoldRows(cursor.row, foldData);\n            var currentY = Math.round((cursor.row - compensateFold) * this.lineHeight * this.heightRatio);\n            ctx.fillStyle = \"rgba(0, 0, 0, 0.5)\";\n            ctx.fillRect(0, currentY, this.canvasWidth, 2);\n        }\n    };\n    this.compensateFoldRows = function (row, foldData) {\n        var compensateFold = 0;\n        if (foldData && foldData.length > 0) {\n            for (var j = 0; j < foldData.length; j++) {\n                if (row > foldData[j].start.row && row < foldData[j].end.row) {\n                    compensateFold += row - foldData[j].start.row;\n                }\n                else if (row >= foldData[j].end.row) {\n                    compensateFold += foldData[j].end.row - foldData[j].start.row;\n                }\n            }\n        }\n        return compensateFold;\n    };\n}.call(Decorator.prototype));\nexports.Decorator = Decorator;\n\n});\n\nace.define(\"ace/virtual_renderer\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/config\",\"ace/layer/gutter\",\"ace/layer/marker\",\"ace/layer/text\",\"ace/layer/cursor\",\"ace/scrollbar\",\"ace/scrollbar\",\"ace/scrollbar_custom\",\"ace/scrollbar_custom\",\"ace/renderloop\",\"ace/layer/font_metrics\",\"ace/lib/event_emitter\",\"ace/css/editor.css\",\"ace/layer/decorators\",\"ace/lib/useragent\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nvar config = require(\"./config\");\nvar GutterLayer = require(\"./layer/gutter\").Gutter;\nvar MarkerLayer = require(\"./layer/marker\").Marker;\nvar TextLayer = require(\"./layer/text\").Text;\nvar CursorLayer = require(\"./layer/cursor\").Cursor;\nvar HScrollBar = require(\"./scrollbar\").HScrollBar;\nvar VScrollBar = require(\"./scrollbar\").VScrollBar;\nvar HScrollBarCustom = require(\"./scrollbar_custom\").HScrollBar;\nvar VScrollBarCustom = require(\"./scrollbar_custom\").VScrollBar;\nvar RenderLoop = require(\"./renderloop\").RenderLoop;\nvar FontMetrics = require(\"./layer/font_metrics\").FontMetrics;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar editorCss = require(\"./css/editor.css\");\nvar Decorator = require(\"./layer/decorators\").Decorator;\nvar useragent = require(\"./lib/useragent\");\nvar HIDE_TEXTAREA = useragent.isIE;\ndom.importCssString(editorCss, \"ace_editor.css\", false);\nvar VirtualRenderer = function (container, theme) {\n    var _self = this;\n    this.container = container || dom.createElement(\"div\");\n    dom.addCssClass(this.container, \"ace_editor\");\n    if (dom.HI_DPI)\n        dom.addCssClass(this.container, \"ace_hidpi\");\n    this.setTheme(theme);\n    if (config.get(\"useStrictCSP\") == null)\n        config.set(\"useStrictCSP\", false);\n    this.$gutter = dom.createElement(\"div\");\n    this.$gutter.className = \"ace_gutter\";\n    this.container.appendChild(this.$gutter);\n    this.$gutter.setAttribute(\"aria-hidden\", true);\n    this.scroller = dom.createElement(\"div\");\n    this.scroller.className = \"ace_scroller\";\n    this.container.appendChild(this.scroller);\n    this.content = dom.createElement(\"div\");\n    this.content.className = \"ace_content\";\n    this.scroller.appendChild(this.content);\n    this.$gutterLayer = new GutterLayer(this.$gutter);\n    this.$gutterLayer.on(\"changeGutterWidth\", this.onGutterResize.bind(this));\n    this.$markerBack = new MarkerLayer(this.content);\n    var textLayer = this.$textLayer = new TextLayer(this.content);\n    this.canvas = textLayer.element;\n    this.$markerFront = new MarkerLayer(this.content);\n    this.$cursorLayer = new CursorLayer(this.content);\n    this.$horizScroll = false;\n    this.$vScroll = false;\n    this.scrollBar =\n        this.scrollBarV = new VScrollBar(this.container, this);\n    this.scrollBarH = new HScrollBar(this.container, this);\n    this.scrollBarV.on(\"scroll\", function (e) {\n        if (!_self.$scrollAnimation)\n            _self.session.setScrollTop(e.data - _self.scrollMargin.top);\n    });\n    this.scrollBarH.on(\"scroll\", function (e) {\n        if (!_self.$scrollAnimation)\n            _self.session.setScrollLeft(e.data - _self.scrollMargin.left);\n    });\n    this.scrollTop = 0;\n    this.scrollLeft = 0;\n    this.cursorPos = {\n        row: 0,\n        column: 0\n    };\n    this.$fontMetrics = new FontMetrics(this.container);\n    this.$textLayer.$setFontMetrics(this.$fontMetrics);\n    this.$textLayer.on(\"changeCharacterSize\", function (e) {\n        _self.updateCharacterSize();\n        _self.onResize(true, _self.gutterWidth, _self.$size.width, _self.$size.height);\n        _self._signal(\"changeCharacterSize\", e);\n    });\n    this.$size = {\n        width: 0,\n        height: 0,\n        scrollerHeight: 0,\n        scrollerWidth: 0,\n        $dirty: true\n    };\n    this.layerConfig = {\n        width: 1,\n        padding: 0,\n        firstRow: 0,\n        firstRowScreen: 0,\n        lastRow: 0,\n        lineHeight: 0,\n        characterWidth: 0,\n        minHeight: 1,\n        maxHeight: 1,\n        offset: 0,\n        height: 1,\n        gutterOffset: 1\n    };\n    this.scrollMargin = {\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0,\n        v: 0,\n        h: 0\n    };\n    this.margin = {\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0,\n        v: 0,\n        h: 0\n    };\n    this.$keepTextAreaAtCursor = !useragent.isIOS;\n    this.$loop = new RenderLoop(this.$renderChanges.bind(this), this.container.ownerDocument.defaultView);\n    this.$loop.schedule(this.CHANGE_FULL);\n    this.updateCharacterSize();\n    this.setPadding(4);\n    config.resetOptions(this);\n    config._signal(\"renderer\", this);\n};\n(function () {\n    this.CHANGE_CURSOR = 1;\n    this.CHANGE_MARKER = 2;\n    this.CHANGE_GUTTER = 4;\n    this.CHANGE_SCROLL = 8;\n    this.CHANGE_LINES = 16;\n    this.CHANGE_TEXT = 32;\n    this.CHANGE_SIZE = 64;\n    this.CHANGE_MARKER_BACK = 128;\n    this.CHANGE_MARKER_FRONT = 256;\n    this.CHANGE_FULL = 512;\n    this.CHANGE_H_SCROLL = 1024;\n    oop.implement(this, EventEmitter);\n    this.updateCharacterSize = function () {\n        if (this.$textLayer.allowBoldFonts != this.$allowBoldFonts) {\n            this.$allowBoldFonts = this.$textLayer.allowBoldFonts;\n            this.setStyle(\"ace_nobold\", !this.$allowBoldFonts);\n        }\n        this.layerConfig.characterWidth =\n            this.characterWidth = this.$textLayer.getCharacterWidth();\n        this.layerConfig.lineHeight =\n            this.lineHeight = this.$textLayer.getLineHeight();\n        this.$updatePrintMargin();\n        dom.setStyle(this.scroller.style, \"line-height\", this.lineHeight + \"px\");\n    };\n    this.setSession = function (session) {\n        if (this.session)\n            this.session.doc.off(\"changeNewLineMode\", this.onChangeNewLineMode);\n        this.session = session;\n        if (session && this.scrollMargin.top && session.getScrollTop() <= 0)\n            session.setScrollTop(-this.scrollMargin.top);\n        this.$cursorLayer.setSession(session);\n        this.$markerBack.setSession(session);\n        this.$markerFront.setSession(session);\n        this.$gutterLayer.setSession(session);\n        this.$textLayer.setSession(session);\n        if (!session)\n            return;\n        this.$loop.schedule(this.CHANGE_FULL);\n        this.session.$setFontMetrics(this.$fontMetrics);\n        this.scrollBarH.scrollLeft = this.scrollBarV.scrollTop = null;\n        this.onChangeNewLineMode = this.onChangeNewLineMode.bind(this);\n        this.onChangeNewLineMode();\n        this.session.doc.on(\"changeNewLineMode\", this.onChangeNewLineMode);\n    };\n    this.updateLines = function (firstRow, lastRow, force) {\n        if (lastRow === undefined)\n            lastRow = Infinity;\n        if (!this.$changedLines) {\n            this.$changedLines = {\n                firstRow: firstRow,\n                lastRow: lastRow\n            };\n        }\n        else {\n            if (this.$changedLines.firstRow > firstRow)\n                this.$changedLines.firstRow = firstRow;\n            if (this.$changedLines.lastRow < lastRow)\n                this.$changedLines.lastRow = lastRow;\n        }\n        if (this.$changedLines.lastRow < this.layerConfig.firstRow) {\n            if (force)\n                this.$changedLines.lastRow = this.layerConfig.lastRow;\n            else\n                return;\n        }\n        if (this.$changedLines.firstRow > this.layerConfig.lastRow)\n            return;\n        this.$loop.schedule(this.CHANGE_LINES);\n    };\n    this.onChangeNewLineMode = function () {\n        this.$loop.schedule(this.CHANGE_TEXT);\n        this.$textLayer.$updateEolChar();\n        this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR);\n    };\n    this.onChangeTabSize = function () {\n        this.$loop.schedule(this.CHANGE_TEXT | this.CHANGE_MARKER);\n        this.$textLayer.onChangeTabSize();\n    };\n    this.updateText = function () {\n        this.$loop.schedule(this.CHANGE_TEXT);\n    };\n    this.updateFull = function (force) {\n        if (force)\n            this.$renderChanges(this.CHANGE_FULL, true);\n        else\n            this.$loop.schedule(this.CHANGE_FULL);\n    };\n    this.updateFontSize = function () {\n        this.$textLayer.checkForSizeChanges();\n    };\n    this.$changes = 0;\n    this.$updateSizeAsync = function () {\n        if (this.$loop.pending)\n            this.$size.$dirty = true;\n        else\n            this.onResize();\n    };\n    this.onResize = function (force, gutterWidth, width, height) {\n        if (this.resizing > 2)\n            return;\n        else if (this.resizing > 0)\n            this.resizing++;\n        else\n            this.resizing = force ? 1 : 0;\n        var el = this.container;\n        if (!height)\n            height = el.clientHeight || el.scrollHeight;\n        if (!width)\n            width = el.clientWidth || el.scrollWidth;\n        var changes = this.$updateCachedSize(force, gutterWidth, width, height);\n        if (!this.$size.scrollerHeight || (!width && !height))\n            return this.resizing = 0;\n        if (force)\n            this.$gutterLayer.$padding = null;\n        if (force)\n            this.$renderChanges(changes | this.$changes, true);\n        else\n            this.$loop.schedule(changes | this.$changes);\n        if (this.resizing)\n            this.resizing = 0;\n        this.scrollBarH.scrollLeft = this.scrollBarV.scrollTop = null;\n        if (this.$customScrollbar) {\n            this.$updateCustomScrollbar(true);\n        }\n    };\n    this.$updateCachedSize = function (force, gutterWidth, width, height) {\n        height -= (this.$extraHeight || 0);\n        var changes = 0;\n        var size = this.$size;\n        var oldSize = {\n            width: size.width,\n            height: size.height,\n            scrollerHeight: size.scrollerHeight,\n            scrollerWidth: size.scrollerWidth\n        };\n        if (height && (force || size.height != height)) {\n            size.height = height;\n            changes |= this.CHANGE_SIZE;\n            size.scrollerHeight = size.height;\n            if (this.$horizScroll)\n                size.scrollerHeight -= this.scrollBarH.getHeight();\n            this.scrollBarV.setHeight(size.scrollerHeight);\n            this.scrollBarV.element.style.bottom = this.scrollBarH.getHeight() + \"px\";\n            changes = changes | this.CHANGE_SCROLL;\n        }\n        if (width && (force || size.width != width)) {\n            changes |= this.CHANGE_SIZE;\n            size.width = width;\n            if (gutterWidth == null)\n                gutterWidth = this.$showGutter ? this.$gutter.offsetWidth : 0;\n            this.gutterWidth = gutterWidth;\n            dom.setStyle(this.scrollBarH.element.style, \"left\", gutterWidth + \"px\");\n            dom.setStyle(this.scroller.style, \"left\", gutterWidth + this.margin.left + \"px\");\n            size.scrollerWidth = Math.max(0, width - gutterWidth - this.scrollBarV.getWidth() - this.margin.h);\n            dom.setStyle(this.$gutter.style, \"left\", this.margin.left + \"px\");\n            var right = this.scrollBarV.getWidth() + \"px\";\n            dom.setStyle(this.scrollBarH.element.style, \"right\", right);\n            dom.setStyle(this.scroller.style, \"right\", right);\n            dom.setStyle(this.scroller.style, \"bottom\", this.scrollBarH.getHeight());\n            this.scrollBarH.setWidth(size.scrollerWidth);\n            if (this.session && this.session.getUseWrapMode() && this.adjustWrapLimit() || force) {\n                changes |= this.CHANGE_FULL;\n            }\n        }\n        size.$dirty = !width || !height;\n        if (changes)\n            this._signal(\"resize\", oldSize);\n        return changes;\n    };\n    this.onGutterResize = function (width) {\n        var gutterWidth = this.$showGutter ? width : 0;\n        if (gutterWidth != this.gutterWidth)\n            this.$changes |= this.$updateCachedSize(true, gutterWidth, this.$size.width, this.$size.height);\n        if (this.session.getUseWrapMode() && this.adjustWrapLimit()) {\n            this.$loop.schedule(this.CHANGE_FULL);\n        }\n        else if (this.$size.$dirty) {\n            this.$loop.schedule(this.CHANGE_FULL);\n        }\n        else {\n            this.$computeLayerConfig();\n        }\n    };\n    this.adjustWrapLimit = function () {\n        var availableWidth = this.$size.scrollerWidth - this.$padding * 2;\n        var limit = Math.floor(availableWidth / this.characterWidth);\n        return this.session.adjustWrapLimit(limit, this.$showPrintMargin && this.$printMarginColumn);\n    };\n    this.setAnimatedScroll = function (shouldAnimate) {\n        this.setOption(\"animatedScroll\", shouldAnimate);\n    };\n    this.getAnimatedScroll = function () {\n        return this.$animatedScroll;\n    };\n    this.setShowInvisibles = function (showInvisibles) {\n        this.setOption(\"showInvisibles\", showInvisibles);\n        this.session.$bidiHandler.setShowInvisibles(showInvisibles);\n    };\n    this.getShowInvisibles = function () {\n        return this.getOption(\"showInvisibles\");\n    };\n    this.getDisplayIndentGuides = function () {\n        return this.getOption(\"displayIndentGuides\");\n    };\n    this.setDisplayIndentGuides = function (display) {\n        this.setOption(\"displayIndentGuides\", display);\n    };\n    this.getHighlightIndentGuides = function () {\n        return this.getOption(\"highlightIndentGuides\");\n    };\n    this.setHighlightIndentGuides = function (highlight) {\n        this.setOption(\"highlightIndentGuides\", highlight);\n    };\n    this.setShowPrintMargin = function (showPrintMargin) {\n        this.setOption(\"showPrintMargin\", showPrintMargin);\n    };\n    this.getShowPrintMargin = function () {\n        return this.getOption(\"showPrintMargin\");\n    };\n    this.setPrintMarginColumn = function (showPrintMargin) {\n        this.setOption(\"printMarginColumn\", showPrintMargin);\n    };\n    this.getPrintMarginColumn = function () {\n        return this.getOption(\"printMarginColumn\");\n    };\n    this.getShowGutter = function () {\n        return this.getOption(\"showGutter\");\n    };\n    this.setShowGutter = function (show) {\n        return this.setOption(\"showGutter\", show);\n    };\n    this.getFadeFoldWidgets = function () {\n        return this.getOption(\"fadeFoldWidgets\");\n    };\n    this.setFadeFoldWidgets = function (show) {\n        this.setOption(\"fadeFoldWidgets\", show);\n    };\n    this.setHighlightGutterLine = function (shouldHighlight) {\n        this.setOption(\"highlightGutterLine\", shouldHighlight);\n    };\n    this.getHighlightGutterLine = function () {\n        return this.getOption(\"highlightGutterLine\");\n    };\n    this.$updatePrintMargin = function () {\n        if (!this.$showPrintMargin && !this.$printMarginEl)\n            return;\n        if (!this.$printMarginEl) {\n            var containerEl = dom.createElement(\"div\");\n            containerEl.className = \"ace_layer ace_print-margin-layer\";\n            this.$printMarginEl = dom.createElement(\"div\");\n            this.$printMarginEl.className = \"ace_print-margin\";\n            containerEl.appendChild(this.$printMarginEl);\n            this.content.insertBefore(containerEl, this.content.firstChild);\n        }\n        var style = this.$printMarginEl.style;\n        style.left = Math.round(this.characterWidth * this.$printMarginColumn + this.$padding) + \"px\";\n        style.visibility = this.$showPrintMargin ? \"visible\" : \"hidden\";\n        if (this.session && this.session.$wrap == -1)\n            this.adjustWrapLimit();\n    };\n    this.getContainerElement = function () {\n        return this.container;\n    };\n    this.getMouseEventTarget = function () {\n        return this.scroller;\n    };\n    this.getTextAreaContainer = function () {\n        return this.container;\n    };\n    this.$moveTextAreaToCursor = function () {\n        if (this.$isMousePressed)\n            return;\n        var style = this.textarea.style;\n        var composition = this.$composition;\n        if (!this.$keepTextAreaAtCursor && !composition) {\n            dom.translate(this.textarea, -100, 0);\n            return;\n        }\n        var pixelPos = this.$cursorLayer.$pixelPos;\n        if (!pixelPos)\n            return;\n        if (composition && composition.markerRange)\n            pixelPos = this.$cursorLayer.getPixelPosition(composition.markerRange.start, true);\n        var config = this.layerConfig;\n        var posTop = pixelPos.top;\n        var posLeft = pixelPos.left;\n        posTop -= config.offset;\n        var h = composition && composition.useTextareaForIME ? this.lineHeight : HIDE_TEXTAREA ? 0 : 1;\n        if (posTop < 0 || posTop > config.height - h) {\n            dom.translate(this.textarea, 0, 0);\n            return;\n        }\n        var w = 1;\n        var maxTop = this.$size.height - h;\n        if (!composition) {\n            posTop += this.lineHeight;\n        }\n        else {\n            if (composition.useTextareaForIME) {\n                var val = this.textarea.value;\n                w = this.characterWidth * (this.session.$getStringScreenWidth(val)[0]);\n            }\n            else {\n                posTop += this.lineHeight + 2;\n            }\n        }\n        posLeft -= this.scrollLeft;\n        if (posLeft > this.$size.scrollerWidth - w)\n            posLeft = this.$size.scrollerWidth - w;\n        posLeft += this.gutterWidth + this.margin.left;\n        dom.setStyle(style, \"height\", h + \"px\");\n        dom.setStyle(style, \"width\", w + \"px\");\n        dom.translate(this.textarea, Math.min(posLeft, this.$size.scrollerWidth - w), Math.min(posTop, maxTop));\n    };\n    this.getFirstVisibleRow = function () {\n        return this.layerConfig.firstRow;\n    };\n    this.getFirstFullyVisibleRow = function () {\n        return this.layerConfig.firstRow + (this.layerConfig.offset === 0 ? 0 : 1);\n    };\n    this.getLastFullyVisibleRow = function () {\n        var config = this.layerConfig;\n        var lastRow = config.lastRow;\n        var top = this.session.documentToScreenRow(lastRow, 0) * config.lineHeight;\n        if (top - this.session.getScrollTop() > config.height - config.lineHeight)\n            return lastRow - 1;\n        return lastRow;\n    };\n    this.getLastVisibleRow = function () {\n        return this.layerConfig.lastRow;\n    };\n    this.$padding = null;\n    this.setPadding = function (padding) {\n        this.$padding = padding;\n        this.$textLayer.setPadding(padding);\n        this.$cursorLayer.setPadding(padding);\n        this.$markerFront.setPadding(padding);\n        this.$markerBack.setPadding(padding);\n        this.$loop.schedule(this.CHANGE_FULL);\n        this.$updatePrintMargin();\n    };\n    this.setScrollMargin = function (top, bottom, left, right) {\n        var sm = this.scrollMargin;\n        sm.top = top | 0;\n        sm.bottom = bottom | 0;\n        sm.right = right | 0;\n        sm.left = left | 0;\n        sm.v = sm.top + sm.bottom;\n        sm.h = sm.left + sm.right;\n        if (sm.top && this.scrollTop <= 0 && this.session)\n            this.session.setScrollTop(-sm.top);\n        this.updateFull();\n    };\n    this.setMargin = function (top, bottom, left, right) {\n        var sm = this.margin;\n        sm.top = top | 0;\n        sm.bottom = bottom | 0;\n        sm.right = right | 0;\n        sm.left = left | 0;\n        sm.v = sm.top + sm.bottom;\n        sm.h = sm.left + sm.right;\n        this.$updateCachedSize(true, this.gutterWidth, this.$size.width, this.$size.height);\n        this.updateFull();\n    };\n    this.getHScrollBarAlwaysVisible = function () {\n        return this.$hScrollBarAlwaysVisible;\n    };\n    this.setHScrollBarAlwaysVisible = function (alwaysVisible) {\n        this.setOption(\"hScrollBarAlwaysVisible\", alwaysVisible);\n    };\n    this.getVScrollBarAlwaysVisible = function () {\n        return this.$vScrollBarAlwaysVisible;\n    };\n    this.setVScrollBarAlwaysVisible = function (alwaysVisible) {\n        this.setOption(\"vScrollBarAlwaysVisible\", alwaysVisible);\n    };\n    this.$updateScrollBarV = function () {\n        var scrollHeight = this.layerConfig.maxHeight;\n        var scrollerHeight = this.$size.scrollerHeight;\n        if (!this.$maxLines && this.$scrollPastEnd) {\n            scrollHeight -= (scrollerHeight - this.lineHeight) * this.$scrollPastEnd;\n            if (this.scrollTop > scrollHeight - scrollerHeight) {\n                scrollHeight = this.scrollTop + scrollerHeight;\n                this.scrollBarV.scrollTop = null;\n            }\n        }\n        this.scrollBarV.setScrollHeight(scrollHeight + this.scrollMargin.v);\n        this.scrollBarV.setScrollTop(this.scrollTop + this.scrollMargin.top);\n    };\n    this.$updateScrollBarH = function () {\n        this.scrollBarH.setScrollWidth(this.layerConfig.width + 2 * this.$padding + this.scrollMargin.h);\n        this.scrollBarH.setScrollLeft(this.scrollLeft + this.scrollMargin.left);\n    };\n    this.$frozen = false;\n    this.freeze = function () {\n        this.$frozen = true;\n    };\n    this.unfreeze = function () {\n        this.$frozen = false;\n    };\n    this.$renderChanges = function (changes, force) {\n        if (this.$changes) {\n            changes |= this.$changes;\n            this.$changes = 0;\n        }\n        if ((!this.session || !this.container.offsetWidth || this.$frozen) || (!changes && !force)) {\n            this.$changes |= changes;\n            return;\n        }\n        if (this.$size.$dirty) {\n            this.$changes |= changes;\n            return this.onResize(true);\n        }\n        if (!this.lineHeight) {\n            this.$textLayer.checkForSizeChanges();\n        }\n        this._signal(\"beforeRender\", changes);\n        if (this.session && this.session.$bidiHandler)\n            this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);\n        var config = this.layerConfig;\n        if (changes & this.CHANGE_FULL ||\n            changes & this.CHANGE_SIZE ||\n            changes & this.CHANGE_TEXT ||\n            changes & this.CHANGE_LINES ||\n            changes & this.CHANGE_SCROLL ||\n            changes & this.CHANGE_H_SCROLL) {\n            changes |= this.$computeLayerConfig() | this.$loop.clear();\n            if (config.firstRow != this.layerConfig.firstRow && config.firstRowScreen == this.layerConfig.firstRowScreen) {\n                var st = this.scrollTop + (config.firstRow - this.layerConfig.firstRow) * this.lineHeight;\n                if (st > 0) {\n                    this.scrollTop = st;\n                    changes = changes | this.CHANGE_SCROLL;\n                    changes |= this.$computeLayerConfig() | this.$loop.clear();\n                }\n            }\n            config = this.layerConfig;\n            this.$updateScrollBarV();\n            if (changes & this.CHANGE_H_SCROLL)\n                this.$updateScrollBarH();\n            dom.translate(this.content, -this.scrollLeft, -config.offset);\n            var width = config.width + 2 * this.$padding + \"px\";\n            var height = config.minHeight + \"px\";\n            dom.setStyle(this.content.style, \"width\", width);\n            dom.setStyle(this.content.style, \"height\", height);\n        }\n        if (changes & this.CHANGE_H_SCROLL) {\n            dom.translate(this.content, -this.scrollLeft, -config.offset);\n            this.scroller.className = this.scrollLeft <= 0 ? \"ace_scroller\" : \"ace_scroller ace_scroll-left\";\n        }\n        if (changes & this.CHANGE_FULL) {\n            this.$changedLines = null;\n            this.$textLayer.update(config);\n            if (this.$showGutter)\n                this.$gutterLayer.update(config);\n            if (this.$customScrollbar) {\n                this.$scrollDecorator.$updateDecorators(config);\n            }\n            this.$markerBack.update(config);\n            this.$markerFront.update(config);\n            this.$cursorLayer.update(config);\n            this.$moveTextAreaToCursor();\n            this._signal(\"afterRender\", changes);\n            return;\n        }\n        if (changes & this.CHANGE_SCROLL) {\n            this.$changedLines = null;\n            if (changes & this.CHANGE_TEXT || changes & this.CHANGE_LINES)\n                this.$textLayer.update(config);\n            else\n                this.$textLayer.scrollLines(config);\n            if (this.$showGutter) {\n                if (changes & this.CHANGE_GUTTER || changes & this.CHANGE_LINES)\n                    this.$gutterLayer.update(config);\n                else\n                    this.$gutterLayer.scrollLines(config);\n            }\n            if (this.$customScrollbar) {\n                this.$scrollDecorator.$updateDecorators(config);\n            }\n            this.$markerBack.update(config);\n            this.$markerFront.update(config);\n            this.$cursorLayer.update(config);\n            this.$moveTextAreaToCursor();\n            this._signal(\"afterRender\", changes);\n            return;\n        }\n        if (changes & this.CHANGE_TEXT) {\n            this.$changedLines = null;\n            this.$textLayer.update(config);\n            if (this.$showGutter)\n                this.$gutterLayer.update(config);\n            if (this.$customScrollbar) {\n                this.$scrollDecorator.$updateDecorators(config);\n            }\n        }\n        else if (changes & this.CHANGE_LINES) {\n            if (this.$updateLines() || (changes & this.CHANGE_GUTTER) && this.$showGutter)\n                this.$gutterLayer.update(config);\n            if (this.$customScrollbar) {\n                this.$scrollDecorator.$updateDecorators(config);\n            }\n        }\n        else if (changes & this.CHANGE_TEXT || changes & this.CHANGE_GUTTER) {\n            if (this.$showGutter)\n                this.$gutterLayer.update(config);\n            if (this.$customScrollbar) {\n                this.$scrollDecorator.$updateDecorators(config);\n            }\n        }\n        else if (changes & this.CHANGE_CURSOR) {\n            if (this.$highlightGutterLine)\n                this.$gutterLayer.updateLineHighlight(config);\n            if (this.$customScrollbar) {\n                this.$scrollDecorator.$updateDecorators(config);\n            }\n        }\n        if (changes & this.CHANGE_CURSOR) {\n            this.$cursorLayer.update(config);\n            this.$moveTextAreaToCursor();\n        }\n        if (changes & (this.CHANGE_MARKER | this.CHANGE_MARKER_FRONT)) {\n            this.$markerFront.update(config);\n        }\n        if (changes & (this.CHANGE_MARKER | this.CHANGE_MARKER_BACK)) {\n            this.$markerBack.update(config);\n        }\n        this._signal(\"afterRender\", changes);\n    };\n    this.$autosize = function () {\n        var height = this.session.getScreenLength() * this.lineHeight;\n        var maxHeight = this.$maxLines * this.lineHeight;\n        var desiredHeight = Math.min(maxHeight, Math.max((this.$minLines || 1) * this.lineHeight, height)) + this.scrollMargin.v + (this.$extraHeight || 0);\n        if (this.$horizScroll)\n            desiredHeight += this.scrollBarH.getHeight();\n        if (this.$maxPixelHeight && desiredHeight > this.$maxPixelHeight)\n            desiredHeight = this.$maxPixelHeight;\n        var hideScrollbars = desiredHeight <= 2 * this.lineHeight;\n        var vScroll = !hideScrollbars && height > maxHeight;\n        if (desiredHeight != this.desiredHeight ||\n            this.$size.height != this.desiredHeight || vScroll != this.$vScroll) {\n            if (vScroll != this.$vScroll) {\n                this.$vScroll = vScroll;\n                this.scrollBarV.setVisible(vScroll);\n            }\n            var w = this.container.clientWidth;\n            this.container.style.height = desiredHeight + \"px\";\n            this.$updateCachedSize(true, this.$gutterWidth, w, desiredHeight);\n            this.desiredHeight = desiredHeight;\n            this._signal(\"autosize\");\n        }\n    };\n    this.$computeLayerConfig = function () {\n        var session = this.session;\n        var size = this.$size;\n        var hideScrollbars = size.height <= 2 * this.lineHeight;\n        var screenLines = this.session.getScreenLength();\n        var maxHeight = screenLines * this.lineHeight;\n        var longestLine = this.$getLongestLine();\n        var horizScroll = !hideScrollbars && (this.$hScrollBarAlwaysVisible ||\n            size.scrollerWidth - longestLine - 2 * this.$padding < 0);\n        var hScrollChanged = this.$horizScroll !== horizScroll;\n        if (hScrollChanged) {\n            this.$horizScroll = horizScroll;\n            this.scrollBarH.setVisible(horizScroll);\n        }\n        var vScrollBefore = this.$vScroll; // autosize can change vscroll value in which case we need to update longestLine\n        if (this.$maxLines && this.lineHeight > 1)\n            this.$autosize();\n        var minHeight = size.scrollerHeight + this.lineHeight;\n        var scrollPastEnd = !this.$maxLines && this.$scrollPastEnd\n            ? (size.scrollerHeight - this.lineHeight) * this.$scrollPastEnd\n            : 0;\n        maxHeight += scrollPastEnd;\n        var sm = this.scrollMargin;\n        this.session.setScrollTop(Math.max(-sm.top, Math.min(this.scrollTop, maxHeight - size.scrollerHeight + sm.bottom)));\n        this.session.setScrollLeft(Math.max(-sm.left, Math.min(this.scrollLeft, longestLine + 2 * this.$padding - size.scrollerWidth + sm.right)));\n        var vScroll = !hideScrollbars && (this.$vScrollBarAlwaysVisible ||\n            size.scrollerHeight - maxHeight + scrollPastEnd < 0 || this.scrollTop > sm.top);\n        var vScrollChanged = vScrollBefore !== vScroll;\n        if (vScrollChanged) {\n            this.$vScroll = vScroll;\n            this.scrollBarV.setVisible(vScroll);\n        }\n        var offset = this.scrollTop % this.lineHeight;\n        var lineCount = Math.ceil(minHeight / this.lineHeight) - 1;\n        var firstRow = Math.max(0, Math.round((this.scrollTop - offset) / this.lineHeight));\n        var lastRow = firstRow + lineCount;\n        var firstRowScreen, firstRowHeight;\n        var lineHeight = this.lineHeight;\n        firstRow = session.screenToDocumentRow(firstRow, 0);\n        var foldLine = session.getFoldLine(firstRow);\n        if (foldLine) {\n            firstRow = foldLine.start.row;\n        }\n        firstRowScreen = session.documentToScreenRow(firstRow, 0);\n        firstRowHeight = session.getRowLength(firstRow) * lineHeight;\n        lastRow = Math.min(session.screenToDocumentRow(lastRow, 0), session.getLength() - 1);\n        minHeight = size.scrollerHeight + session.getRowLength(lastRow) * lineHeight +\n            firstRowHeight;\n        offset = this.scrollTop - firstRowScreen * lineHeight;\n        var changes = 0;\n        if (this.layerConfig.width != longestLine || hScrollChanged)\n            changes = this.CHANGE_H_SCROLL;\n        if (hScrollChanged || vScrollChanged) {\n            changes |= this.$updateCachedSize(true, this.gutterWidth, size.width, size.height);\n            this._signal(\"scrollbarVisibilityChanged\");\n            if (vScrollChanged)\n                longestLine = this.$getLongestLine();\n        }\n        this.layerConfig = {\n            width: longestLine,\n            padding: this.$padding,\n            firstRow: firstRow,\n            firstRowScreen: firstRowScreen,\n            lastRow: lastRow,\n            lineHeight: lineHeight,\n            characterWidth: this.characterWidth,\n            minHeight: minHeight,\n            maxHeight: maxHeight,\n            offset: offset,\n            gutterOffset: lineHeight ? Math.max(0, Math.ceil((offset + size.height - size.scrollerHeight) / lineHeight)) : 0,\n            height: this.$size.scrollerHeight\n        };\n        if (this.session.$bidiHandler)\n            this.session.$bidiHandler.setContentWidth(longestLine - this.$padding);\n        return changes;\n    };\n    this.$updateLines = function () {\n        if (!this.$changedLines)\n            return;\n        var firstRow = this.$changedLines.firstRow;\n        var lastRow = this.$changedLines.lastRow;\n        this.$changedLines = null;\n        var layerConfig = this.layerConfig;\n        if (firstRow > layerConfig.lastRow + 1) {\n            return;\n        }\n        if (lastRow < layerConfig.firstRow) {\n            return;\n        }\n        if (lastRow === Infinity) {\n            if (this.$showGutter)\n                this.$gutterLayer.update(layerConfig);\n            this.$textLayer.update(layerConfig);\n            return;\n        }\n        this.$textLayer.updateLines(layerConfig, firstRow, lastRow);\n        return true;\n    };\n    this.$getLongestLine = function () {\n        var charCount = this.session.getScreenWidth();\n        if (this.showInvisibles && !this.session.$useWrapMode)\n            charCount += 1;\n        if (this.$textLayer && charCount > this.$textLayer.MAX_LINE_LENGTH)\n            charCount = this.$textLayer.MAX_LINE_LENGTH + 30;\n        return Math.max(this.$size.scrollerWidth - 2 * this.$padding, Math.round(charCount * this.characterWidth));\n    };\n    this.updateFrontMarkers = function () {\n        this.$markerFront.setMarkers(this.session.getMarkers(true));\n        this.$loop.schedule(this.CHANGE_MARKER_FRONT);\n    };\n    this.updateBackMarkers = function () {\n        this.$markerBack.setMarkers(this.session.getMarkers());\n        this.$loop.schedule(this.CHANGE_MARKER_BACK);\n    };\n    this.addGutterDecoration = function (row, className) {\n        this.$gutterLayer.addGutterDecoration(row, className);\n    };\n    this.removeGutterDecoration = function (row, className) {\n        this.$gutterLayer.removeGutterDecoration(row, className);\n    };\n    this.updateBreakpoints = function (rows) {\n        this.$loop.schedule(this.CHANGE_GUTTER);\n    };\n    this.setAnnotations = function (annotations) {\n        this.$gutterLayer.setAnnotations(annotations);\n        this.$loop.schedule(this.CHANGE_GUTTER);\n    };\n    this.updateCursor = function () {\n        this.$loop.schedule(this.CHANGE_CURSOR);\n    };\n    this.hideCursor = function () {\n        this.$cursorLayer.hideCursor();\n    };\n    this.showCursor = function () {\n        this.$cursorLayer.showCursor();\n    };\n    this.scrollSelectionIntoView = function (anchor, lead, offset) {\n        this.scrollCursorIntoView(anchor, offset);\n        this.scrollCursorIntoView(lead, offset);\n    };\n    this.scrollCursorIntoView = function (cursor, offset, $viewMargin) {\n        if (this.$size.scrollerHeight === 0)\n            return;\n        var pos = this.$cursorLayer.getPixelPosition(cursor);\n        var newLeft = pos.left;\n        var newTop = pos.top;\n        var topMargin = $viewMargin && $viewMargin.top || 0;\n        var bottomMargin = $viewMargin && $viewMargin.bottom || 0;\n        if (this.$scrollAnimation) {\n            this.$stopAnimation = true;\n        }\n        var currentTop = this.$scrollAnimation ? this.session.getScrollTop() : this.scrollTop;\n        if (currentTop + topMargin > newTop) {\n            if (offset && currentTop + topMargin > newTop + this.lineHeight)\n                newTop -= offset * this.$size.scrollerHeight;\n            if (newTop === 0)\n                newTop = -this.scrollMargin.top;\n            this.session.setScrollTop(newTop);\n        }\n        else if (currentTop + this.$size.scrollerHeight - bottomMargin < newTop + this.lineHeight) {\n            if (offset && currentTop + this.$size.scrollerHeight - bottomMargin < newTop - this.lineHeight)\n                newTop += offset * this.$size.scrollerHeight;\n            this.session.setScrollTop(newTop + this.lineHeight + bottomMargin - this.$size.scrollerHeight);\n        }\n        var currentLeft = this.scrollLeft;\n        var twoCharsWidth = 2 * this.layerConfig.characterWidth;\n        if (newLeft - twoCharsWidth < currentLeft) {\n            newLeft -= twoCharsWidth;\n            if (newLeft < this.$padding + twoCharsWidth) {\n                newLeft = -this.scrollMargin.left;\n            }\n            this.session.setScrollLeft(newLeft);\n        }\n        else {\n            newLeft += twoCharsWidth;\n            if (currentLeft + this.$size.scrollerWidth < newLeft + this.characterWidth) {\n                this.session.setScrollLeft(Math.round(newLeft + this.characterWidth - this.$size.scrollerWidth));\n            }\n            else if (currentLeft <= this.$padding && newLeft - currentLeft < this.characterWidth) {\n                this.session.setScrollLeft(0);\n            }\n        }\n    };\n    this.getScrollTop = function () {\n        return this.session.getScrollTop();\n    };\n    this.getScrollLeft = function () {\n        return this.session.getScrollLeft();\n    };\n    this.getScrollTopRow = function () {\n        return this.scrollTop / this.lineHeight;\n    };\n    this.getScrollBottomRow = function () {\n        return Math.max(0, Math.floor((this.scrollTop + this.$size.scrollerHeight) / this.lineHeight) - 1);\n    };\n    this.scrollToRow = function (row) {\n        this.session.setScrollTop(row * this.lineHeight);\n    };\n    this.alignCursor = function (cursor, alignment) {\n        if (typeof cursor == \"number\")\n            cursor = { row: cursor, column: 0 };\n        var pos = this.$cursorLayer.getPixelPosition(cursor);\n        var h = this.$size.scrollerHeight - this.lineHeight;\n        var offset = pos.top - h * (alignment || 0);\n        this.session.setScrollTop(offset);\n        return offset;\n    };\n    this.STEPS = 8;\n    this.$calcSteps = function (fromValue, toValue) {\n        var i = 0;\n        var l = this.STEPS;\n        var steps = [];\n        var func = function (t, x_min, dx) {\n            return dx * (Math.pow(t - 1, 3) + 1) + x_min;\n        };\n        for (i = 0; i < l; ++i)\n            steps.push(func(i / this.STEPS, fromValue, toValue - fromValue));\n        return steps;\n    };\n    this.scrollToLine = function (line, center, animate, callback) {\n        var pos = this.$cursorLayer.getPixelPosition({ row: line, column: 0 });\n        var offset = pos.top;\n        if (center)\n            offset -= this.$size.scrollerHeight / 2;\n        var initialScroll = this.scrollTop;\n        this.session.setScrollTop(offset);\n        if (animate !== false)\n            this.animateScrolling(initialScroll, callback);\n    };\n    this.animateScrolling = function (fromValue, callback) {\n        var toValue = this.scrollTop;\n        if (!this.$animatedScroll)\n            return;\n        var _self = this;\n        if (fromValue == toValue)\n            return;\n        if (this.$scrollAnimation) {\n            var oldSteps = this.$scrollAnimation.steps;\n            if (oldSteps.length) {\n                fromValue = oldSteps[0];\n                if (fromValue == toValue)\n                    return;\n            }\n        }\n        var steps = _self.$calcSteps(fromValue, toValue);\n        this.$scrollAnimation = { from: fromValue, to: toValue, steps: steps };\n        clearInterval(this.$timer);\n        _self.session.setScrollTop(steps.shift());\n        _self.session.$scrollTop = toValue;\n        function endAnimation() {\n            _self.$timer = clearInterval(_self.$timer);\n            _self.$scrollAnimation = null;\n            _self.$stopAnimation = false;\n            callback && callback();\n        }\n        this.$timer = setInterval(function () {\n            if (_self.$stopAnimation) {\n                endAnimation();\n                return;\n            }\n            if (!_self.session)\n                return clearInterval(_self.$timer);\n            if (steps.length) {\n                _self.session.setScrollTop(steps.shift());\n                _self.session.$scrollTop = toValue;\n            }\n            else if (toValue != null) {\n                _self.session.$scrollTop = -1;\n                _self.session.setScrollTop(toValue);\n                toValue = null;\n            }\n            else {\n                endAnimation();\n            }\n        }, 10);\n    };\n    this.scrollToY = function (scrollTop) {\n        if (this.scrollTop !== scrollTop) {\n            this.$loop.schedule(this.CHANGE_SCROLL);\n            this.scrollTop = scrollTop;\n        }\n    };\n    this.scrollToX = function (scrollLeft) {\n        if (this.scrollLeft !== scrollLeft)\n            this.scrollLeft = scrollLeft;\n        this.$loop.schedule(this.CHANGE_H_SCROLL);\n    };\n    this.scrollTo = function (x, y) {\n        this.session.setScrollTop(y);\n        this.session.setScrollLeft(x);\n    };\n    this.scrollBy = function (deltaX, deltaY) {\n        deltaY && this.session.setScrollTop(this.session.getScrollTop() + deltaY);\n        deltaX && this.session.setScrollLeft(this.session.getScrollLeft() + deltaX);\n    };\n    this.isScrollableBy = function (deltaX, deltaY) {\n        if (deltaY < 0 && this.session.getScrollTop() >= 1 - this.scrollMargin.top)\n            return true;\n        if (deltaY > 0 && this.session.getScrollTop() + this.$size.scrollerHeight\n            - this.layerConfig.maxHeight < -1 + this.scrollMargin.bottom)\n            return true;\n        if (deltaX < 0 && this.session.getScrollLeft() >= 1 - this.scrollMargin.left)\n            return true;\n        if (deltaX > 0 && this.session.getScrollLeft() + this.$size.scrollerWidth\n            - this.layerConfig.width < -1 + this.scrollMargin.right)\n            return true;\n    };\n    this.pixelToScreenCoordinates = function (x, y) {\n        var canvasPos;\n        if (this.$hasCssTransforms) {\n            canvasPos = { top: 0, left: 0 };\n            var p = this.$fontMetrics.transformCoordinates([x, y]);\n            x = p[1] - this.gutterWidth - this.margin.left;\n            y = p[0];\n        }\n        else {\n            canvasPos = this.scroller.getBoundingClientRect();\n        }\n        var offsetX = x + this.scrollLeft - canvasPos.left - this.$padding;\n        var offset = offsetX / this.characterWidth;\n        var row = Math.floor((y + this.scrollTop - canvasPos.top) / this.lineHeight);\n        var col = this.$blockCursor ? Math.floor(offset) : Math.round(offset);\n        return { row: row, column: col, side: offset - col > 0 ? 1 : -1, offsetX: offsetX };\n    };\n    this.screenToTextCoordinates = function (x, y) {\n        var canvasPos;\n        if (this.$hasCssTransforms) {\n            canvasPos = { top: 0, left: 0 };\n            var p = this.$fontMetrics.transformCoordinates([x, y]);\n            x = p[1] - this.gutterWidth - this.margin.left;\n            y = p[0];\n        }\n        else {\n            canvasPos = this.scroller.getBoundingClientRect();\n        }\n        var offsetX = x + this.scrollLeft - canvasPos.left - this.$padding;\n        var offset = offsetX / this.characterWidth;\n        var col = this.$blockCursor ? Math.floor(offset) : Math.round(offset);\n        var row = Math.floor((y + this.scrollTop - canvasPos.top) / this.lineHeight);\n        return this.session.screenToDocumentPosition(row, Math.max(col, 0), offsetX);\n    };\n    this.textToScreenCoordinates = function (row, column) {\n        var canvasPos = this.scroller.getBoundingClientRect();\n        var pos = this.session.documentToScreenPosition(row, column);\n        var x = this.$padding + (this.session.$bidiHandler.isBidiRow(pos.row, row)\n            ? this.session.$bidiHandler.getPosLeft(pos.column)\n            : Math.round(pos.column * this.characterWidth));\n        var y = pos.row * this.lineHeight;\n        return {\n            pageX: canvasPos.left + x - this.scrollLeft,\n            pageY: canvasPos.top + y - this.scrollTop\n        };\n    };\n    this.visualizeFocus = function () {\n        dom.addCssClass(this.container, \"ace_focus\");\n    };\n    this.visualizeBlur = function () {\n        dom.removeCssClass(this.container, \"ace_focus\");\n    };\n    this.showComposition = function (composition) {\n        this.$composition = composition;\n        if (!composition.cssText) {\n            composition.cssText = this.textarea.style.cssText;\n        }\n        if (composition.useTextareaForIME == undefined)\n            composition.useTextareaForIME = this.$useTextareaForIME;\n        if (this.$useTextareaForIME) {\n            dom.addCssClass(this.textarea, \"ace_composition\");\n            this.textarea.style.cssText = \"\";\n            this.$moveTextAreaToCursor();\n            this.$cursorLayer.element.style.display = \"none\";\n        }\n        else {\n            composition.markerId = this.session.addMarker(composition.markerRange, \"ace_composition_marker\", \"text\");\n        }\n    };\n    this.setCompositionText = function (text) {\n        var cursor = this.session.selection.cursor;\n        this.addToken(text, \"composition_placeholder\", cursor.row, cursor.column);\n        this.$moveTextAreaToCursor();\n    };\n    this.hideComposition = function () {\n        if (!this.$composition)\n            return;\n        if (this.$composition.markerId)\n            this.session.removeMarker(this.$composition.markerId);\n        dom.removeCssClass(this.textarea, \"ace_composition\");\n        this.textarea.style.cssText = this.$composition.cssText;\n        var cursor = this.session.selection.cursor;\n        this.removeExtraToken(cursor.row, cursor.column);\n        this.$composition = null;\n        this.$cursorLayer.element.style.display = \"\";\n    };\n    this.setGhostText = function (text, position) {\n        var cursor = this.session.selection.cursor;\n        var insertPosition = position || { row: cursor.row, column: cursor.column };\n        this.removeGhostText();\n        var textLines = text.split(\"\\n\");\n        this.addToken(textLines[0], \"ghost_text\", insertPosition.row, insertPosition.column);\n        this.$ghostText = {\n            text: text,\n            position: {\n                row: insertPosition.row,\n                column: insertPosition.column\n            }\n        };\n        if (textLines.length > 1) {\n            this.$ghostTextWidget = {\n                text: textLines.slice(1).join(\"\\n\"),\n                row: insertPosition.row,\n                column: insertPosition.column,\n                className: \"ace_ghost_text\"\n            };\n            this.session.widgetManager.addLineWidget(this.$ghostTextWidget);\n        }\n    };\n    this.removeGhostText = function () {\n        if (!this.$ghostText)\n            return;\n        var position = this.$ghostText.position;\n        this.removeExtraToken(position.row, position.column);\n        if (this.$ghostTextWidget) {\n            this.session.widgetManager.removeLineWidget(this.$ghostTextWidget);\n            this.$ghostTextWidget = null;\n        }\n        this.$ghostText = null;\n    };\n    this.addToken = function (text, type, row, column) {\n        var session = this.session;\n        session.bgTokenizer.lines[row] = null;\n        var newToken = { type: type, value: text };\n        var tokens = session.getTokens(row);\n        if (column == null || !tokens.length) {\n            tokens.push(newToken);\n        }\n        else {\n            var l = 0;\n            for (var i = 0; i < tokens.length; i++) {\n                var token = tokens[i];\n                l += token.value.length;\n                if (column <= l) {\n                    var diff = token.value.length - (l - column);\n                    var before = token.value.slice(0, diff);\n                    var after = token.value.slice(diff);\n                    tokens.splice(i, 1, { type: token.type, value: before }, newToken, { type: token.type, value: after });\n                    break;\n                }\n            }\n        }\n        this.updateLines(row, row);\n    };\n    this.removeExtraToken = function (row, column) {\n        this.session.bgTokenizer.lines[row] = null;\n        this.updateLines(row, row);\n    };\n    this.setTheme = function (theme, cb) {\n        var _self = this;\n        this.$themeId = theme;\n        _self._dispatchEvent('themeChange', { theme: theme });\n        if (!theme || typeof theme == \"string\") {\n            var moduleName = theme || this.$options.theme.initialValue;\n            config.loadModule([\"theme\", moduleName], afterLoad);\n        }\n        else {\n            afterLoad(theme);\n        }\n        function afterLoad(module) {\n            if (_self.$themeId != theme)\n                return cb && cb();\n            if (!module || !module.cssClass)\n                throw new Error(\"couldn't load module \" + theme + \" or it didn't call define\");\n            if (module.$id)\n                _self.$themeId = module.$id;\n            dom.importCssString(module.cssText, module.cssClass, _self.container);\n            if (_self.theme)\n                dom.removeCssClass(_self.container, _self.theme.cssClass);\n            var padding = \"padding\" in module ? module.padding\n                : \"padding\" in (_self.theme || {}) ? 4 : _self.$padding;\n            if (_self.$padding && padding != _self.$padding)\n                _self.setPadding(padding);\n            _self.$theme = module.cssClass;\n            _self.theme = module;\n            dom.addCssClass(_self.container, module.cssClass);\n            dom.setCssClass(_self.container, \"ace_dark\", module.isDark);\n            if (_self.$size) {\n                _self.$size.width = 0;\n                _self.$updateSizeAsync();\n            }\n            _self._dispatchEvent('themeLoaded', { theme: module });\n            cb && cb();\n        }\n    };\n    this.getTheme = function () {\n        return this.$themeId;\n    };\n    this.setStyle = function (style, include) {\n        dom.setCssClass(this.container, style, include !== false);\n    };\n    this.unsetStyle = function (style) {\n        dom.removeCssClass(this.container, style);\n    };\n    this.setCursorStyle = function (style) {\n        dom.setStyle(this.scroller.style, \"cursor\", style);\n    };\n    this.setMouseCursor = function (cursorStyle) {\n        dom.setStyle(this.scroller.style, \"cursor\", cursorStyle);\n    };\n    this.attachToShadowRoot = function () {\n        dom.importCssString(editorCss, \"ace_editor.css\", this.container);\n    };\n    this.destroy = function () {\n        this.freeze();\n        this.$fontMetrics.destroy();\n        this.$cursorLayer.destroy();\n        this.removeAllListeners();\n        this.container.textContent = \"\";\n    };\n    this.$updateCustomScrollbar = function (val) {\n        var _self = this;\n        this.$horizScroll = this.$vScroll = null;\n        this.scrollBarV.element.remove();\n        this.scrollBarH.element.remove();\n        if (this.$scrollDecorator) {\n            delete this.$scrollDecorator;\n        }\n        if (val === true) {\n            this.scrollBarV = new VScrollBarCustom(this.container, this);\n            this.scrollBarH = new HScrollBarCustom(this.container, this);\n            this.scrollBarV.setHeight(this.$size.scrollerHeight);\n            this.scrollBarH.setWidth(this.$size.scrollerWidth);\n            this.scrollBarV.addEventListener(\"scroll\", function (e) {\n                if (!_self.$scrollAnimation)\n                    _self.session.setScrollTop(e.data - _self.scrollMargin.top);\n            });\n            this.scrollBarH.addEventListener(\"scroll\", function (e) {\n                if (!_self.$scrollAnimation)\n                    _self.session.setScrollLeft(e.data - _self.scrollMargin.left);\n            });\n            this.$scrollDecorator = new Decorator(this.scrollBarV, this);\n            this.$scrollDecorator.$updateDecorators();\n        }\n        else {\n            this.scrollBarV = new VScrollBar(this.container, this);\n            this.scrollBarH = new HScrollBar(this.container, this);\n            this.scrollBarV.addEventListener(\"scroll\", function (e) {\n                if (!_self.$scrollAnimation)\n                    _self.session.setScrollTop(e.data - _self.scrollMargin.top);\n            });\n            this.scrollBarH.addEventListener(\"scroll\", function (e) {\n                if (!_self.$scrollAnimation)\n                    _self.session.setScrollLeft(e.data - _self.scrollMargin.left);\n            });\n        }\n    };\n}).call(VirtualRenderer.prototype);\nconfig.defineOptions(VirtualRenderer.prototype, \"renderer\", {\n    animatedScroll: { initialValue: false },\n    showInvisibles: {\n        set: function (value) {\n            if (this.$textLayer.setShowInvisibles(value))\n                this.$loop.schedule(this.CHANGE_TEXT);\n        },\n        initialValue: false\n    },\n    showPrintMargin: {\n        set: function () { this.$updatePrintMargin(); },\n        initialValue: true\n    },\n    printMarginColumn: {\n        set: function () { this.$updatePrintMargin(); },\n        initialValue: 80\n    },\n    printMargin: {\n        set: function (val) {\n            if (typeof val == \"number\")\n                this.$printMarginColumn = val;\n            this.$showPrintMargin = !!val;\n            this.$updatePrintMargin();\n        },\n        get: function () {\n            return this.$showPrintMargin && this.$printMarginColumn;\n        }\n    },\n    showGutter: {\n        set: function (show) {\n            this.$gutter.style.display = show ? \"block\" : \"none\";\n            this.$loop.schedule(this.CHANGE_FULL);\n            this.onGutterResize();\n        },\n        initialValue: true\n    },\n    fadeFoldWidgets: {\n        set: function (show) {\n            dom.setCssClass(this.$gutter, \"ace_fade-fold-widgets\", show);\n        },\n        initialValue: false\n    },\n    showFoldWidgets: {\n        set: function (show) {\n            this.$gutterLayer.setShowFoldWidgets(show);\n            this.$loop.schedule(this.CHANGE_GUTTER);\n        },\n        initialValue: true\n    },\n    displayIndentGuides: {\n        set: function (show) {\n            if (this.$textLayer.setDisplayIndentGuides(show))\n                this.$loop.schedule(this.CHANGE_TEXT);\n        },\n        initialValue: true\n    },\n    highlightIndentGuides: {\n        set: function (show) {\n            if (this.$textLayer.setHighlightIndentGuides(show) == true) {\n                this.$textLayer.$highlightIndentGuide();\n            }\n            else {\n                this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells);\n            }\n        },\n        initialValue: true\n    },\n    highlightGutterLine: {\n        set: function (shouldHighlight) {\n            this.$gutterLayer.setHighlightGutterLine(shouldHighlight);\n            this.$loop.schedule(this.CHANGE_GUTTER);\n        },\n        initialValue: true\n    },\n    hScrollBarAlwaysVisible: {\n        set: function (val) {\n            if (!this.$hScrollBarAlwaysVisible || !this.$horizScroll)\n                this.$loop.schedule(this.CHANGE_SCROLL);\n        },\n        initialValue: false\n    },\n    vScrollBarAlwaysVisible: {\n        set: function (val) {\n            if (!this.$vScrollBarAlwaysVisible || !this.$vScroll)\n                this.$loop.schedule(this.CHANGE_SCROLL);\n        },\n        initialValue: false\n    },\n    fontSize: {\n        set: function (size) {\n            if (typeof size == \"number\")\n                size = size + \"px\";\n            this.container.style.fontSize = size;\n            this.updateFontSize();\n        },\n        initialValue: 12\n    },\n    fontFamily: {\n        set: function (name) {\n            this.container.style.fontFamily = name;\n            this.updateFontSize();\n        }\n    },\n    maxLines: {\n        set: function (val) {\n            this.updateFull();\n        }\n    },\n    minLines: {\n        set: function (val) {\n            if (!(this.$minLines < 0x1ffffffffffff))\n                this.$minLines = 0;\n            this.updateFull();\n        }\n    },\n    maxPixelHeight: {\n        set: function (val) {\n            this.updateFull();\n        },\n        initialValue: 0\n    },\n    scrollPastEnd: {\n        set: function (val) {\n            val = +val || 0;\n            if (this.$scrollPastEnd == val)\n                return;\n            this.$scrollPastEnd = val;\n            this.$loop.schedule(this.CHANGE_SCROLL);\n        },\n        initialValue: 0,\n        handlesSet: true\n    },\n    fixedWidthGutter: {\n        set: function (val) {\n            this.$gutterLayer.$fixedWidth = !!val;\n            this.$loop.schedule(this.CHANGE_GUTTER);\n        }\n    },\n    customScrollbar: {\n        set: function (val) {\n            this.$updateCustomScrollbar(val);\n        },\n        initialValue: false\n    },\n    theme: {\n        set: function (val) { this.setTheme(val); },\n        get: function () { return this.$themeId || this.theme; },\n        initialValue: \"./theme/textmate\",\n        handlesSet: true\n    },\n    hasCssTransforms: {},\n    useTextareaForIME: {\n        initialValue: !useragent.isMobile && !useragent.isIE\n    }\n});\nexports.VirtualRenderer = VirtualRenderer;\n\n});\n\nace.define(\"ace/worker/worker_client\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/net\",\"ace/lib/event_emitter\",\"ace/config\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../lib/oop\");\nvar net = require(\"../lib/net\");\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\nvar config = require(\"../config\");\n\nfunction $workerBlob(workerUrl) {\n    var script = \"importScripts('\" + net.qualifyURL(workerUrl) + \"');\";\n    try {\n        return new Blob([script], {\"type\": \"application/javascript\"});\n    } catch (e) { // Backwards-compatibility\n        var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder;\n        var blobBuilder = new BlobBuilder();\n        blobBuilder.append(script);\n        return blobBuilder.getBlob(\"application/javascript\");\n    }\n}\n\nfunction createWorker(workerUrl) {\n    if (typeof Worker == \"undefined\")\n        return { postMessage: function() {}, terminate: function() {} };\n    if (config.get(\"loadWorkerFromBlob\")) {\n        var blob = $workerBlob(workerUrl);\n        var URL = window.URL || window.webkitURL;\n        var blobURL = URL.createObjectURL(blob);\n        return new Worker(blobURL);\n    }\n    return new Worker(workerUrl);\n}\n\nvar WorkerClient = function(worker) {\n    if (!worker.postMessage)\n        worker = this.$createWorkerFromOldConfig.apply(this, arguments);\n\n    this.$worker = worker;\n    this.$sendDeltaQueue = this.$sendDeltaQueue.bind(this);\n    this.changeListener = this.changeListener.bind(this);\n    this.onMessage = this.onMessage.bind(this);\n\n    this.callbackId = 1;\n    this.callbacks = {};\n\n    this.$worker.onmessage = this.onMessage;\n};\n\n(function(){\n\n    oop.implement(this, EventEmitter);\n\n    this.$createWorkerFromOldConfig = function(topLevelNamespaces, mod, classname, workerUrl, importScripts) {\n        if (require.nameToUrl && !require.toUrl)\n            require.toUrl = require.nameToUrl;\n\n        if (config.get(\"packaged\") || !require.toUrl) {\n            workerUrl = workerUrl || config.moduleUrl(mod, \"worker\");\n        } else {\n            var normalizePath = this.$normalizePath;\n            workerUrl = workerUrl || normalizePath(require.toUrl(\"ace/worker/worker.js\", null, \"_\"));\n\n            var tlns = {};\n            topLevelNamespaces.forEach(function(ns) {\n                tlns[ns] = normalizePath(require.toUrl(ns, null, \"_\").replace(/(\\.js)?(\\?.*)?$/, \"\"));\n            });\n        }\n\n        this.$worker = createWorker(workerUrl);\n        if (importScripts) {\n            this.send(\"importScripts\", importScripts);\n        }\n        this.$worker.postMessage({\n            init : true,\n            tlns : tlns,\n            module : mod,\n            classname : classname\n        });\n        return this.$worker;\n    };\n\n    this.onMessage = function(e) {\n        var msg = e.data;\n        switch (msg.type) {\n            case \"event\":\n                this._signal(msg.name, {data: msg.data});\n                break;\n            case \"call\":\n                var callback = this.callbacks[msg.id];\n                if (callback) {\n                    callback(msg.data);\n                    delete this.callbacks[msg.id];\n                }\n                break;\n            case \"error\":\n                this.reportError(msg.data);\n                break;\n            case \"log\":\n                window.console && console.log && console.log.apply(console, msg.data);\n                break;\n        }\n    };\n    \n    this.reportError = function(err) {\n        window.console && console.error && console.error(err);\n    };\n\n    this.$normalizePath = function(path) {\n        return net.qualifyURL(path);\n    };\n\n    this.terminate = function() {\n        this._signal(\"terminate\", {});\n        this.deltaQueue = null;\n        this.$worker.terminate();\n        this.$worker = null;\n        if (this.$doc)\n            this.$doc.off(\"change\", this.changeListener);\n        this.$doc = null;\n    };\n\n    this.send = function(cmd, args) {\n        this.$worker.postMessage({command: cmd, args: args});\n    };\n\n    this.call = function(cmd, args, callback) {\n        if (callback) {\n            var id = this.callbackId++;\n            this.callbacks[id] = callback;\n            args.push(id);\n        }\n        this.send(cmd, args);\n    };\n\n    this.emit = function(event, data) {\n        try {\n            if (data.data && data.data.err)\n                data.data.err = {message: data.data.err.message, stack: data.data.err.stack, code: data.data.err.code};\n                this.$worker && this.$worker.postMessage({event: event, data: {data: data.data}});\n        }\n        catch(ex) {\n            console.error(ex.stack);\n        }\n    };\n\n    this.attachToDocument = function(doc) {\n        if (this.$doc)\n            this.terminate();\n\n        this.$doc = doc;\n        this.call(\"setValue\", [doc.getValue()]);\n        doc.on(\"change\", this.changeListener, true);\n    };\n\n    this.changeListener = function(delta) {\n        if (!this.deltaQueue) {\n            this.deltaQueue = [];\n            setTimeout(this.$sendDeltaQueue, 0);\n        }\n        if (delta.action == \"insert\")\n            this.deltaQueue.push(delta.start, delta.lines);\n        else\n            this.deltaQueue.push(delta.start, delta.end);\n    };\n\n    this.$sendDeltaQueue = function() {\n        var q = this.deltaQueue;\n        if (!q) return;\n        this.deltaQueue = null;\n        if (q.length > 50 && q.length > this.$doc.getLength() >> 1) {\n            this.call(\"setValue\", [this.$doc.getValue()]);\n        } else\n            this.emit(\"change\", {data: q});\n    };\n\n}).call(WorkerClient.prototype);\n\n\nvar UIWorkerClient = function(topLevelNamespaces, mod, classname) {\n    var main = null;\n    var emitSync = false;\n    var sender = Object.create(EventEmitter);\n\n    var messageBuffer = [];\n    var workerClient = new WorkerClient({\n        messageBuffer: messageBuffer,\n        terminate: function() {},\n        postMessage: function(e) {\n            messageBuffer.push(e);\n            if (!main) return;\n            if (emitSync)\n                setTimeout(processNext);\n            else\n                processNext();\n        }\n    });\n\n    workerClient.setEmitSync = function(val) { emitSync = val; };\n\n    var processNext = function() {\n        var msg = messageBuffer.shift();\n        if (msg.command)\n            main[msg.command].apply(main, msg.args);\n        else if (msg.event)\n            sender._signal(msg.event, msg.data);\n    };\n\n    sender.postMessage = function(msg) {\n        workerClient.onMessage({data: msg});\n    };\n    sender.callback = function(data, callbackId) {\n        this.postMessage({type: \"call\", id: callbackId, data: data});\n    };\n    sender.emit = function(name, data) {\n        this.postMessage({type: \"event\", name: name, data: data});\n    };\n\n    config.loadModule([\"worker\", mod], function(Main) {\n        main = new Main[classname](sender);\n        while (messageBuffer.length)\n            processNext();\n    });\n\n    return workerClient;\n};\n\nexports.UIWorkerClient = UIWorkerClient;\nexports.WorkerClient = WorkerClient;\nexports.createWorker = createWorker;\n\n\n});\n\nace.define(\"ace/placeholder\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/lib/event_emitter\",\"ace/lib/oop\"], function(require, exports, module){\"use strict\";\nvar Range = require(\"./range\").Range;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar oop = require(\"./lib/oop\");\nvar PlaceHolder = function (session, length, pos, others, mainClass, othersClass) {\n    var _self = this;\n    this.length = length;\n    this.session = session;\n    this.doc = session.getDocument();\n    this.mainClass = mainClass;\n    this.othersClass = othersClass;\n    this.$onUpdate = this.onUpdate.bind(this);\n    this.doc.on(\"change\", this.$onUpdate, true);\n    this.$others = others;\n    this.$onCursorChange = function () {\n        setTimeout(function () {\n            _self.onCursorChange();\n        });\n    };\n    this.$pos = pos;\n    var undoStack = session.getUndoManager().$undoStack || session.getUndoManager().$undostack || { length: -1 };\n    this.$undoStackDepth = undoStack.length;\n    this.setup();\n    session.selection.on(\"changeCursor\", this.$onCursorChange);\n};\n(function () {\n    oop.implement(this, EventEmitter);\n    this.setup = function () {\n        var _self = this;\n        var doc = this.doc;\n        var session = this.session;\n        this.selectionBefore = session.selection.toJSON();\n        if (session.selection.inMultiSelectMode)\n            session.selection.toSingleRange();\n        this.pos = doc.createAnchor(this.$pos.row, this.$pos.column);\n        var pos = this.pos;\n        pos.$insertRight = true;\n        pos.detach();\n        pos.markerId = session.addMarker(new Range(pos.row, pos.column, pos.row, pos.column + this.length), this.mainClass, null, false);\n        this.others = [];\n        this.$others.forEach(function (other) {\n            var anchor = doc.createAnchor(other.row, other.column);\n            anchor.$insertRight = true;\n            anchor.detach();\n            _self.others.push(anchor);\n        });\n        session.setUndoSelect(false);\n    };\n    this.showOtherMarkers = function () {\n        if (this.othersActive)\n            return;\n        var session = this.session;\n        var _self = this;\n        this.othersActive = true;\n        this.others.forEach(function (anchor) {\n            anchor.markerId = session.addMarker(new Range(anchor.row, anchor.column, anchor.row, anchor.column + _self.length), _self.othersClass, null, false);\n        });\n    };\n    this.hideOtherMarkers = function () {\n        if (!this.othersActive)\n            return;\n        this.othersActive = false;\n        for (var i = 0; i < this.others.length; i++) {\n            this.session.removeMarker(this.others[i].markerId);\n        }\n    };\n    this.onUpdate = function (delta) {\n        if (this.$updating)\n            return this.updateAnchors(delta);\n        var range = delta;\n        if (range.start.row !== range.end.row)\n            return;\n        if (range.start.row !== this.pos.row)\n            return;\n        this.$updating = true;\n        var lengthDiff = delta.action === \"insert\" ? range.end.column - range.start.column : range.start.column - range.end.column;\n        var inMainRange = range.start.column >= this.pos.column && range.start.column <= this.pos.column + this.length + 1;\n        var distanceFromStart = range.start.column - this.pos.column;\n        this.updateAnchors(delta);\n        if (inMainRange)\n            this.length += lengthDiff;\n        if (inMainRange && !this.session.$fromUndo) {\n            if (delta.action === 'insert') {\n                for (var i = this.others.length - 1; i >= 0; i--) {\n                    var otherPos = this.others[i];\n                    var newPos = { row: otherPos.row, column: otherPos.column + distanceFromStart };\n                    this.doc.insertMergedLines(newPos, delta.lines);\n                }\n            }\n            else if (delta.action === 'remove') {\n                for (var i = this.others.length - 1; i >= 0; i--) {\n                    var otherPos = this.others[i];\n                    var newPos = { row: otherPos.row, column: otherPos.column + distanceFromStart };\n                    this.doc.remove(new Range(newPos.row, newPos.column, newPos.row, newPos.column - lengthDiff));\n                }\n            }\n        }\n        this.$updating = false;\n        this.updateMarkers();\n    };\n    this.updateAnchors = function (delta) {\n        this.pos.onChange(delta);\n        for (var i = this.others.length; i--;)\n            this.others[i].onChange(delta);\n        this.updateMarkers();\n    };\n    this.updateMarkers = function () {\n        if (this.$updating)\n            return;\n        var _self = this;\n        var session = this.session;\n        var updateMarker = function (pos, className) {\n            session.removeMarker(pos.markerId);\n            pos.markerId = session.addMarker(new Range(pos.row, pos.column, pos.row, pos.column + _self.length), className, null, false);\n        };\n        updateMarker(this.pos, this.mainClass);\n        for (var i = this.others.length; i--;)\n            updateMarker(this.others[i], this.othersClass);\n    };\n    this.onCursorChange = function (event) {\n        if (this.$updating || !this.session)\n            return;\n        var pos = this.session.selection.getCursor();\n        if (pos.row === this.pos.row && pos.column >= this.pos.column && pos.column <= this.pos.column + this.length) {\n            this.showOtherMarkers();\n            this._emit(\"cursorEnter\", event);\n        }\n        else {\n            this.hideOtherMarkers();\n            this._emit(\"cursorLeave\", event);\n        }\n    };\n    this.detach = function () {\n        this.session.removeMarker(this.pos && this.pos.markerId);\n        this.hideOtherMarkers();\n        this.doc.off(\"change\", this.$onUpdate);\n        this.session.selection.off(\"changeCursor\", this.$onCursorChange);\n        this.session.setUndoSelect(true);\n        this.session = null;\n    };\n    this.cancel = function () {\n        if (this.$undoStackDepth === -1)\n            return;\n        var undoManager = this.session.getUndoManager();\n        var undosRequired = (undoManager.$undoStack || undoManager.$undostack).length - this.$undoStackDepth;\n        for (var i = 0; i < undosRequired; i++) {\n            undoManager.undo(this.session, true);\n        }\n        if (this.selectionBefore)\n            this.session.selection.fromJSON(this.selectionBefore);\n    };\n}).call(PlaceHolder.prototype);\nexports.PlaceHolder = PlaceHolder;\n\n});\n\nace.define(\"ace/mouse/multi_select_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\"], function(require, exports, module){var event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nfunction isSamePoint(p1, p2) {\n    return p1.row == p2.row && p1.column == p2.column;\n}\nfunction onMouseDown(e) {\n    var ev = e.domEvent;\n    var alt = ev.altKey;\n    var shift = ev.shiftKey;\n    var ctrl = ev.ctrlKey;\n    var accel = e.getAccelKey();\n    var button = e.getButton();\n    if (ctrl && useragent.isMac)\n        button = ev.button;\n    if (e.editor.inMultiSelectMode && button == 2) {\n        e.editor.textInput.onContextMenu(e.domEvent);\n        return;\n    }\n    if (!ctrl && !alt && !accel) {\n        if (button === 0 && e.editor.inMultiSelectMode)\n            e.editor.exitMultiSelectMode();\n        return;\n    }\n    if (button !== 0)\n        return;\n    var editor = e.editor;\n    var selection = editor.selection;\n    var isMultiSelect = editor.inMultiSelectMode;\n    var pos = e.getDocumentPosition();\n    var cursor = selection.getCursor();\n    var inSelection = e.inSelection() || (selection.isEmpty() && isSamePoint(pos, cursor));\n    var mouseX = e.x, mouseY = e.y;\n    var onMouseSelection = function (e) {\n        mouseX = e.clientX;\n        mouseY = e.clientY;\n    };\n    var session = editor.session;\n    var screenAnchor = editor.renderer.pixelToScreenCoordinates(mouseX, mouseY);\n    var screenCursor = screenAnchor;\n    var selectionMode;\n    if (editor.$mouseHandler.$enableJumpToDef) {\n        if (ctrl && alt || accel && alt)\n            selectionMode = shift ? \"block\" : \"add\";\n        else if (alt && editor.$blockSelectEnabled)\n            selectionMode = \"block\";\n    }\n    else {\n        if (accel && !alt) {\n            selectionMode = \"add\";\n            if (!isMultiSelect && shift)\n                return;\n        }\n        else if (alt && editor.$blockSelectEnabled) {\n            selectionMode = \"block\";\n        }\n    }\n    if (selectionMode && useragent.isMac && ev.ctrlKey) {\n        editor.$mouseHandler.cancelContextMenu();\n    }\n    if (selectionMode == \"add\") {\n        if (!isMultiSelect && inSelection)\n            return; // dragging\n        if (!isMultiSelect) {\n            var range = selection.toOrientedRange();\n            editor.addSelectionMarker(range);\n        }\n        var oldRange = selection.rangeList.rangeAtPoint(pos);\n        editor.inVirtualSelectionMode = true;\n        if (shift) {\n            oldRange = null;\n            range = selection.ranges[0] || range;\n            editor.removeSelectionMarker(range);\n        }\n        editor.once(\"mouseup\", function () {\n            var tmpSel = selection.toOrientedRange();\n            if (oldRange && tmpSel.isEmpty() && isSamePoint(oldRange.cursor, tmpSel.cursor))\n                selection.substractPoint(tmpSel.cursor);\n            else {\n                if (shift) {\n                    selection.substractPoint(range.cursor);\n                }\n                else if (range) {\n                    editor.removeSelectionMarker(range);\n                    selection.addRange(range);\n                }\n                selection.addRange(tmpSel);\n            }\n            editor.inVirtualSelectionMode = false;\n        });\n    }\n    else if (selectionMode == \"block\") {\n        e.stop();\n        editor.inVirtualSelectionMode = true;\n        var initialRange;\n        var rectSel = [];\n        var blockSelect = function () {\n            var newCursor = editor.renderer.pixelToScreenCoordinates(mouseX, mouseY);\n            var cursor = session.screenToDocumentPosition(newCursor.row, newCursor.column, newCursor.offsetX);\n            if (isSamePoint(screenCursor, newCursor) && isSamePoint(cursor, selection.lead))\n                return;\n            screenCursor = newCursor;\n            editor.selection.moveToPosition(cursor);\n            editor.renderer.scrollCursorIntoView();\n            editor.removeSelectionMarkers(rectSel);\n            rectSel = selection.rectangularRangeBlock(screenCursor, screenAnchor);\n            if (editor.$mouseHandler.$clickSelection && rectSel.length == 1 && rectSel[0].isEmpty())\n                rectSel[0] = editor.$mouseHandler.$clickSelection.clone();\n            rectSel.forEach(editor.addSelectionMarker, editor);\n            editor.updateSelectionMarkers();\n        };\n        if (isMultiSelect && !accel) {\n            selection.toSingleRange();\n        }\n        else if (!isMultiSelect && accel) {\n            initialRange = selection.toOrientedRange();\n            editor.addSelectionMarker(initialRange);\n        }\n        if (shift)\n            screenAnchor = session.documentToScreenPosition(selection.lead);\n        else\n            selection.moveToPosition(pos);\n        screenCursor = { row: -1, column: -1 };\n        var onMouseSelectionEnd = function (e) {\n            blockSelect();\n            clearInterval(timerId);\n            editor.removeSelectionMarkers(rectSel);\n            if (!rectSel.length)\n                rectSel = [selection.toOrientedRange()];\n            if (initialRange) {\n                editor.removeSelectionMarker(initialRange);\n                selection.toSingleRange(initialRange);\n            }\n            for (var i = 0; i < rectSel.length; i++)\n                selection.addRange(rectSel[i]);\n            editor.inVirtualSelectionMode = false;\n            editor.$mouseHandler.$clickSelection = null;\n        };\n        var onSelectionInterval = blockSelect;\n        event.capture(editor.container, onMouseSelection, onMouseSelectionEnd);\n        var timerId = setInterval(function () { onSelectionInterval(); }, 20);\n        return e.preventDefault();\n    }\n}\nexports.onMouseDown = onMouseDown;\n\n});\n\nace.define(\"ace/commands/multi_select_commands\",[\"require\",\"exports\",\"module\",\"ace/keyboard/hash_handler\"], function(require, exports, module){// commands to enter multiselect mode\nexports.defaultCommands = [{\n        name: \"addCursorAbove\",\n        description: \"Add cursor above\",\n        exec: function (editor) { editor.selectMoreLines(-1); },\n        bindKey: { win: \"Ctrl-Alt-Up\", mac: \"Ctrl-Alt-Up\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"addCursorBelow\",\n        description: \"Add cursor below\",\n        exec: function (editor) { editor.selectMoreLines(1); },\n        bindKey: { win: \"Ctrl-Alt-Down\", mac: \"Ctrl-Alt-Down\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"addCursorAboveSkipCurrent\",\n        description: \"Add cursor above (skip current)\",\n        exec: function (editor) { editor.selectMoreLines(-1, true); },\n        bindKey: { win: \"Ctrl-Alt-Shift-Up\", mac: \"Ctrl-Alt-Shift-Up\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"addCursorBelowSkipCurrent\",\n        description: \"Add cursor below (skip current)\",\n        exec: function (editor) { editor.selectMoreLines(1, true); },\n        bindKey: { win: \"Ctrl-Alt-Shift-Down\", mac: \"Ctrl-Alt-Shift-Down\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectMoreBefore\",\n        description: \"Select more before\",\n        exec: function (editor) { editor.selectMore(-1); },\n        bindKey: { win: \"Ctrl-Alt-Left\", mac: \"Ctrl-Alt-Left\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectMoreAfter\",\n        description: \"Select more after\",\n        exec: function (editor) { editor.selectMore(1); },\n        bindKey: { win: \"Ctrl-Alt-Right\", mac: \"Ctrl-Alt-Right\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectNextBefore\",\n        description: \"Select next before\",\n        exec: function (editor) { editor.selectMore(-1, true); },\n        bindKey: { win: \"Ctrl-Alt-Shift-Left\", mac: \"Ctrl-Alt-Shift-Left\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectNextAfter\",\n        description: \"Select next after\",\n        exec: function (editor) { editor.selectMore(1, true); },\n        bindKey: { win: \"Ctrl-Alt-Shift-Right\", mac: \"Ctrl-Alt-Shift-Right\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"toggleSplitSelectionIntoLines\",\n        description: \"Split selection into lines\",\n        exec: function (editor) {\n            if (editor.multiSelect.rangeCount > 1)\n                editor.multiSelect.joinSelections();\n            else\n                editor.multiSelect.splitIntoLines();\n        },\n        bindKey: { win: \"Ctrl-Alt-L\", mac: \"Ctrl-Alt-L\" },\n        readOnly: true\n    }, {\n        name: \"splitSelectionIntoLines\",\n        description: \"Split into lines\",\n        exec: function (editor) { editor.multiSelect.splitIntoLines(); },\n        readOnly: true\n    }, {\n        name: \"alignCursors\",\n        description: \"Align cursors\",\n        exec: function (editor) { editor.alignCursors(); },\n        bindKey: { win: \"Ctrl-Alt-A\", mac: \"Ctrl-Alt-A\" },\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"findAll\",\n        description: \"Find all\",\n        exec: function (editor) { editor.findAll(); },\n        bindKey: { win: \"Ctrl-Alt-K\", mac: \"Ctrl-Alt-G\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }];\nexports.multiSelectCommands = [{\n        name: \"singleSelection\",\n        description: \"Single selection\",\n        bindKey: \"esc\",\n        exec: function (editor) { editor.exitMultiSelectMode(); },\n        scrollIntoView: \"cursor\",\n        readOnly: true,\n        isAvailable: function (editor) { return editor && editor.inMultiSelectMode; }\n    }];\nvar HashHandler = require(\"../keyboard/hash_handler\").HashHandler;\nexports.keyboardHandler = new HashHandler(exports.multiSelectCommands);\n\n});\n\nace.define(\"ace/multi_select\",[\"require\",\"exports\",\"module\",\"ace/range_list\",\"ace/range\",\"ace/selection\",\"ace/mouse/multi_select_handler\",\"ace/lib/event\",\"ace/lib/lang\",\"ace/commands/multi_select_commands\",\"ace/search\",\"ace/edit_session\",\"ace/editor\",\"ace/config\"], function(require, exports, module){var RangeList = require(\"./range_list\").RangeList;\nvar Range = require(\"./range\").Range;\nvar Selection = require(\"./selection\").Selection;\nvar onMouseDown = require(\"./mouse/multi_select_handler\").onMouseDown;\nvar event = require(\"./lib/event\");\nvar lang = require(\"./lib/lang\");\nvar commands = require(\"./commands/multi_select_commands\");\nexports.commands = commands.defaultCommands.concat(commands.multiSelectCommands);\nvar Search = require(\"./search\").Search;\nvar search = new Search();\nfunction find(session, needle, dir) {\n    search.$options.wrap = true;\n    search.$options.needle = needle;\n    search.$options.backwards = dir == -1;\n    return search.find(session);\n}\nvar EditSession = require(\"./edit_session\").EditSession;\n(function () {\n    this.getSelectionMarkers = function () {\n        return this.$selectionMarkers;\n    };\n}).call(EditSession.prototype);\n(function () {\n    this.ranges = null;\n    this.rangeList = null;\n    this.addRange = function (range, $blockChangeEvents) {\n        if (!range)\n            return;\n        if (!this.inMultiSelectMode && this.rangeCount === 0) {\n            var oldRange = this.toOrientedRange();\n            this.rangeList.add(oldRange);\n            this.rangeList.add(range);\n            if (this.rangeList.ranges.length != 2) {\n                this.rangeList.removeAll();\n                return $blockChangeEvents || this.fromOrientedRange(range);\n            }\n            this.rangeList.removeAll();\n            this.rangeList.add(oldRange);\n            this.$onAddRange(oldRange);\n        }\n        if (!range.cursor)\n            range.cursor = range.end;\n        var removed = this.rangeList.add(range);\n        this.$onAddRange(range);\n        if (removed.length)\n            this.$onRemoveRange(removed);\n        if (this.rangeCount > 1 && !this.inMultiSelectMode) {\n            this._signal(\"multiSelect\");\n            this.inMultiSelectMode = true;\n            this.session.$undoSelect = false;\n            this.rangeList.attach(this.session);\n        }\n        return $blockChangeEvents || this.fromOrientedRange(range);\n    };\n    this.toSingleRange = function (range) {\n        range = range || this.ranges[0];\n        var removed = this.rangeList.removeAll();\n        if (removed.length)\n            this.$onRemoveRange(removed);\n        range && this.fromOrientedRange(range);\n    };\n    this.substractPoint = function (pos) {\n        var removed = this.rangeList.substractPoint(pos);\n        if (removed) {\n            this.$onRemoveRange(removed);\n            return removed[0];\n        }\n    };\n    this.mergeOverlappingRanges = function () {\n        var removed = this.rangeList.merge();\n        if (removed.length)\n            this.$onRemoveRange(removed);\n    };\n    this.$onAddRange = function (range) {\n        this.rangeCount = this.rangeList.ranges.length;\n        this.ranges.unshift(range);\n        this._signal(\"addRange\", { range: range });\n    };\n    this.$onRemoveRange = function (removed) {\n        this.rangeCount = this.rangeList.ranges.length;\n        if (this.rangeCount == 1 && this.inMultiSelectMode) {\n            var lastRange = this.rangeList.ranges.pop();\n            removed.push(lastRange);\n            this.rangeCount = 0;\n        }\n        for (var i = removed.length; i--;) {\n            var index = this.ranges.indexOf(removed[i]);\n            this.ranges.splice(index, 1);\n        }\n        this._signal(\"removeRange\", { ranges: removed });\n        if (this.rangeCount === 0 && this.inMultiSelectMode) {\n            this.inMultiSelectMode = false;\n            this._signal(\"singleSelect\");\n            this.session.$undoSelect = true;\n            this.rangeList.detach(this.session);\n        }\n        lastRange = lastRange || this.ranges[0];\n        if (lastRange && !lastRange.isEqual(this.getRange()))\n            this.fromOrientedRange(lastRange);\n    };\n    this.$initRangeList = function () {\n        if (this.rangeList)\n            return;\n        this.rangeList = new RangeList();\n        this.ranges = [];\n        this.rangeCount = 0;\n    };\n    this.getAllRanges = function () {\n        return this.rangeCount ? this.rangeList.ranges.concat() : [this.getRange()];\n    };\n    this.splitIntoLines = function () {\n        var ranges = this.ranges.length ? this.ranges : [this.getRange()];\n        var newRanges = [];\n        for (var i = 0; i < ranges.length; i++) {\n            var range = ranges[i];\n            var row = range.start.row;\n            var endRow = range.end.row;\n            if (row === endRow) {\n                newRanges.push(range.clone());\n            }\n            else {\n                newRanges.push(new Range(row, range.start.column, row, this.session.getLine(row).length));\n                while (++row < endRow)\n                    newRanges.push(this.getLineRange(row, true));\n                newRanges.push(new Range(endRow, 0, endRow, range.end.column));\n            }\n            if (i == 0 && !this.isBackwards())\n                newRanges = newRanges.reverse();\n        }\n        this.toSingleRange();\n        for (var i = newRanges.length; i--;)\n            this.addRange(newRanges[i]);\n    };\n    this.joinSelections = function () {\n        var ranges = this.rangeList.ranges;\n        var lastRange = ranges[ranges.length - 1];\n        var range = Range.fromPoints(ranges[0].start, lastRange.end);\n        this.toSingleRange();\n        this.setSelectionRange(range, lastRange.cursor == lastRange.start);\n    };\n    this.toggleBlockSelection = function () {\n        if (this.rangeCount > 1) {\n            var ranges = this.rangeList.ranges;\n            var lastRange = ranges[ranges.length - 1];\n            var range = Range.fromPoints(ranges[0].start, lastRange.end);\n            this.toSingleRange();\n            this.setSelectionRange(range, lastRange.cursor == lastRange.start);\n        }\n        else {\n            var cursor = this.session.documentToScreenPosition(this.cursor);\n            var anchor = this.session.documentToScreenPosition(this.anchor);\n            var rectSel = this.rectangularRangeBlock(cursor, anchor);\n            rectSel.forEach(this.addRange, this);\n        }\n    };\n    this.rectangularRangeBlock = function (screenCursor, screenAnchor, includeEmptyLines) {\n        var rectSel = [];\n        var xBackwards = screenCursor.column < screenAnchor.column;\n        if (xBackwards) {\n            var startColumn = screenCursor.column;\n            var endColumn = screenAnchor.column;\n            var startOffsetX = screenCursor.offsetX;\n            var endOffsetX = screenAnchor.offsetX;\n        }\n        else {\n            var startColumn = screenAnchor.column;\n            var endColumn = screenCursor.column;\n            var startOffsetX = screenAnchor.offsetX;\n            var endOffsetX = screenCursor.offsetX;\n        }\n        var yBackwards = screenCursor.row < screenAnchor.row;\n        if (yBackwards) {\n            var startRow = screenCursor.row;\n            var endRow = screenAnchor.row;\n        }\n        else {\n            var startRow = screenAnchor.row;\n            var endRow = screenCursor.row;\n        }\n        if (startColumn < 0)\n            startColumn = 0;\n        if (startRow < 0)\n            startRow = 0;\n        if (startRow == endRow)\n            includeEmptyLines = true;\n        var docEnd;\n        for (var row = startRow; row <= endRow; row++) {\n            var range = Range.fromPoints(this.session.screenToDocumentPosition(row, startColumn, startOffsetX), this.session.screenToDocumentPosition(row, endColumn, endOffsetX));\n            if (range.isEmpty()) {\n                if (docEnd && isSamePoint(range.end, docEnd))\n                    break;\n                docEnd = range.end;\n            }\n            range.cursor = xBackwards ? range.start : range.end;\n            rectSel.push(range);\n        }\n        if (yBackwards)\n            rectSel.reverse();\n        if (!includeEmptyLines) {\n            var end = rectSel.length - 1;\n            while (rectSel[end].isEmpty() && end > 0)\n                end--;\n            if (end > 0) {\n                var start = 0;\n                while (rectSel[start].isEmpty())\n                    start++;\n            }\n            for (var i = end; i >= start; i--) {\n                if (rectSel[i].isEmpty())\n                    rectSel.splice(i, 1);\n            }\n        }\n        return rectSel;\n    };\n}).call(Selection.prototype);\nvar Editor = require(\"./editor\").Editor;\n(function () {\n    this.updateSelectionMarkers = function () {\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n    this.addSelectionMarker = function (orientedRange) {\n        if (!orientedRange.cursor)\n            orientedRange.cursor = orientedRange.end;\n        var style = this.getSelectionStyle();\n        orientedRange.marker = this.session.addMarker(orientedRange, \"ace_selection\", style);\n        this.session.$selectionMarkers.push(orientedRange);\n        this.session.selectionMarkerCount = this.session.$selectionMarkers.length;\n        return orientedRange;\n    };\n    this.removeSelectionMarker = function (range) {\n        if (!range.marker)\n            return;\n        this.session.removeMarker(range.marker);\n        var index = this.session.$selectionMarkers.indexOf(range);\n        if (index != -1)\n            this.session.$selectionMarkers.splice(index, 1);\n        this.session.selectionMarkerCount = this.session.$selectionMarkers.length;\n    };\n    this.removeSelectionMarkers = function (ranges) {\n        var markerList = this.session.$selectionMarkers;\n        for (var i = ranges.length; i--;) {\n            var range = ranges[i];\n            if (!range.marker)\n                continue;\n            this.session.removeMarker(range.marker);\n            var index = markerList.indexOf(range);\n            if (index != -1)\n                markerList.splice(index, 1);\n        }\n        this.session.selectionMarkerCount = markerList.length;\n    };\n    this.$onAddRange = function (e) {\n        this.addSelectionMarker(e.range);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n    this.$onRemoveRange = function (e) {\n        this.removeSelectionMarkers(e.ranges);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n    this.$onMultiSelect = function (e) {\n        if (this.inMultiSelectMode)\n            return;\n        this.inMultiSelectMode = true;\n        this.setStyle(\"ace_multiselect\");\n        this.keyBinding.addKeyboardHandler(commands.keyboardHandler);\n        this.commands.setDefaultHandler(\"exec\", this.$onMultiSelectExec);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n    this.$onSingleSelect = function (e) {\n        if (this.session.multiSelect.inVirtualMode)\n            return;\n        this.inMultiSelectMode = false;\n        this.unsetStyle(\"ace_multiselect\");\n        this.keyBinding.removeKeyboardHandler(commands.keyboardHandler);\n        this.commands.removeDefaultHandler(\"exec\", this.$onMultiSelectExec);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n        this._emit(\"changeSelection\");\n    };\n    this.$onMultiSelectExec = function (e) {\n        var command = e.command;\n        var editor = e.editor;\n        if (!editor.multiSelect)\n            return;\n        if (!command.multiSelectAction) {\n            var result = command.exec(editor, e.args || {});\n            editor.multiSelect.addRange(editor.multiSelect.toOrientedRange());\n            editor.multiSelect.mergeOverlappingRanges();\n        }\n        else if (command.multiSelectAction == \"forEach\") {\n            result = editor.forEachSelection(command, e.args);\n        }\n        else if (command.multiSelectAction == \"forEachLine\") {\n            result = editor.forEachSelection(command, e.args, true);\n        }\n        else if (command.multiSelectAction == \"single\") {\n            editor.exitMultiSelectMode();\n            result = command.exec(editor, e.args || {});\n        }\n        else {\n            result = command.multiSelectAction(editor, e.args || {});\n        }\n        return result;\n    };\n    this.forEachSelection = function (cmd, args, options) {\n        if (this.inVirtualSelectionMode)\n            return;\n        var keepOrder = options && options.keepOrder;\n        var $byLines = options == true || options && options.$byLines;\n        var session = this.session;\n        var selection = this.selection;\n        var rangeList = selection.rangeList;\n        var ranges = (keepOrder ? selection : rangeList).ranges;\n        var result;\n        if (!ranges.length)\n            return cmd.exec ? cmd.exec(this, args || {}) : cmd(this, args || {});\n        var reg = selection._eventRegistry;\n        selection._eventRegistry = {};\n        var tmpSel = new Selection(session);\n        this.inVirtualSelectionMode = true;\n        for (var i = ranges.length; i--;) {\n            if ($byLines) {\n                while (i > 0 && ranges[i].start.row == ranges[i - 1].end.row)\n                    i--;\n            }\n            tmpSel.fromOrientedRange(ranges[i]);\n            tmpSel.index = i;\n            this.selection = session.selection = tmpSel;\n            var cmdResult = cmd.exec ? cmd.exec(this, args || {}) : cmd(this, args || {});\n            if (!result && cmdResult !== undefined)\n                result = cmdResult;\n            tmpSel.toOrientedRange(ranges[i]);\n        }\n        tmpSel.detach();\n        this.selection = session.selection = selection;\n        this.inVirtualSelectionMode = false;\n        selection._eventRegistry = reg;\n        selection.mergeOverlappingRanges();\n        if (selection.ranges[0])\n            selection.fromOrientedRange(selection.ranges[0]);\n        var anim = this.renderer.$scrollAnimation;\n        this.onCursorChange();\n        this.onSelectionChange();\n        if (anim && anim.from == anim.to)\n            this.renderer.animateScrolling(anim.from);\n        return result;\n    };\n    this.exitMultiSelectMode = function () {\n        if (!this.inMultiSelectMode || this.inVirtualSelectionMode)\n            return;\n        this.multiSelect.toSingleRange();\n    };\n    this.getSelectedText = function () {\n        var text = \"\";\n        if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {\n            var ranges = this.multiSelect.rangeList.ranges;\n            var buf = [];\n            for (var i = 0; i < ranges.length; i++) {\n                buf.push(this.session.getTextRange(ranges[i]));\n            }\n            var nl = this.session.getDocument().getNewLineCharacter();\n            text = buf.join(nl);\n            if (text.length == (buf.length - 1) * nl.length)\n                text = \"\";\n        }\n        else if (!this.selection.isEmpty()) {\n            text = this.session.getTextRange(this.getSelectionRange());\n        }\n        return text;\n    };\n    this.$checkMultiselectChange = function (e, anchor) {\n        if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {\n            var range = this.multiSelect.ranges[0];\n            if (this.multiSelect.isEmpty() && anchor == this.multiSelect.anchor)\n                return;\n            var pos = anchor == this.multiSelect.anchor\n                ? range.cursor == range.start ? range.end : range.start\n                : range.cursor;\n            if (pos.row != anchor.row\n                || this.session.$clipPositionToDocument(pos.row, pos.column).column != anchor.column)\n                this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange());\n            else\n                this.multiSelect.mergeOverlappingRanges();\n        }\n    };\n    this.findAll = function (needle, options, additive) {\n        options = options || {};\n        options.needle = needle || options.needle;\n        if (options.needle == undefined) {\n            var range = this.selection.isEmpty()\n                ? this.selection.getWordRange()\n                : this.selection.getRange();\n            options.needle = this.session.getTextRange(range);\n        }\n        this.$search.set(options);\n        var ranges = this.$search.findAll(this.session);\n        if (!ranges.length)\n            return 0;\n        var selection = this.multiSelect;\n        if (!additive)\n            selection.toSingleRange(ranges[0]);\n        for (var i = ranges.length; i--;)\n            selection.addRange(ranges[i], true);\n        if (range && selection.rangeList.rangeAtPoint(range.start))\n            selection.addRange(range, true);\n        return ranges.length;\n    };\n    this.selectMoreLines = function (dir, skip) {\n        var range = this.selection.toOrientedRange();\n        var isBackwards = range.cursor == range.end;\n        var screenLead = this.session.documentToScreenPosition(range.cursor);\n        if (this.selection.$desiredColumn)\n            screenLead.column = this.selection.$desiredColumn;\n        var lead = this.session.screenToDocumentPosition(screenLead.row + dir, screenLead.column);\n        if (!range.isEmpty()) {\n            var screenAnchor = this.session.documentToScreenPosition(isBackwards ? range.end : range.start);\n            var anchor = this.session.screenToDocumentPosition(screenAnchor.row + dir, screenAnchor.column);\n        }\n        else {\n            var anchor = lead;\n        }\n        if (isBackwards) {\n            var newRange = Range.fromPoints(lead, anchor);\n            newRange.cursor = newRange.start;\n        }\n        else {\n            var newRange = Range.fromPoints(anchor, lead);\n            newRange.cursor = newRange.end;\n        }\n        newRange.desiredColumn = screenLead.column;\n        if (!this.selection.inMultiSelectMode) {\n            this.selection.addRange(range);\n        }\n        else {\n            if (skip)\n                var toRemove = range.cursor;\n        }\n        this.selection.addRange(newRange);\n        if (toRemove)\n            this.selection.substractPoint(toRemove);\n    };\n    this.transposeSelections = function (dir) {\n        var session = this.session;\n        var sel = session.multiSelect;\n        var all = sel.ranges;\n        for (var i = all.length; i--;) {\n            var range = all[i];\n            if (range.isEmpty()) {\n                var tmp = session.getWordRange(range.start.row, range.start.column);\n                range.start.row = tmp.start.row;\n                range.start.column = tmp.start.column;\n                range.end.row = tmp.end.row;\n                range.end.column = tmp.end.column;\n            }\n        }\n        sel.mergeOverlappingRanges();\n        var words = [];\n        for (var i = all.length; i--;) {\n            var range = all[i];\n            words.unshift(session.getTextRange(range));\n        }\n        if (dir < 0)\n            words.unshift(words.pop());\n        else\n            words.push(words.shift());\n        for (var i = all.length; i--;) {\n            var range = all[i];\n            var tmp = range.clone();\n            session.replace(range, words[i]);\n            range.start.row = tmp.start.row;\n            range.start.column = tmp.start.column;\n        }\n        sel.fromOrientedRange(sel.ranges[0]);\n    };\n    this.selectMore = function (dir, skip, stopAtFirst) {\n        var session = this.session;\n        var sel = session.multiSelect;\n        var range = sel.toOrientedRange();\n        if (range.isEmpty()) {\n            range = session.getWordRange(range.start.row, range.start.column);\n            range.cursor = dir == -1 ? range.start : range.end;\n            this.multiSelect.addRange(range);\n            if (stopAtFirst)\n                return;\n        }\n        var needle = session.getTextRange(range);\n        var newRange = find(session, needle, dir);\n        if (newRange) {\n            newRange.cursor = dir == -1 ? newRange.start : newRange.end;\n            this.session.unfold(newRange);\n            this.multiSelect.addRange(newRange);\n            this.renderer.scrollCursorIntoView(null, 0.5);\n        }\n        if (skip)\n            this.multiSelect.substractPoint(range.cursor);\n    };\n    this.alignCursors = function () {\n        var session = this.session;\n        var sel = session.multiSelect;\n        var ranges = sel.ranges;\n        var row = -1;\n        var sameRowRanges = ranges.filter(function (r) {\n            if (r.cursor.row == row)\n                return true;\n            row = r.cursor.row;\n        });\n        if (!ranges.length || sameRowRanges.length == ranges.length - 1) {\n            var range = this.selection.getRange();\n            var fr = range.start.row, lr = range.end.row;\n            var guessRange = fr == lr;\n            if (guessRange) {\n                var max = this.session.getLength();\n                var line;\n                do {\n                    line = this.session.getLine(lr);\n                } while (/[=:]/.test(line) && ++lr < max);\n                do {\n                    line = this.session.getLine(fr);\n                } while (/[=:]/.test(line) && --fr > 0);\n                if (fr < 0)\n                    fr = 0;\n                if (lr >= max)\n                    lr = max - 1;\n            }\n            var lines = this.session.removeFullLines(fr, lr);\n            lines = this.$reAlignText(lines, guessRange);\n            this.session.insert({ row: fr, column: 0 }, lines.join(\"\\n\") + \"\\n\");\n            if (!guessRange) {\n                range.start.column = 0;\n                range.end.column = lines[lines.length - 1].length;\n            }\n            this.selection.setRange(range);\n        }\n        else {\n            sameRowRanges.forEach(function (r) {\n                sel.substractPoint(r.cursor);\n            });\n            var maxCol = 0;\n            var minSpace = Infinity;\n            var spaceOffsets = ranges.map(function (r) {\n                var p = r.cursor;\n                var line = session.getLine(p.row);\n                var spaceOffset = line.substr(p.column).search(/\\S/g);\n                if (spaceOffset == -1)\n                    spaceOffset = 0;\n                if (p.column > maxCol)\n                    maxCol = p.column;\n                if (spaceOffset < minSpace)\n                    minSpace = spaceOffset;\n                return spaceOffset;\n            });\n            ranges.forEach(function (r, i) {\n                var p = r.cursor;\n                var l = maxCol - p.column;\n                var d = spaceOffsets[i] - minSpace;\n                if (l > d)\n                    session.insert(p, lang.stringRepeat(\" \", l - d));\n                else\n                    session.remove(new Range(p.row, p.column, p.row, p.column - l + d));\n                r.start.column = r.end.column = maxCol;\n                r.start.row = r.end.row = p.row;\n                r.cursor = r.end;\n            });\n            sel.fromOrientedRange(ranges[0]);\n            this.renderer.updateCursor();\n            this.renderer.updateBackMarkers();\n        }\n    };\n    this.$reAlignText = function (lines, forceLeft) {\n        var isLeftAligned = true, isRightAligned = true;\n        var startW, textW, endW;\n        return lines.map(function (line) {\n            var m = line.match(/(\\s*)(.*?)(\\s*)([=:].*)/);\n            if (!m)\n                return [line];\n            if (startW == null) {\n                startW = m[1].length;\n                textW = m[2].length;\n                endW = m[3].length;\n                return m;\n            }\n            if (startW + textW + endW != m[1].length + m[2].length + m[3].length)\n                isRightAligned = false;\n            if (startW != m[1].length)\n                isLeftAligned = false;\n            if (startW > m[1].length)\n                startW = m[1].length;\n            if (textW < m[2].length)\n                textW = m[2].length;\n            if (endW > m[3].length)\n                endW = m[3].length;\n            return m;\n        }).map(forceLeft ? alignLeft :\n            isLeftAligned ? isRightAligned ? alignRight : alignLeft : unAlign);\n        function spaces(n) {\n            return lang.stringRepeat(\" \", n);\n        }\n        function alignLeft(m) {\n            return !m[2] ? m[0] : spaces(startW) + m[2]\n                + spaces(textW - m[2].length + endW)\n                + m[4].replace(/^([=:])\\s+/, \"$1 \");\n        }\n        function alignRight(m) {\n            return !m[2] ? m[0] : spaces(startW + textW - m[2].length) + m[2]\n                + spaces(endW)\n                + m[4].replace(/^([=:])\\s+/, \"$1 \");\n        }\n        function unAlign(m) {\n            return !m[2] ? m[0] : spaces(startW) + m[2]\n                + spaces(endW)\n                + m[4].replace(/^([=:])\\s+/, \"$1 \");\n        }\n    };\n}).call(Editor.prototype);\nfunction isSamePoint(p1, p2) {\n    return p1.row == p2.row && p1.column == p2.column;\n}\nexports.onSessionChange = function (e) {\n    var session = e.session;\n    if (session && !session.multiSelect) {\n        session.$selectionMarkers = [];\n        session.selection.$initRangeList();\n        session.multiSelect = session.selection;\n    }\n    this.multiSelect = session && session.multiSelect;\n    var oldSession = e.oldSession;\n    if (oldSession) {\n        oldSession.multiSelect.off(\"addRange\", this.$onAddRange);\n        oldSession.multiSelect.off(\"removeRange\", this.$onRemoveRange);\n        oldSession.multiSelect.off(\"multiSelect\", this.$onMultiSelect);\n        oldSession.multiSelect.off(\"singleSelect\", this.$onSingleSelect);\n        oldSession.multiSelect.lead.off(\"change\", this.$checkMultiselectChange);\n        oldSession.multiSelect.anchor.off(\"change\", this.$checkMultiselectChange);\n    }\n    if (session) {\n        session.multiSelect.on(\"addRange\", this.$onAddRange);\n        session.multiSelect.on(\"removeRange\", this.$onRemoveRange);\n        session.multiSelect.on(\"multiSelect\", this.$onMultiSelect);\n        session.multiSelect.on(\"singleSelect\", this.$onSingleSelect);\n        session.multiSelect.lead.on(\"change\", this.$checkMultiselectChange);\n        session.multiSelect.anchor.on(\"change\", this.$checkMultiselectChange);\n    }\n    if (session && this.inMultiSelectMode != session.selection.inMultiSelectMode) {\n        if (session.selection.inMultiSelectMode)\n            this.$onMultiSelect();\n        else\n            this.$onSingleSelect();\n    }\n};\nfunction MultiSelect(editor) {\n    if (editor.$multiselectOnSessionChange)\n        return;\n    editor.$onAddRange = editor.$onAddRange.bind(editor);\n    editor.$onRemoveRange = editor.$onRemoveRange.bind(editor);\n    editor.$onMultiSelect = editor.$onMultiSelect.bind(editor);\n    editor.$onSingleSelect = editor.$onSingleSelect.bind(editor);\n    editor.$multiselectOnSessionChange = exports.onSessionChange.bind(editor);\n    editor.$checkMultiselectChange = editor.$checkMultiselectChange.bind(editor);\n    editor.$multiselectOnSessionChange(editor);\n    editor.on(\"changeSession\", editor.$multiselectOnSessionChange);\n    editor.on(\"mousedown\", onMouseDown);\n    editor.commands.addCommands(commands.defaultCommands);\n    addAltCursorListeners(editor);\n}\nfunction addAltCursorListeners(editor) {\n    if (!editor.textInput)\n        return;\n    var el = editor.textInput.getElement();\n    var altCursor = false;\n    event.addListener(el, \"keydown\", function (e) {\n        var altDown = e.keyCode == 18 && !(e.ctrlKey || e.shiftKey || e.metaKey);\n        if (editor.$blockSelectEnabled && altDown) {\n            if (!altCursor) {\n                editor.renderer.setMouseCursor(\"crosshair\");\n                altCursor = true;\n            }\n        }\n        else if (altCursor) {\n            reset();\n        }\n    }, editor);\n    event.addListener(el, \"keyup\", reset, editor);\n    event.addListener(el, \"blur\", reset, editor);\n    function reset(e) {\n        if (altCursor) {\n            editor.renderer.setMouseCursor(\"\");\n            altCursor = false;\n        }\n    }\n}\nexports.MultiSelect = MultiSelect;\nrequire(\"./config\").defineOptions(Editor.prototype, \"editor\", {\n    enableMultiselect: {\n        set: function (val) {\n            MultiSelect(this);\n            if (val) {\n                this.on(\"changeSession\", this.$multiselectOnSessionChange);\n                this.on(\"mousedown\", onMouseDown);\n            }\n            else {\n                this.off(\"changeSession\", this.$multiselectOnSessionChange);\n                this.off(\"mousedown\", onMouseDown);\n            }\n        },\n        value: true\n    },\n    enableBlockSelect: {\n        set: function (val) {\n            this.$blockSelectEnabled = val;\n        },\n        value: true\n    }\n});\n\n});\n\nace.define(\"ace/mode/folding/fold_mode\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar Range = require(\"../../range\").Range;\nvar FoldMode = exports.FoldMode = function () { };\n(function () {\n    this.foldingStartMarker = null;\n    this.foldingStopMarker = null;\n    this.getFoldWidget = function (session, foldStyle, row) {\n        var line = session.getLine(row);\n        if (this.foldingStartMarker.test(line))\n            return \"start\";\n        if (foldStyle == \"markbeginend\"\n            && this.foldingStopMarker\n            && this.foldingStopMarker.test(line))\n            return \"end\";\n        return \"\";\n    };\n    this.getFoldWidgetRange = function (session, foldStyle, row) {\n        return null;\n    };\n    this.indentationBlock = function (session, row, column) {\n        var re = /\\S/;\n        var line = session.getLine(row);\n        var startLevel = line.search(re);\n        if (startLevel == -1)\n            return;\n        var startColumn = column || line.length;\n        var maxRow = session.getLength();\n        var startRow = row;\n        var endRow = row;\n        while (++row < maxRow) {\n            var level = session.getLine(row).search(re);\n            if (level == -1)\n                continue;\n            if (level <= startLevel) {\n                var token = session.getTokenAt(row, 0);\n                if (!token || token.type !== \"string\")\n                    break;\n            }\n            endRow = row;\n        }\n        if (endRow > startRow) {\n            var endColumn = session.getLine(endRow).length;\n            return new Range(startRow, startColumn, endRow, endColumn);\n        }\n    };\n    this.openingBracketBlock = function (session, bracket, row, column, typeRe) {\n        var start = { row: row, column: column + 1 };\n        var end = session.$findClosingBracket(bracket, start, typeRe);\n        if (!end)\n            return;\n        var fw = session.foldWidgets[end.row];\n        if (fw == null)\n            fw = session.getFoldWidget(end.row);\n        if (fw == \"start\" && end.row > start.row) {\n            end.row--;\n            end.column = session.getLine(end.row).length;\n        }\n        return Range.fromPoints(start, end);\n    };\n    this.closingBracketBlock = function (session, bracket, row, column, typeRe) {\n        var end = { row: row, column: column };\n        var start = session.$findOpeningBracket(bracket, end);\n        if (!start)\n            return;\n        start.column++;\n        end.column--;\n        return Range.fromPoints(start, end);\n    };\n}).call(FoldMode.prototype);\n\n});\n\nace.define(\"ace/ext/error_marker\",[\"require\",\"exports\",\"module\",\"ace/line_widgets\",\"ace/lib/dom\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar LineWidgets = require(\"../line_widgets\").LineWidgets;\nvar dom = require(\"../lib/dom\");\nvar Range = require(\"../range\").Range;\nfunction binarySearch(array, needle, comparator) {\n    var first = 0;\n    var last = array.length - 1;\n    while (first <= last) {\n        var mid = (first + last) >> 1;\n        var c = comparator(needle, array[mid]);\n        if (c > 0)\n            first = mid + 1;\n        else if (c < 0)\n            last = mid - 1;\n        else\n            return mid;\n    }\n    return -(first + 1);\n}\nfunction findAnnotations(session, row, dir) {\n    var annotations = session.getAnnotations().sort(Range.comparePoints);\n    if (!annotations.length)\n        return;\n    var i = binarySearch(annotations, { row: row, column: -1 }, Range.comparePoints);\n    if (i < 0)\n        i = -i - 1;\n    if (i >= annotations.length)\n        i = dir > 0 ? 0 : annotations.length - 1;\n    else if (i === 0 && dir < 0)\n        i = annotations.length - 1;\n    var annotation = annotations[i];\n    if (!annotation || !dir)\n        return;\n    if (annotation.row === row) {\n        do {\n            annotation = annotations[i += dir];\n        } while (annotation && annotation.row === row);\n        if (!annotation)\n            return annotations.slice();\n    }\n    var matched = [];\n    row = annotation.row;\n    do {\n        matched[dir < 0 ? \"unshift\" : \"push\"](annotation);\n        annotation = annotations[i += dir];\n    } while (annotation && annotation.row == row);\n    return matched.length && matched;\n}\nexports.showErrorMarker = function (editor, dir) {\n    var session = editor.session;\n    if (!session.widgetManager) {\n        session.widgetManager = new LineWidgets(session);\n        session.widgetManager.attach(editor);\n    }\n    var pos = editor.getCursorPosition();\n    var row = pos.row;\n    var oldWidget = session.widgetManager.getWidgetsAtRow(row).filter(function (w) {\n        return w.type == \"errorMarker\";\n    })[0];\n    if (oldWidget) {\n        oldWidget.destroy();\n    }\n    else {\n        row -= dir;\n    }\n    var annotations = findAnnotations(session, row, dir);\n    var gutterAnno;\n    if (annotations) {\n        var annotation = annotations[0];\n        pos.column = (annotation.pos && typeof annotation.column != \"number\"\n            ? annotation.pos.sc\n            : annotation.column) || 0;\n        pos.row = annotation.row;\n        gutterAnno = editor.renderer.$gutterLayer.$annotations[pos.row];\n    }\n    else if (oldWidget) {\n        return;\n    }\n    else {\n        gutterAnno = {\n            text: [\"Looks good!\"],\n            className: \"ace_ok\"\n        };\n    }\n    editor.session.unfold(pos.row);\n    editor.selection.moveToPosition(pos);\n    var w = {\n        row: pos.row,\n        fixedWidth: true,\n        coverGutter: true,\n        el: dom.createElement(\"div\"),\n        type: \"errorMarker\"\n    };\n    var el = w.el.appendChild(dom.createElement(\"div\"));\n    var arrow = w.el.appendChild(dom.createElement(\"div\"));\n    arrow.className = \"error_widget_arrow \" + gutterAnno.className;\n    var left = editor.renderer.$cursorLayer\n        .getPixelPosition(pos).left;\n    arrow.style.left = left + editor.renderer.gutterWidth - 5 + \"px\";\n    w.el.className = \"error_widget_wrapper\";\n    el.className = \"error_widget \" + gutterAnno.className;\n    el.innerHTML = gutterAnno.text.join(\"<br>\");\n    el.appendChild(dom.createElement(\"div\"));\n    var kb = function (_, hashId, keyString) {\n        if (hashId === 0 && (keyString === \"esc\" || keyString === \"return\")) {\n            w.destroy();\n            return { command: \"null\" };\n        }\n    };\n    w.destroy = function () {\n        if (editor.$mouseHandler.isMousePressed)\n            return;\n        editor.keyBinding.removeKeyboardHandler(kb);\n        session.widgetManager.removeLineWidget(w);\n        editor.off(\"changeSelection\", w.destroy);\n        editor.off(\"changeSession\", w.destroy);\n        editor.off(\"mouseup\", w.destroy);\n        editor.off(\"change\", w.destroy);\n    };\n    editor.keyBinding.addKeyboardHandler(kb);\n    editor.on(\"changeSelection\", w.destroy);\n    editor.on(\"changeSession\", w.destroy);\n    editor.on(\"mouseup\", w.destroy);\n    editor.on(\"change\", w.destroy);\n    editor.session.widgetManager.addLineWidget(w);\n    w.el.onmousedown = editor.focus.bind(editor);\n    editor.renderer.scrollCursorIntoView(null, 0.5, { bottom: w.el.offsetHeight });\n};\ndom.importCssString(\"\\n    .error_widget_wrapper {\\n        background: inherit;\\n        color: inherit;\\n        border:none\\n    }\\n    .error_widget {\\n        border-top: solid 2px;\\n        border-bottom: solid 2px;\\n        margin: 5px 0;\\n        padding: 10px 40px;\\n        white-space: pre-wrap;\\n    }\\n    .error_widget.ace_error, .error_widget_arrow.ace_error{\\n        border-color: #ff5a5a\\n    }\\n    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\\n        border-color: #F1D817\\n    }\\n    .error_widget.ace_info, .error_widget_arrow.ace_info{\\n        border-color: #5a5a5a\\n    }\\n    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\\n        border-color: #5aaa5a\\n    }\\n    .error_widget_arrow {\\n        position: absolute;\\n        border: solid 5px;\\n        border-top-color: transparent!important;\\n        border-right-color: transparent!important;\\n        border-left-color: transparent!important;\\n        top: -5px;\\n    }\\n\", \"error_marker.css\", false);\n\n});\n\nace.define(\"ace/ace\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/range\",\"ace/editor\",\"ace/edit_session\",\"ace/undomanager\",\"ace/virtual_renderer\",\"ace/worker/worker_client\",\"ace/keyboard/hash_handler\",\"ace/placeholder\",\"ace/multi_select\",\"ace/mode/folding/fold_mode\",\"ace/theme/textmate\",\"ace/ext/error_marker\",\"ace/config\",\"ace/loader_build\"], function(require, exports, module){/**\n * The main class required to set up an Ace instance in the browser.\n *\n * @class Ace\n **/\n\"use strict\";\nrequire(\"./loader_build\")(exports)\nvar dom = require(\"./lib/dom\");\nvar event = require(\"./lib/event\");\nvar Range = require(\"./range\").Range;\nvar Editor = require(\"./editor\").Editor;\nvar EditSession = require(\"./edit_session\").EditSession;\nvar UndoManager = require(\"./undomanager\").UndoManager;\nvar Renderer = require(\"./virtual_renderer\").VirtualRenderer;\nrequire(\"./worker/worker_client\");\nrequire(\"./keyboard/hash_handler\");\nrequire(\"./placeholder\");\nrequire(\"./multi_select\");\nrequire(\"./mode/folding/fold_mode\");\nrequire(\"./theme/textmate\");\nrequire(\"./ext/error_marker\");\nexports.config = require(\"./config\");\nexports.edit = function (el, options) {\n    if (typeof el == \"string\") {\n        var _id = el;\n        el = document.getElementById(_id);\n        if (!el)\n            throw new Error(\"ace.edit can't find div #\" + _id);\n    }\n    if (el && el.env && el.env.editor instanceof Editor)\n        return el.env.editor;\n    var value = \"\";\n    if (el && /input|textarea/i.test(el.tagName)) {\n        var oldNode = el;\n        value = oldNode.value;\n        el = dom.createElement(\"pre\");\n        oldNode.parentNode.replaceChild(el, oldNode);\n    }\n    else if (el) {\n        value = el.textContent;\n        el.innerHTML = \"\";\n    }\n    var doc = exports.createEditSession(value);\n    var editor = new Editor(new Renderer(el), doc, options);\n    var env = {\n        document: doc,\n        editor: editor,\n        onResize: editor.resize.bind(editor, null)\n    };\n    if (oldNode)\n        env.textarea = oldNode;\n    event.addListener(window, \"resize\", env.onResize);\n    editor.on(\"destroy\", function () {\n        event.removeListener(window, \"resize\", env.onResize);\n        env.editor.container.env = null; // prevent memory leak on old ie\n    });\n    editor.container.env = editor.env = env;\n    return editor;\n};\nexports.createEditSession = function (text, mode) {\n    var doc = new EditSession(text, mode);\n    doc.setUndoManager(new UndoManager());\n    return doc;\n};\nexports.Range = Range;\nexports.Editor = Editor;\nexports.EditSession = EditSession;\nexports.UndoManager = UndoManager;\nexports.VirtualRenderer = Renderer;\nexports.version = exports.config.version;\n\n});            (function() {\n                ace.require([\"ace/ace\"], function(a) {\n                    if (a) {\n                        a.config.init(true);\n                        a.define = ace.define;\n                    }\n                    if (!window.ace)\n                        window.ace = a;\n                    for (var key in a) if (a.hasOwnProperty(key))\n                        window.ace[key] = a[key];\n                    window.ace[\"default\"] = window.ace;\n                    if (typeof module == \"object\" && typeof exports == \"object\" && module) {\n                        module.exports = window.ace;\n                    }\n                });\n            })();\n        ","<script lang=\"ts\">\n  import Ace from \"ace-builds/src-noconflict/ace\";\n  import { onMount } from \"svelte\";\n  import type { Navigation } from \"../types\";\n\n  let editorElement: HTMLDivElement;\n\n  export let text: string;\n\n  // Ace text editor\n  let editor;\n\n  export function navigate(start: number, end: number) {\n    if (editor) {\n      const startPos = editor.session.doc.indexToPosition(start);\n      const endPos = editor.session.doc.indexToPosition(end);\n      const range = new Ace.Range(\n        startPos.row,\n        startPos.column,\n        endPos.row,\n        endPos.column\n      );\n      editor.selection.setRange(range);\n      editor.scrollToLine(\n        Math.round((startPos.row + endPos.row) / 2),\n        true,\n        true,\n        () => {}\n      );\n    }\n  }\n\n  onMount(() => {\n    editor = Ace.edit(editorElement, {\n      mode: \"ace/mode/text\",\n      selectionStyle: \"text\",\n      readOnly: true,\n      showFoldWidgets: false,\n      showPrintMargin: false,\n      showInvisibles: false,\n      behavioursEnabled: false,\n      vScrollBarAlwaysVisible: true,\n      useSoftTabs: false,\n    });\n    editor.session.setUseWrapMode(true);\n    // Set text\n    editor.setValue(text);\n    editor.selection.setRange(new Ace.Range(0, 0, 0, 0));\n  });\n\n  $: {\n    if (editor) {\n      editor.setValue(text);\n      editor.selection.setRange(new Ace.Range(0, 0, 0, 0));\n    }\n  }\n</script>\n\n<div id=\"editor\" bind:this={editorElement} />\n\n<style>\n  #editor {\n    @apply w-full h-full;\n  }\n\n  :global(.myMarker) {\n    @apply bg-red-200;\n  }\n\n  :global(.ace_invalid) {\n    background-color: inherit !important;\n    color: inherit !important;\n  }\n\n  :global(.ace_indent-guide) {\n    background: inherit !important;\n  }\n\n  :global(.ace_gutter-cell) {\n    @apply text-gray-400;\n  }\n</style>\n","<script lang=\"ts\">\n  import { createEventDispatcher, tick } from \"svelte\";\n  import type { Preference } from \"../types\";\n  const dispatch = createEventDispatcher();\n\n  export let preferences: { [key: string]: Preference };\n\n  $: preferenceValues = Object.values(preferences).filter(\n    (preference) => preference.weight !== 0\n  );\n\n  function getSearchKey(..._reactiveArgs: any[]) {\n    return JSON.stringify({\n      query: value,\n      preferences: preferenceValues || [],\n    });\n  }\n\n  let value = \"\";\n  let lastSearchKey = getSearchKey();\n\n  let preferenceContainer: HTMLDivElement;\n\n  export async function scrollToBottomOfPreferences() {\n    if (preferenceContainer != null) {\n      // Wait for a tick so new preferences are reflected\n      await tick();\n      preferenceContainer.scrollTop = preferenceContainer.scrollHeight;\n    }\n  }\n\n  $: searchKey = getSearchKey(value, preferenceValues);\n  $: searchOutdated = searchKey !== lastSearchKey;\n\n  function search() {\n    dispatch(\"search\", value);\n    lastSearchKey = searchKey;\n  }\n</script>\n\n<div class=\"flex flex-1 flex-col\">\n  <div class=\"flex items-center relative flex-1\">\n    <input\n      class=\"bg-white py-2 px-4 pl-12 font-mono w-full rounded border-black border\"\n      class:bg-yellow-50={searchOutdated}\n      class:border-yellow-600={searchOutdated}\n      class:border-dashed={searchOutdated}\n      placeholder=\"Search\"\n      bind:value\n      on:keydown={(e) => {\n        if (e.key === \"Enter\") {\n          search();\n        }\n      }}\n    />\n    <button class=\"search-button\" on:click={search}>Search</button>\n  </div>\n\n  <div\n    class=\"max-h-24 overflow-y-auto -mb-2 mt-2\"\n    bind:this={preferenceContainer}\n  >\n    {#each preferenceValues as preference}\n      <button\n        class=\"w-64 max-sm:w-40 truncate monospace rounded px-2 inline-block mr-2 mb-2 cursor\"\n        class:bg-blue-200={preference.weight > 0}\n        class:bg-orange-200={preference.weight < 0}\n        title={`${preference.file.basename}: ${preference.searchResult.text}`}\n        on:click={() => dispatch(\"setPreference\", { ...preference, weight: 0 })}\n      >\n        {#if preference.weight > 0}\n          <span class=\"text-blue-600 font-bold mr-1\">+</span>\n        {:else if preference.weight < 0}\n          <span class=\"text-orange-500 font-bold mr-1\">-</span>\n        {/if}\n        {preference.searchResult.text}\n      </button>\n    {/each}\n  </div>\n</div>\n\n<style>\n  .search-button {\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='25' height='24' fill='none'%3E%3Cpath stroke='%23202020' stroke-width='3' d='M10.045 13.424A7.152 7.152 0 1 0 21.003 4.23a7.152 7.152 0 0 0-10.958 9.194Zm0 0-8.984 8.984'/%3E%3C/svg%3E\");\n    background-repeat: no-repeat;\n    text-indent: -9999px;\n    width: 25px;\n    position: absolute;\n    left: 10px;\n  }\n</style>\n","<script lang=\"ts\">\n  import type { File } from \"../types\";\n\n  export let file: File;\n  export let pageNumber: number;\n  export let scales: number[];\n\n  let scaleIndex = 0;\n\n  function getSrc(scale: number) {\n    return `/api/pdfpage?filename=${encodeURIComponent(\n      file.filename\n    )}&page=${pageNumber}&scale=${scale}`;\n  }\n\n  function handleLoad() {\n    if (scaleIndex !== scales.length - 1) {\n      scaleIndex++;\n    }\n  }\n</script>\n\n<img\n  on:load={handleLoad}\n  draggable=\"false\"\n  class=\"absolute left-0 top-0 right-0 bottom-0 w-full h-full object-contain select-none pointer-events-none\"\n  src={getSrc(scales[scaleIndex])}\n  alt=\"Page {pageNumber + 1}\"\n/>\n","!function(t,i){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=i():\"function\"==typeof define&&define.amd?define(i):(t=t||self).RBush=i()}(this,function(){\"use strict\";function t(t,r,e,a,h){!function t(n,r,e,a,h){for(;a>e;){if(a-e>600){var o=a-e+1,s=r-e+1,l=Math.log(o),f=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*f*(o-f)/o)*(s-o/2<0?-1:1),m=Math.max(e,Math.floor(r-s*f/o+u)),c=Math.min(a,Math.floor(r+(o-s)*f/o+u));t(n,r,m,c,h)}var p=n[r],d=e,x=a;for(i(n,e,r),h(n[a],p)>0&&i(n,e,a);d<x;){for(i(n,d,x),d++,x--;h(n[d],p)<0;)d++;for(;h(n[x],p)>0;)x--}0===h(n[e],p)?i(n,e,x):i(n,++x,a),x<=r&&(e=x+1),r<=x&&(a=x-1)}}(t,r,e||0,a||t.length-1,h||n)}function i(t,i,n){var r=t[i];t[i]=t[n],t[n]=r}function n(t,i){return t<i?-1:t>i?1:0}var r=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function e(t,i,n){if(!n)return i.indexOf(t);for(var r=0;r<i.length;r++)if(n(t,i[r]))return r;return-1}function a(t,i){h(t,0,t.children.length,i,t)}function h(t,i,n,r,e){e||(e=p(null)),e.minX=1/0,e.minY=1/0,e.maxX=-1/0,e.maxY=-1/0;for(var a=i;a<n;a++){var h=t.children[a];o(e,t.leaf?r(h):h)}return e}function o(t,i){return t.minX=Math.min(t.minX,i.minX),t.minY=Math.min(t.minY,i.minY),t.maxX=Math.max(t.maxX,i.maxX),t.maxY=Math.max(t.maxY,i.maxY),t}function s(t,i){return t.minX-i.minX}function l(t,i){return t.minY-i.minY}function f(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function u(t){return t.maxX-t.minX+(t.maxY-t.minY)}function m(t,i){return t.minX<=i.minX&&t.minY<=i.minY&&i.maxX<=t.maxX&&i.maxY<=t.maxY}function c(t,i){return i.minX<=t.maxX&&i.minY<=t.maxY&&i.maxX>=t.minX&&i.maxY>=t.minY}function p(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function d(i,n,r,e,a){for(var h=[n,r];h.length;)if(!((r=h.pop())-(n=h.pop())<=e)){var o=n+Math.ceil((r-n)/e/2)*e;t(i,o,n,r,a),h.push(n,o,o,r)}}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(t){var i=this.data,n=[];if(!c(t,i))return n;for(var r=this.toBBox,e=[];i;){for(var a=0;a<i.children.length;a++){var h=i.children[a],o=i.leaf?r(h):h;c(t,o)&&(i.leaf?n.push(h):m(t,o)?this._all(h,n):e.push(h))}i=e.pop()}return n},r.prototype.collides=function(t){var i=this.data;if(!c(t,i))return!1;for(var n=[];i;){for(var r=0;r<i.children.length;r++){var e=i.children[r],a=i.leaf?this.toBBox(e):e;if(c(t,a)){if(i.leaf||m(t,a))return!0;n.push(e)}}i=n.pop()}return!1},r.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var i=0;i<t.length;i++)this.insert(t[i]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},r.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},r.prototype.clear=function(){return this.data=p([]),this},r.prototype.remove=function(t,i){if(!t)return this;for(var n,r,a,h=this.data,o=this.toBBox(t),s=[],l=[];h||s.length;){if(h||(h=s.pop(),r=s[s.length-1],n=l.pop(),a=!0),h.leaf){var f=e(t,h.children,i);if(-1!==f)return h.children.splice(f,1),s.push(h),this._condense(s),this}a||h.leaf||!m(h,o)?r?(n++,h=r.children[n],a=!1):h=null:(s.push(h),l.push(n),n=0,r=h,h=h.children[0])}return this},r.prototype.toBBox=function(t){return t},r.prototype.compareMinX=function(t,i){return t.minX-i.minX},r.prototype.compareMinY=function(t,i){return t.minY-i.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(t){return this.data=t,this},r.prototype._all=function(t,i){for(var n=[];t;)t.leaf?i.push.apply(i,t.children):n.push.apply(n,t.children),t=n.pop();return i},r.prototype._build=function(t,i,n,r){var e,h=n-i+1,o=this._maxEntries;if(h<=o)return a(e=p(t.slice(i,n+1)),this.toBBox),e;r||(r=Math.ceil(Math.log(h)/Math.log(o)),o=Math.ceil(h/Math.pow(o,r-1))),(e=p([])).leaf=!1,e.height=r;var s=Math.ceil(h/o),l=s*Math.ceil(Math.sqrt(o));d(t,i,n,l,this.compareMinX);for(var f=i;f<=n;f+=l){var u=Math.min(f+l-1,n);d(t,f,u,s,this.compareMinY);for(var m=f;m<=u;m+=s){var c=Math.min(m+s-1,u);e.children.push(this._build(t,m,c,r-1))}}return a(e,this.toBBox),e},r.prototype._chooseSubtree=function(t,i,n,r){for(;r.push(i),!i.leaf&&r.length-1!==n;){for(var e=1/0,a=1/0,h=void 0,o=0;o<i.children.length;o++){var s=i.children[o],l=f(s),u=(m=t,c=s,(Math.max(c.maxX,m.maxX)-Math.min(c.minX,m.minX))*(Math.max(c.maxY,m.maxY)-Math.min(c.minY,m.minY))-l);u<a?(a=u,e=l<e?l:e,h=s):u===a&&l<e&&(e=l,h=s)}i=h||i.children[0]}var m,c;return i},r.prototype._insert=function(t,i,n){var r=n?t:this.toBBox(t),e=[],a=this._chooseSubtree(r,this.data,i,e);for(a.children.push(t),o(a,r);i>=0&&e[i].children.length>this._maxEntries;)this._split(e,i),i--;this._adjustParentBBoxes(r,e,i)},r.prototype._split=function(t,i){var n=t[i],r=n.children.length,e=this._minEntries;this._chooseSplitAxis(n,e,r);var h=this._chooseSplitIndex(n,e,r),o=p(n.children.splice(h,n.children.length-h));o.height=n.height,o.leaf=n.leaf,a(n,this.toBBox),a(o,this.toBBox),i?t[i-1].children.push(o):this._splitRoot(n,o)},r.prototype._splitRoot=function(t,i){this.data=p([t,i]),this.data.height=t.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(t,i,n){for(var r,e,a,o,s,l,u,m=1/0,c=1/0,p=i;p<=n-i;p++){var d=h(t,0,p,this.toBBox),x=h(t,p,n,this.toBBox),v=(e=d,a=x,o=void 0,s=void 0,l=void 0,u=void 0,o=Math.max(e.minX,a.minX),s=Math.max(e.minY,a.minY),l=Math.min(e.maxX,a.maxX),u=Math.min(e.maxY,a.maxY),Math.max(0,l-o)*Math.max(0,u-s)),M=f(d)+f(x);v<m?(m=v,r=p,c=M<c?M:c):v===m&&M<c&&(c=M,r=p)}return r||n-i},r.prototype._chooseSplitAxis=function(t,i,n){var r=t.leaf?this.compareMinX:s,e=t.leaf?this.compareMinY:l;this._allDistMargin(t,i,n,r)<this._allDistMargin(t,i,n,e)&&t.children.sort(r)},r.prototype._allDistMargin=function(t,i,n,r){t.children.sort(r);for(var e=this.toBBox,a=h(t,0,i,e),s=h(t,n-i,n,e),l=u(a)+u(s),f=i;f<n-i;f++){var m=t.children[f];o(a,t.leaf?e(m):m),l+=u(a)}for(var c=n-i-1;c>=i;c--){var p=t.children[c];o(s,t.leaf?e(p):p),l+=u(s)}return l},r.prototype._adjustParentBBoxes=function(t,i,n){for(var r=n;r>=0;r--)o(i[r],t)},r.prototype._condense=function(t){for(var i=t.length-1,n=void 0;i>=0;i--)0===t[i].children.length?i>0?(n=t[i-1].children).splice(n.indexOf(t[i]),1):this.clear():a(t[i],this.toBBox)},r});\n",null,"<script lang=\"ts\">\n  import { onMount, tick } from \"svelte\";\n  import type { File, Offset, PdfChar, PdfPosition } from \"../types\";\n  import { copyChars, layout } from \"../layoutEngine\";\n\n  export let file: File;\n  export let pageNumber: number;\n  export let position: PdfPosition;\n  export let selectedOffset: Offset | null;\n  export let zoom: number;\n  export let scrollHighlights: boolean;\n\n  function x(x: number): number {\n    return (x / position.page_width) * 100;\n  }\n\n  function y(y: number): number {\n    return (y / position.page_height) * 100;\n  }\n\n  async function scrollHighlightsIntoView(...args: any) {\n    await tick();\n    const highlights = document.querySelectorAll(\".page-highlight\");\n    if (highlights.length == 0) return;\n    highlights[0].scrollIntoView({\n      block: \"center\",\n    });\n    scrollHighlights = false;\n  }\n\n  function processChars(chars: PdfChar[]): [PdfChar[], [number, number][]] {\n    // Join words together\n    const processedChars: PdfChar[] = [];\n\n    const isSpace = (char: PdfChar): boolean => {\n      return /\\s/.test(char[0]);\n    };\n\n    const wordIndexMap: [number, number][] = [];\n    let currentWord: PdfChar[] = [];\n    let wordStart: number | null = null;\n    let wordEnd: number | null = null;\n\n    const pushChar = (char: PdfChar, start: number, end: number) => {\n      processedChars.push(char);\n      wordIndexMap.push([start, end]);\n    };\n\n    const buildWord = (char: PdfChar, i: number) => {\n      if (wordStart == null) wordStart = i;\n      wordEnd = i + 1;\n      currentWord.push(char);\n    };\n\n    const getMin = (l: number[]): number => {\n      let min: number;\n      for (const x of l) {\n        if (min == null || x < min) {\n          min = x;\n        }\n      }\n      return min;\n    };\n\n    const getMax = (l: number[]): number => {\n      let max: number;\n      for (const x of l) {\n        if (max == null || x > max) {\n          max = x;\n        }\n      }\n      return max;\n    };\n\n    const pushWord = () => {\n      if (currentWord.length == 0 || wordStart == null || wordEnd == null)\n        return;\n      const word = currentWord.map((x) => x[0]).join(\"\");\n      const x0 = getMin(currentWord.map((x) => x[1].x0));\n      const x1 = getMax(currentWord.map((x) => x[1].x1));\n      const y0 = getMin(currentWord.map((x) => x[1].y0));\n      const y1 = getMax(currentWord.map((x) => x[1].y1));\n      const char: PdfChar = [word, { x0, x1, y0, y1 }];\n      pushChar(char, wordStart, wordEnd);\n      currentWord = [];\n      wordStart = null;\n      wordEnd = null;\n    };\n\n    for (let i = 0; i < chars.length; i++) {\n      const char = chars[i];\n      if (isSpace(char)) {\n        pushWord();\n        pushChar(char, i, i + 1);\n      } else {\n        buildWord(char, i);\n      }\n    }\n    pushWord();\n\n    return [processedChars, wordIndexMap];\n  }\n\n  let chars: PdfChar[] = [];\n  $: words = processChars(copyChars(chars));\n  $: processedChars = layout(\n    position.page_width,\n    position.page_height,\n    words[0]\n  );\n\n  function getHighlightWordIndices(\n    words: [PdfChar[], [number, number][]],\n    start: number,\n    end: number\n  ): number[] {\n    const wordIndices = words[1];\n    const highlights = wordIndices\n      .map<[number, [number, number]]>((x, i) => [i, x])\n      .filter((x) => x[1][0] >= start && x[1][1] <= end)\n      .map((x) => x[0]);\n    return highlights;\n  }\n\n  $: highlightWordIndices =\n    selectedOffset == null\n      ? []\n      : getHighlightWordIndices(\n          words,\n          selectedOffset[0] - position.char_index,\n          selectedOffset[1] - position.char_index\n        );\n\n  $: scrollHighlights && scrollHighlightsIntoView(highlightWordIndices);\n  let containerElem: HTMLElement;\n\n  const baseFontSize = 16;\n  let mWidth = 10;\n  let mHeight = 24;\n\n  onMount(async () => {\n    // Measure a monospace 'm'\n    const m = document.createElement(\"span\");\n    m.textContent = \"m\";\n    m.style.position = \"absolute\";\n    m.style.visibility = \"hidden\";\n    m.style.whiteSpace = \"pre\";\n    m.style.fontFamily = \"monospace\";\n    m.style.fontSize = `${baseFontSize}px`;\n    containerElem.appendChild(m);\n    const mBounds = m.getBoundingClientRect();\n    mWidth = mBounds.width;\n    mHeight = mBounds.height;\n    containerElem.removeChild(m);\n\n    const response = await fetch(\n      `/api/pdfchars?filename=${encodeURIComponent(\n        file.filename\n      )}&page=${pageNumber}`\n    );\n    const json = await response.json();\n    chars = json.map((x) => [\n      x[0],\n      {\n        x0: x[1][0],\n        y0: x[1][1],\n        x1: x[1][2],\n        y1: x[1][3],\n      },\n    ]);\n  });\n</script>\n\n<div class=\"absolute left-0 top-0 right-0 bottom-0\" bind:this={containerElem}>\n  {#each processedChars as char, i}\n    <div\n      class=\"absolute content-box text-transparent\"\n      style=\"left: {(char[1].x0 - (char[1].lpad || 0)) *\n        zoom}px; top: {(position.page_height -\n        char[1].y1 -\n        (char[1].bpad || 0)) *\n        zoom}px; width: {(char[1].x1 -\n        char[1].x0 +\n        (char[1].lpad || 0) +\n        (char[1].rpad || 0)) *\n        zoom}px; height: {(char[1].y1 -\n        char[1].y0 +\n        (char[1].bpad || 0) +\n        (char[1].tpad || 0)) *\n        zoom}px;\n        padding-left: {(char[1].lpad || 0) * zoom}px;\n        padding-right: {(char[1].rpad || 0) * zoom}px;\n        padding-bottom: {(char[1].tpad || 0) * zoom}px;\n        padding-top: {(char[1].bpad || 0) * zoom}px;\"\n    >\n      <span\n        class=\"inline-block whitespace-pre origin-top-left select-all\"\n        class:page-highlight={highlightWordIndices.includes(i)}\n        style=\"font-family: monospace; font-size: {baseFontSize}px; transform: scale({((char[1]\n          .x1 -\n          char[1].x0) /\n          mWidth /\n          char[0].length) *\n          zoom}, {((char[1].y1 - char[1].y0) / mHeight) * zoom});\"\n        >{char[0]}</span\n      >\n    </div>\n  {/each}\n</div>\n\n<style>\n  .page-highlight {\n    background-color: rgb(255 255 0 / 72%);\n    mix-blend-mode: darken;\n  }\n</style>\n","<script lang=\"ts\">\n  import { createEventDispatcher } from \"svelte\";\n  import { inview, type Options } from \"svelte-inview\";\n  import type { File, Offset, PdfPosition } from \"../types\";\n  import PdfPageImage from \"./PdfPageImage.svelte\";\n  import PdfChars from \"./PdfChars.svelte\";\n  const dispatch = createEventDispatcher();\n\n  const options: Options = {\n    rootMargin: \"50px\",\n  };\n\n  export let file: File;\n  export let position: PdfPosition;\n  export let pageNumber: number;\n  export let selectedOffset: Offset | null;\n  export let zoom: number;\n  export let scrollHighlights: boolean;\n  const marginPx = 16;\n  let isInView = false;\n  let isInViewForEnoughTime = false;\n\n  $: {\n    if (isInView) {\n      setTimeout(() => {\n        isInViewForEnoughTime = true;\n      }, 100);\n    } else {\n      isInViewForEnoughTime = false;\n    }\n  }\n</script>\n\n<div\n  use:inview={options}\n  on:inview_change={(e) => {\n    isInView = e.detail.inView;\n    dispatch(\"inview\", {\n      isInView,\n      pageNumber,\n    });\n  }}\n  class=\"bg-white bg-contain relative\"\n  style=\"width: {position.page_width * zoom}px; height: {position.page_height *\n    zoom}px; margin: {marginPx * zoom}px auto {marginPx * zoom}px auto\"\n>\n  {#if isInView && isInViewForEnoughTime}\n    <PdfPageImage {file} {pageNumber} scales={[0.25, 2]} />\n    <PdfChars\n      {file}\n      {position}\n      {pageNumber}\n      {selectedOffset}\n      {zoom}\n      bind:scrollHighlights\n    />\n  {/if}\n</div>\n","<script lang=\"ts\">\n  import { tick } from \"svelte\";\n  import type { File, Offset, PdfPosition } from \"../types\";\n  import PdfPage from \"./PdfPage.svelte\";\n\n  export let positions: PdfPosition[];\n  export let file: File;\n\n  let currentPage = 1;\n  $: numPages = positions.length;\n\n  let pageContainer: HTMLDivElement;\n\n  let zoom = 1;\n  const MAX_ZOOM = 4;\n  const MIN_ZOOM = 0.4;\n\n  let selectedOffset: Offset | null = null;\n\n  let pagesInView: { [page: number]: boolean } = {};\n\n  $: sortedPages = Object.entries(pagesInView)\n    .filter(([_, isInView]) => isInView)\n    .sort(([a, _], [b, __]) => parseInt(a) - parseInt(b));\n  $: pageObjects = sortedPages.map<[number, Element]>(([page, _]) => [\n    parseInt(page),\n    pageContainer.children[parseInt(page)],\n  ]);\n\n  $: pageObjects.length > 0 && updateCurrentPage();\n\n  async function adjustZoom(newZoom: number) {\n    if (newZoom > MAX_ZOOM || newZoom < MIN_ZOOM) {\n      return;\n    }\n    const oldZoom = zoom;\n    let scrollTop = pageContainer.scrollTop;\n    zoom = newZoom;\n    await tick();\n    pageContainer.scrollTop = scrollTop * (newZoom / oldZoom);\n  }\n\n  function getPageNumber(offset: number): [number, number] {\n    let page = 0;\n    for (; page < positions.length; page++) {\n      const positionOffset = positions[page].char_index;\n      if (offset < positionOffset) {\n        return [page - 1, offset - positions[page - 1].char_index];\n      }\n    }\n    return [page - 1, offset - positions[page - 1].char_index];\n  }\n\n  // When true, highlights will scroll into view\n  let scrollHighlights = false;\n\n  export function navigate(start: number, end: number) {\n    selectedOffset = [start, end];\n\n    // Jump to selection\n    const [pageNumber, _] = getPageNumber(start);\n    pageContainer.children[pageNumber].scrollIntoView();\n    scrollHighlights = true;\n  }\n\n  function updatePageNumber({\n    isInView,\n    pageNumber,\n  }: {\n    isInView: boolean;\n    pageNumber: number;\n  }) {\n    pagesInView[pageNumber] = isInView;\n    pagesInView = { ...pagesInView };\n  }\n\n  function updateCurrentPage() {\n    const windowHeight = window.innerHeight;\n    for (const [pageNumber, page] of pageObjects) {\n      if (page == null) {\n        continue;\n      }\n      const rect = page.getBoundingClientRect();\n      if (rect.bottom >= windowHeight / 2) {\n        currentPage = pageNumber + 1;\n        return;\n      }\n    }\n    if (pageObjects.length > 0) {\n      currentPage = pageObjects[0][0] + 1;\n    }\n  }\n\n  function jumpToCurrentPage() {\n    const elem = pageContainer.children[currentPage - 1];\n    if (elem != null) {\n      elem.scrollIntoView();\n    }\n  }\n</script>\n\n<div class=\"relative flex-1\">\n  <div class=\"absolute left-0 top-0 right-0 bottom-0\">\n    <div\n      bind:this={pageContainer}\n      class=\"absolute left-0 top-0 right-0 bottom-0 bg-gray-400 w-full h-full overflow-auto\"\n      on:scroll={updateCurrentPage}\n    >\n      {#each positions as position, pageNumber}\n        <PdfPage\n          {file}\n          {pageNumber}\n          {position}\n          {selectedOffset}\n          {zoom}\n          bind:scrollHighlights\n          on:inview={(e) => updatePageNumber(e.detail)}\n        />\n      {/each}\n    </div>\n    {#if numPages > 0}\n      <div class=\"absolute left-2 bottom-2\">\n        <div class=\"text-left\">\n          <div\n            class=\"bg-slate-100 border-2 border-black text-center font-mono font-bold text-2xl inline-block\"\n          >\n            <button\n              class=\"w-8 h-8 align-middle\"\n              on:click={() => adjustZoom(zoom + 0.1)}>+</button\n            ><br />\n            <button\n              class=\"w-8 h-8 align-middle\"\n              on:click={() => adjustZoom(zoom - 0.1)}>-</button\n            >\n          </div>\n        </div>\n        <div\n          class=\"bg-slate-100 border-2 border-black font-mono font-bold text-sm mt-2 p-2\"\n        >\n          <input\n            class=\"border border-gray-300 mr-1 pl-1\"\n            style=\"width: 7ch;\"\n            type=\"number\"\n            size=\"4\"\n            min=\"1\"\n            max={numPages}\n            bind:value={currentPage}\n            on:input={jumpToCurrentPage}\n          />/{numPages}\n        </div>\n      </div>\n    {/if}\n  </div>\n</div>\n","<script lang=\"ts\">\n  import type { File } from \"../types\";\n\n  export let files: File[];\n  export let index: number;\n  export let disabled: boolean;\n</script>\n\n<div class=\"flex flex-row border-b-4 border-black relative h-10\">\n  <div\n    class=\"absolute left-0 top-0 right-0 bottom-0 overflow-x-auto thin-scroll\"\n  >\n    <div class=\"inline-flex flex-nowrap flex-row items-center h-full pl-2\">\n      {#each files as file, i}\n        <button\n          {disabled}\n          class:active-tab={i === index}\n          class=\"text-xs rounded py-1 px-2 mr-2 border border-transparent\"\n          on:click={() => (index = i)}\n        >\n          {file.basename}\n        </button>\n      {/each}\n    </div>\n  </div>\n</div>\n\n<style>\n  .thin-scroll {\n    scrollbar-width: thin;\n  }\n\n  .active-tab {\n    @apply bg-white border-black;\n  }\n</style>\n","<script lang=\"ts\">\n  import { onMount, tick } from \"svelte\";\n  import SearchResults from \"./components/SearchResults.svelte\";\n  import TextView from \"./components/TextView.svelte\";\n  import Tailwindcss from \"./Tailwind.svelte\";\n  import SearchBar from \"./components/SearchBar.svelte\";\n  import {\n    type File,\n    type Navigation,\n    type PdfPosition,\n    type SearchResultSet,\n    type Preference,\n    preferenceKey,\n    type ParsedQuery,\n  } from \"./types\";\n  import PdfView from \"./components/PdfView.svelte\";\n  import TabBar from \"./components/TabBar.svelte\";\n\n  let files: File[] = [];\n  let activeFileIndex = 0;\n  let tokens: string[] = [];\n  let text: string | null = null;\n  let pdfPositions: PdfPosition[] = [];\n  let updating = false;\n  let unsearched = true;\n  let searchResultsElem: SearchResults;\n  let currentSearchTerm = \"\";\n\n  let preferences: { [key: string]: Preference } = {};\n\n  $: activeFile =\n    activeFileIndex < files.length ? files[activeFileIndex] : null;\n  $: filesByPath = Object.fromEntries(\n    files.map((file) => [file.filename, file])\n  );\n  $: fileIndicesByPath = Object.fromEntries(\n    files.map((file, index) => [file.filename, index])\n  );\n\n  $: updateFile(activeFile);\n\n  async function updateFile(file: File | null) {\n    // Reset everything\n    tokens = [];\n    text = null;\n    pdfPositions = [];\n\n    if (file == null) return;\n\n    updating = true;\n\n    // Get text\n    const textResponse = await fetch(\n      `/api/text?filename=${encodeURIComponent(file.filename)}`\n    );\n    tokens = await textResponse.json();\n    text = tokens.join(\"\");\n\n    if (file.filetype === \"pdf\") {\n      const pdfResponse = await fetch(\n        `/api/pdfpositions?filename=${encodeURIComponent(file.filename)}`\n      );\n      pdfPositions = await pdfResponse.json();\n    }\n\n    await tick();\n    navigate();\n\n    updating = false;\n  }\n\n  let searchResultSet: SearchResultSet = {\n    results: [],\n    sort: \"asc\",\n  };\n\n  let textView: TextView;\n  let pdfView: PdfView;\n  let searchBar: SearchBar;\n\n  function downloadSearchResult(){\n    const queryObject = {\n      \"searchResult\": searchResultSet,\n      \"preferences\" : preferences,\n    }\n    console.log(\"Huh...\");\n\n    const blob = new Blob([JSON.stringify(queryObject)], {type: 'application/json'});\n    const url = URL.createObjectURL(blob);\n    const download_link = document.createElement(\"a\");\n    download_link.href = url;\n    const firstFileName = searchResultSet.results[0][0].split(\"/\").toReversed()[0]\n    download_link.download = `${currentSearchTerm} - (${firstFileName}).json`;\n    download_link.click();\n    URL.revokeObjectURL(url);\n  }\n  \n  export function parseQuery(query: string): ParsedQuery[] {\n    // Parse the query\n    // e.g. \"dog + cat\" => [{query: \"dog\", weight: 1}, {query: \"cat\", weight: 1}]\n    // e.g. \"dog - cat\" => [{query: \"dog\", weight: 1}, {query: \"cat\", weight: -1}]\n    // e.g. \"dog is cool - cat\" => [{query: \"dog is cool\", weight: 1}, {query: \"cat\", weight: -1}]\n    // e.g. \"dog +1.2 cat\" => [{query: \"dog\", weight: 1}, {query: \"cat\", weight: 1.2}]\n    // e.g. \"+3 dogs are nice -2 cats are mean\" => [{query: \"dogs are nice\", weight: 3}, {query: \"cats are mean\", weight: 2}]\n    // Parse the query\n    const regex = /([\\+\\-]?\\d*\\.?\\d*\\s*)?([^\\+\\-]+)/g;\n    const parsedQueries: ParsedQuery[] = [];\n\n    let match;\n    while ((match = regex.exec(query)) !== null) {\n      const weight =\n        parseFloat(match[1]) || (match[1] && match[1].includes(\"-\") ? -1 : 1);\n      const searchTerm = match[2].trim();\n      parsedQueries.push({ query: searchTerm, weight });\n    }\n\n    return parsedQueries;\n  }\n\n  function scrollSearchResultsToTop() {\n    if (searchResultsElem) searchResultsElem.scrollToTop();\n  }\n  \n  async function handleSearch(query: string) {\n    currentSearchTerm = query;\n    const preferenceValues = Object.values(preferences)\n    .filter((preference) => preference.weight !== 0)\n    .map((x) => ({ ...x }));\n  \n    // Ignore empty queries\n    if (query.trim() === \"\" && preferenceValues.length === 0) {\n      searchResultSet = [];\n      scrollSearchResultsToTop();\n      return;\n    }\n    const parsedQueries = parseQuery(query);\n\n    // Adjust weights so that all positive weights are split evenly\n    // and all negative weights are split evenly, and the sum of all\n    // weights is 1\n    const POSITIVE_RATIO = 0.61803398875;\n    const NEGATIVE_RATIO = 1 - POSITIVE_RATIO;\n\n    const totalPositiveCount =\n      parsedQueries.filter((query) => query.weight > 0).length +\n      preferenceValues.filter((preference) => preference.weight > 0).length;\n    const totalNegativeCount =\n      parsedQueries.filter((query) => query.weight < 0).length +\n      preferenceValues.filter((preference) => preference.weight < 0).length;\n    for (const query of parsedQueries) {\n      if (query.weight > 0) {\n        query.weight *= POSITIVE_RATIO / totalPositiveCount;\n      } else if (query.weight < 0) {\n        query.weight *= NEGATIVE_RATIO / totalNegativeCount;\n      }\n    }\n    for (const preference of preferenceValues) {\n      if (preference.weight > 0) {\n        preference.weight *= POSITIVE_RATIO / totalPositiveCount;\n      } else if (preference.weight < 0) {\n        preference.weight *= NEGATIVE_RATIO / totalNegativeCount;\n      }\n    }\n\n    const response = await fetch(\"/api/query\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        queries: parsedQueries,\n        preferences: preferenceValues,\n      }),\n    });\n    searchResultSet = await response.json();\n    sidebarExpanded = true;\n    scrollSearchResultsToTop();\n    unsearched = false;\n  }\n\n  onMount(async () => {\n    const filesResponse = await fetch(\"/api/files\");\n    files = await filesResponse.json();\n  });\n\n  $: tokenOffsets = tokens.reduce(\n    (acc, token) => {\n      const lastOffset = acc[acc.length - 1];\n      acc.push(lastOffset + token.length);\n      return acc;\n    },\n    [0]\n  );\n\n  let pendingNavigation: Navigation | null = null;\n\n  async function navigate() {\n    if (pendingNavigation == null) return;\n    sidebarExpanded = false;\n    if (textView) {\n      textView.navigate(\n        tokenOffsets[pendingNavigation.searchResult.offset[0]],\n        tokenOffsets[pendingNavigation.searchResult.offset[1]]\n      );\n    } else if (pdfView) {\n      pdfView.navigate(\n        tokenOffsets[pendingNavigation.searchResult.offset[0]],\n        tokenOffsets[pendingNavigation.searchResult.offset[1]]\n      );\n    }\n    pendingNavigation = null;\n\n    await tick();\n    // Scroll active tab into view\n    const activeTab = document.querySelector(\".active-tab\");\n    if (activeTab) {\n      activeTab.scrollIntoView({\n        inline: \"center\",\n      });\n    }\n  }\n\n  async function jumpToResult(result: Navigation) {\n    pendingNavigation = result;\n    const newFileIndex = fileIndicesByPath[result.file.filename];\n    if (newFileIndex !== activeFileIndex) {\n      activeFileIndex = newFileIndex;\n    } else {\n      navigate();\n    }\n  }\n\n  function setPreference(preference: Preference) {\n    preferences[preferenceKey(preference.file, preference.searchResult)] =\n      preference;\n    if (searchBar != null) searchBar.scrollToBottomOfPreferences();\n  }\n\n  let sidebarExpanded = true;\n</script>\n\n<Tailwindcss />\n\n<main class=\"flex flex-col h-full bg-slate-100\">\n  <header\n    class=\"flex flex-row border-b-4 border-black py-4 px-8 max-lg:px-4 items-start\"\n  >\n    <h1 class=\"text-3xl font-mono font-bold inline-flex pr-6 mt-1\">Semantra</h1>\n    <SearchBar\n      bind:this={searchBar}\n      {preferences}\n      on:setPreference={(e) => setPreference(e.detail)}\n      on:search={(e) => handleSearch(e.detail)}\n    />\n  </header>\n  <article class=\"flex flex-1 flex-row relative items-stretch\">\n    <SearchResults\n      bind:sidebarExpanded\n      bind:this={searchResultsElem}\n      {unsearched}\n      {preferences}\n      on:setPreference={(e) => setPreference(e.detail)}\n      on:navigate={(e) => jumpToResult(e.detail)}\n      on:exportToJson={(e) => downloadSearchResult()}\n      {activeFile}\n      {filesByPath}\n      {searchResultSet}\n    />\n    <div class=\"flex flex-col flex-1\">\n      {#if activeFile != null}\n        <TabBar disabled={updating} bind:index={activeFileIndex} {files} />\n        {#if activeFile.filetype === \"text\"}\n          <TextView\n            bind:this={textView}\n            text={text == null ? \"Loading...\" : text}\n          />\n        {:else if activeFile.filetype === \"pdf\"}\n          <PdfView\n            bind:this={pdfView}\n            file={activeFile}\n            positions={pdfPositions}\n          />\n        {/if}\n      {:else}\n        <div class=\"text-gray-600 ml-2 mt-2 text-sm\">Loading...</div>\n      {/if}\n    </div>\n  </article>\n  <footer class=\"bg-black text-white py-1 px-4 text-sm\">\n    <a\n      class=\"underline mr-4\"\n      href=\"https://github.com/freedmand/semantra/blob/main/docs/help.md\"\n      target=\"_blank\">Help</a\n    >\n    <a\n      class=\"underline mr-4\"\n      href=\"https://github.com/freedmand/semantra/blob/main/docs/tutorial.md\"\n      target=\"_blank\">Tutorial</a\n    >\n    <a\n      class=\"underline\"\n      href=\"https://github.com/freedmand/semantra\"\n      target=\"_blank\">Source code</a\n    >\n  </footer>\n</main>\n\n<style>\n  :global(html, body) {\n    @apply h-full;\n  }\n</style>\n",null],"names":["noop","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","src_url_equal_anchor","current_component","src_url_equal","element_src","url","document","createElement","href","subscribe","store","callbacks","unsub","unsubscribe","get_store_value","value","_","action_destroyer","action_result","destroy","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","destroy_each","iterations","detaching","i","length","d","element","name","text","data","createTextNode","space","empty","listen","event","handler","options","addEventListener","removeEventListener","attr","attribute","removeAttribute","getAttribute","setAttribute","to_number","set_data","set_input_value","input","set_style","key","important","style","removeProperty","setProperty","toggle_class","toggle","classList","set_current_component","component","get_current_component","Error","onMount","$$","on_mount","push","createEventDispatcher","type","detail","cancelable","bubbles","e","createEvent","initCustomEvent","custom_event","slice","call","defaultPrevented","bubble","this","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","Promise","resolve","update_scheduled","schedule_update","then","flush","tick","add_render_callback","add_flush_callback","seen_callbacks","Set","flushidx","saved_component","update","pop","callback","has","add","clear","fragment","before_update","dirty","p","ctx","after_update","outroing","outros","group_outros","r","c","check_outros","transition_in","block","local","delete","transition_out","o","bind","index","props","undefined","bound","create_component","mount_component","customElement","m","new_on_destroy","map","filter","on_destroy","destroy_component","filtered","targets","indexOf","flush_render_callbacks","init","instance","create_fragment","not_equal","append_styles","parent_component","on_disconnect","context","Map","skip_bound","root","ready","ret","rest","fill","make_dirty","hydrate","nodes","Array","from","childNodes","children","l","intro","SvelteComponent","$destroy","$on","splice","$set","$$props","obj","$$set","keys","preferenceKey","file","searchResult","JSON","stringify","filename","defaultOptions","rootMargin","threshold","unobserveOnEnter","CustomEvent","inview","assign","prevPos","x","y","scrollDirection","vertical","horizontal","IntersectionObserver","observer","entries","_observer","singleEntry","boundingClientRect","inView","isIntersecting","entry","dispatchEvent","unobserve","observe","subscriber_queue","explainDictionary","start","stop","subscribers","set","new_value","run_queue","subscriber","invalidate","size","writable","explanationQueue","explaining","async","explain","body","existingResponse","get","request","fetch","method","headers","highlights","json","dict","span","t_value","t","create_if_block_1","create_if_block","isInView","inViewTimeout","params","offset","queries","preferences","$$invalidate","$explainDictionary","setTimeout","find","k","requestExplanation","clearTimeout","$$value","setInterval","sortedQueue","sort","e1","e2","rect1B","getBoundingClientRect","bottom","rect2B","shift","distance","toFixed","t0_value","basename","t2_value","div","t0","t2","searchresulttext_changes","previous_key","weight","li","button0","button1","showFilename","dispatch","jumpToResult","setPreference","stopPropagation","prefKey","preference","constants_0","child_ctx","create_if_block_7","button","each_blocks","ul","details","summary","current","show_if","filterFilename","create_if_block_6","create_if_block_5","create_if_block_4","button2","disabled","button2_disabled_value","div0","div8","div5","div1","div3","div2","div4","button3","button4","div7","div6","filenameFilter","toLowerCase","includes","getScore","searchResults","total","searchResultSet","filesByPath","activeFile","unsearched","sidebarExpanded","exportToJson","searchContainer","filterViewed","excerptView","detailReverse","filenameDetailClosed","handleToggle","open","scoredSearchResultSet","results","sortedSearchResults","flat","scrollTop","global","window","define","module","deps","payload","arguments","modules","payloads","original","apply","console","error","trace","ns","_require","parentId","lookup","prototype","toString","dep","require","packagedModule","normalizeModule","moduleName","chunks","split","charAt","join","previous","replace","exports","mod","id","uri","packaged","ace","defineProp","val","defineProperty","enumerable","configurable","String","startsWith","searchString","position","lastIndexOf","endsWith","subjectString","lastIndex","repeat","count","result","string","str","TypeError","output","source","values","predicate","len","thisArg","kValue","findIndex","item","O","relativeStart","Math","max","min","end","relativeEnd","final","of","last","stringReverse","reverse","stringRepeat","trimBeginRegexp","trimEndRegexp","stringTrimLeft","stringTrimRight","copyObject","copy","copyArray","array","deepCopy","isArray","arrayToMap","arr","createMap","arrayRemove","escapeRegExp","escapeHTML","getMatchOffsets","regExp","matches","deferredCall","fcn","timer","deferred","timeout","cancel","schedule","isPending","delayedCall","defaultTimeout","_self","delay","inherits","ctor","superCtor","super_","constructor","mixin","implement","proto","OS","LINUX","MAC","WINDOWS","getOS","isMac","isLinux","_navigator","navigator","os","exec","platform","ua","userAgent","appName","isWin","isIE","parseFloat","match","isOldIE","isGecko","isMozilla","isOpera","opera","isWebKit","isChrome","isEdge","isAIR","isAndroid","isChromeOS","isIOS","test","MSStream","isMobile","strictCSP","useragent","buildDom","parent","refs","txt","els","ch","el","childIndex","n","className","cssText","getDocumentHead","doc","head","getElementsByTagName","documentElement","tag","createElementNS","removeChildren","innerHTML","textContent","ownerDocument","createFragment","createDocumentFragment","hasCssClass","addCssClass","removeCssClass","classes","toggleCssClass","setCssClass","include","hasCssString","sheets","querySelectorAll","removeElementById","getElementById","remove","cssCache","insertPendingStyles","cache","importCssString","container","getRootNode","firstChild","useStrictCSP","importCssStylsheet","rel","scrollbarWidth","inner","width","minWidth","height","display","outer","left","overflow","noScrollbar","offsetWidth","withScrollbar","clientWidth","computedStyle","getComputedStyle","setStyle","styles","property","HAS_CSS_ANIMATION","HAS_CSS_TRANSFORMS","HI_DPI","devicePixelRatio","transform","animationName","translate","tx","ty","round","top","dom","xhr","XMLHttpRequest","onreadystatechange","readyState","responseText","send","loadScript","path","s","src","onload","isAbort","qualifyURL","EventEmitter","propagationStopped","preventDefault","_emit","_dispatchEvent","eventName","_eventRegistry","_defaultHandlers","listeners","defaultHandler","_signal","once","on","newCallback","off","setDefaultHandler","handlers","_disabled_","old","removeDefaultHandler","capturing","removeListener","removeAllListeners","oop","optionsProvider","setOptions","optList","setOption","getOptions","optionNames","$options","hidden","getOption","opt","warn","forwardTo","handlesSet","message","reportError","msg","AppConfig","$defaultOptions","defineOptions","initialValue","resetOptions","setDefaultValue","opts","setDefaultValues","optionHash","isDark","cssClass","$id","lang","net","workerPath","modePath","themePath","basePath","suffix","$moduleUrls","loadWorkerFromBlob","sharedPopups","hasOwnProperty","all","$modes","moduleUrl","parts","sep","base","re","RegExp","setModuleUrl","subst","loader","cb","setLoader","dynamicModules","$loading","loadModule","onLoad","moduleType","load","afterLoad","err","reportErrorIfPathIsNotConfigured","default","setModuleLoader","version","config","scriptOptions","scriptUrl","currentScript","_currentScript","currentDocument","scripts","script","attributes","j","m1","toUpperCase","Keys","MODIFIER_KEYS","KEY_MODS","ctrl","alt","option","super","meta","command","cmd","control","FUNCTION_KEYS","PRINTABLE_KEYS","parseInt","enter","escape","esc","del","mods","pow","keyCodeToString","keyCode","keyString","fromCharCode","activeListenerOptions","pressedKeys","ts","getListenerOptions","createComment","passive","detectListenerOptionsSupport","EventListener","elem","addListener","destroyer","$toDestroy","stopEvent","getButton","ctrlKey","altKey","shiftKey","capture","eventHandler","releaseCaptureHandler","onMouseUp","addMouseWheelListener","deltaX","deltaY","deltaMode","DOM_DELTA_PIXEL","wheelX","wheelY","DOM_DELTA_LINE","DOM_DELTA_PAGE","addMultiMouseDownListener","elements","timeouts","callbackName","startX","startY","clicks","eventNames","onMousedown","isNewClick","abs","clientX","clientY","_clicks","getModifierHash","metaKey","normalizeCommandKeys","hashId","getModifierState","altGr","location","keyLocation","timeStamp","resetPressedKeys","getModifierString","addCommandKeyListener","isOldGecko","lastKeyDownKeyCode","lastDefaultPrevented","postMessage","postMessageId","nextTick","win","messageName","listener","$idleBlocked","onIdle","$idleBlockId","blockIdle","nextFrame","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","oRequestAnimationFrame","Range","startRow","startColumn","endRow","endColumn","row","column","isEqual","range","contains","compare","compareRange","cmp","comparePoint","containsRange","intersects","isEnd","isStart","setStart","setEnd","inside","insideStart","insideEnd","isMultiLine","compareStart","compareEnd","compareInside","clipRows","firstRow","lastRow","fromPoints","extend","isEmpty","clone","collapseRows","toScreenRange","session","screenPosStart","documentToScreenPosition","screenPosEnd","moveBy","comparePoints","p1","p2","$cancelT","lineMode","pasteCancelled","Date","now","clipboard","BROKEN_SETDATA","USE_IE_MIME_TYPE","HAS_FOCUS_ARGS","MAX_LINE_LENGTH","KEYS","MODS","valueResetRegex","TextInput","host","opacity","copied","pasted","inComposition","sendingText","tempStyle","fontSize","commandMode","ignoreFocusEvents","lastValue","lastSelectionStart","lastSelectionEnd","lastRestoreEnd","isFocused","activeElement","setAriaOptions","activeDescendant","inline","role","onBlur","hasFocus","onFocus","resetSelection","$focusScroll","focus","preventScroll","isTransformed","ancestors","parentElement","nodeType","blur","curOp","commandName","isUserAction","docChanged","selectionChanged","onCompositionEnd","newValue","selectionEnd","selection","setSelectionRange","afterContextMenu","selectionStart","line","getRange","cursor","getLine","prevLine","nextLine","inputHandler","setInputHandler","getInputHandler","sendText","fromInput","onPaste","extendLeft","extendRight","inserted","restoreStart","restoreEnd","endIndex","shouldReset","onTextInput","onInput","onCompositionUpdate","inputType","execCommand","handleClipboardData","forceIEMime","clipboardData","mime","setData","getData","doCopy","isCut","getCopyText","onCut","onCopy","select","onCommandKey","isAllSelected","selectAll","$readOnly","cancelComposition","useTextareaForIME","markerRange","compositionStartOffset","closeTimeout","syncComposition","onContextMenuClose","renderer","$isMousePressed","$keepTextAreaAtCursor","$moveTextAreaToCursor","onCompositionStart","getSelectionRange","msGetInputContext","getInputContext","getElement","setCommandMode","readOnly","setReadOnly","setCopyWithEmptySelection","onContextMenu","domEvent","moveToMouse","bringToFront","characterWidth","rect","borderTopWidth","borderLeftWidth","maxTop","clientHeight","move","textInput","scroller","typingResetTimeout","typing","detectArrowKeys","$mouseHandler","isMousePressed","modifier","up","home","down","right","commands","findKeyCommand","addIosSelectionHandler","$setUserAgentForTests","_isMobile","_isIOS","DefaultHandlers","mouseHandler","$clickSelection","editor","onMouseDown","onDoubleClick","onTripleClick","onQuadClick","onMouseWheel","selectByLines","extendSelectionBy","selectByWords","calcRangeOrientation","ev","inSelection","pos","getDocumentPosition","mousedownEvent","moveToPosition","time","$focusTimeout","inMultiSelectMode","captureMouse","startSelect","setState","waitForClickSelection","screenToTextCoordinates","getShiftKey","selectToPosition","orientedRange","setSelectionAnchor","scrollCursorIntoView","unitName","cmpStart","cmpEnd","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","unsetStyle","focusWait","ax","ay","bx","by","sqrt","getBracketRange","getWordRange","getLineRange","getAccelKey","$lastScroll","vx","vy","allowed","prevScroll","dt","direction","canScroll","isScrollableBy","speed","scrollBy","CLASSNAME","Tooltip","isOpen","$element","$parentNode","$init","setText","setHtml","html","setPosition","setClassName","show","hide","getHeight","offsetHeight","getWidth","GutterTooltip","windowWidth","innerWidth","windowHeight","innerHeight","GutterHandler","tooltipTimeout","mouseEvent","tooltipAnnotation","gutter","$gutterLayer","tooltip","hideTooltip","moveTooltip","getRegion","selectTo","srcElement","$tooltipFollowsMouse","annotation","$annotations","getLength","screenRow","pixelToScreenCoordinates","$pos","documentToScreenRow","annotationClassName","trim","showTooltip","$gutter","MouseEvent","$inSelection","selectionRange","DragdropHandler","dragImage","dragSelectionMarker","timerId","dragCursor","dragOperation","isInternal","autoScrollStartTime","cursorMovedTime","cursorPointOnCaretMoved","mouseTarget","counter","onDragInterval","prevCursor","vMovement","hMovement","moveCursorToPosition","calcDistance","lineHeight","layerConfig","editorRect","offsets","nearestXOffset","nearestYOffset","scrollCursor","vScroll","hScroll","autoScroll","addDragMarker","toOrientedRange","addMarker","getSelectionStyle","clearSelection","$cursorLayer","setBlinking","clearInterval","onMouseMove","clearDragMarker","removeMarker","fromOrientedRange","$resetCursorStyle","onDragStart","cancelDrag","draggable","self","dataTransfer","effectAllowed","getReadOnly","setDragImage","clearData","getTextRange","onDragEnd","dropEffect","setCursorStyle","onDragEnter","canAccept","getDropEffect","onDragOver","onMouseMoveTimer","onDragLeave","onDrop","moveText","dropData","types","some","copyAllowed","copyModifierState","dragWait","getDragDelay","startDrag","dragWaitEnd","dragReadyEnd","cursorStyle","onMouseDrag","state","dragDrop","$dragEnabled","eventTarget","unselectable","addTouchListeners","touchStartT","lastT","longTouchTimer","animationTimer","pressed","contextMenu","mode","animationSteps","clickCount","vX","vY","createContextMenu","handleClick","selected","hasUndo","action","getUndoManager","replaceChild","class","readText","writeText","ontouchstart","ontouchend","onclick","showContextMenu","pagePos","textToScreenCoordinates","leftOffset","pageX","scrollLeft","pageY","hideContextMenu","handleLongTap","selectWord","touches","h","w","touchObj","setRange","switchToSelectionMode","cursorPos","getPixelPosition","anchorPos","offsetTop","offsetLeft","weightedDistance","diff1","diff2","oldScrollTop","getScrollTop","DefaultGutterHandler","MouseHandler","focusEditor","getMouseEventTarget","onMouseEvent","scrollBarV","scrollBarH","Boolean","gutterEl","$dragDelay","character","mousemove","$scrollSpeed","mouseMoveHandler","which","releaseMouse","$mouseMoved","onCaptureEnd","onOperationEnd","onCaptureInterval","$onCaptureMouseMove","endOperation","startOperation","cancelContextMenu","scrollSpeed","dragDelay","dragEnabled","focusTimeout","tooltipFollowsMouse","FoldHandler","fold","getFoldAt","removeFold","expandFold","getUseWrapMode","foldWidgets","onFoldWidgetClick","getParentFoldRangeData","firstRange","addFold","keyUtil","KeyBinding","$editor","$data","$handlers","kb","removeKeyboardHandler","$defaultHandler","addKeyboardHandler","setKeyboardHandler","handleKeyboard","attach","getKeyboardHandler","getStatusText","$callKeyboardHandlers","toExecute","success","args","passEvent","dir","hiLevel","lastArabic","hasUBAT_B","hasUBAT_S","impTab_LTR","impTab_RTL","L","R","EN","AN","ON","B","S","AL","WS","CS","ES","ET","NSM","LRE","RLE","PDF","LRO","RLO","BN","UnicodeTBL00","UnicodeTBL20","_invertLevel","lev","levels","_array","lo","hi","tmp","_getCharClass","chars","ix","wType","nType","cType","rtlCandidate","_getCharacterType","uc","charCodeAt","ON_R","R_H","DOT","doBidiReorder","textCharTypes","isRtl","logicalFromVisual","bidiLevels","charTypes","impTab","prevState","newClass","newLevel","newState","condPos","_computeLevels","hasBidiCharacters","getVisualFromLogicalIdx","logIdx","rowMap","bidiUtil","bidiRE","BidiHandler","bidiMap","currentRow","charWidths","EOL","showInvisibles","isRtlDir","$isRtl","wrapIndent","EOF","contentWidth","fontMetrics","rtlLineOffset","wrapOffset","isMoveLeftOperation","seenBidi","getValue","isBidiRow","docRow","splitIndex","updateRowLine","updateBidiMap","onChange","delta","lines","getDocumentRow","rowCache","$screenRowCache","$getRowCacheIndex","$docRowCache","getSplitIndex","currentIndex","prevIndex","endOfLine","$useWrapMode","splits","$wrapData","indent","substring","isFullWidth","getScreenTabSize","$main","substr","markAsDirty","updateCharacterWidths","$characterSize","bidiCharWidth","$measureCharWidth","setShowInvisibles","setEolChar","eolChar","setContentWidth","isRtlLine","setRtlDirection","getCursorPosition","getSelectionAnchor","$bidiHandler","removeInLine","getPosLeft","col","leftBoundary","logicalIdx","getOverwrite","visualIdx","getSelections","startCol","endCol","level","selections","selColMin","selColMax","isSelected","isSelectedPrev","visIdx","offsetToCol","posX","charWidth","Selection","getDocument","lead","createAnchor","$silent","$cursorChanged","$isEmpty","$keepDesiredColumnOnChange","$desiredColumn","$anchorChanged","getCursor","getPosition","setAnchor","getAnchor","getSelectionLead","isBackwards","$setSelection","Number","MAX_VALUE","anchorRow","anchorColumn","cursorRow","cursorColumn","wasEmpty","wasMultiselect","$moveSelection","mover","moveCursorTo","moveTo","selectUp","moveCursorUp","selectDown","moveCursorDown","selectRight","moveCursorRight","selectLeft","moveCursorLeft","selectLineStart","moveCursorLineStart","selectLineEnd","moveCursorLineEnd","selectFileEnd","moveCursorFileEnd","selectFileStart","moveCursorFileStart","selectWordRight","moveCursorWordRight","selectWordLeft","moveCursorWordLeft","selectAWord","getAWordRange","excludeLastChar","rowEnd","rowStart","foldLine","getFoldLine","selectLine","moveCursorBy","wouldMoveIntoSoftTab","tabSize","isTabStop","getTabSize","getNavigateWithinSoftTabs","firstColumnPosition","screenToDocumentPosition","leadingSpace","getDisplayLine","$useEmacsStyleLineStart","lineEnd","getDocumentLastRowColumnPosition","textEnd","search","moveCursorLongWordRight","rightOfCursor","nonTokenRe","tokenRe","moveCursorLongWordLeft","getFoldStringAt","leftOfCursor","$shortWordEndIndex","whitespaceRe","moveCursorShortWordRight","moveCursorShortWordLeft","$selectLongWords","rows","offsetX","screenPos","lineWidgets","widget","rowsAbove","rowCount","docPos","keepDesiredColumn","moveCursorToScreen","desiredColumn","getRangeOfMovements","func","toJSON","rangeCount","ranges","r1","fromJSON","rangeList","toSingleRange","addRange","MAX_TOKEN_COUNT","Tokenizer","rules","states","regExps","matchMappings","ruleRegExps","matchTotal","mapping","defaultToken","flag","splitterRurles","rule","caseInsensitive","unicode","regex","adjustedregex","matchcount","token","groupCount","tokenArray","onMatch","$arrayTokens","$applyToken","digit","removeCapturingGroups","splitRegex","createSplitterRegexp","$setMaxTokenCount","tokens","stack","inChClass","lastCapture","parenOpen","parenClose","square","getLineTokens","startState","currentState","matchAttempts","skipped","next","consumeLineEnd","merge","unshift","TextHighlightRules","$rules","addRules","prefix","nextState","getRules","embedRules","HighlightRules","escapeRules","$embeds","getEmbeds","pushState","popState","normalizeRules","processState","processed","toInsert","stateName","includeName","concat","noEscape","keywordMap","createKeywordMapper","ignoreCase","splitChar","keywords","$keywordList","list","word","getKeywords","$keywords","Behaviour","$behaviours","addBehaviours","behaviours","inherit","getBehaviours","TokenIterator","initialRow","initialColumn","$session","$row","$rowTokens","getTokens","getTokenAt","$tokenIndex","stepBackward","stepForward","getCurrentToken","getCurrentTokenRow","getCurrentTokenColumn","rowTokens","tokenIndex","getCurrentTokenPosition","getCurrentTokenRange","SAFE_INSERT_IN_TOKENS","SAFE_INSERT_BEFORE_TOKENS","contextCache","defaultQuotes","initContext","multiSelect","autoInsertedBrackets","autoInsertedRow","autoInsertedLineEnd","maybeInsertedBrackets","maybeInsertedRow","maybeInsertedLineStart","maybeInsertedLineEnd","getWrapped","opening","closing","rowDiff","CstyleBehaviour","getWrapBehavioursEnabled","isSaneInsertion","braces","recordAutoInsert","recordMaybeInsert","$findOpeningBracket","isAutoInsertedClosing","popAutoInsertedClosing","isMaybeInsertedClosing","clearMaybeInsertedClosing","openBracePos","findMatchingBracket","next_indent","$getIndent","getTabString","quotes","$mode","$quotes","lineCommentStart","quote","leftChar","rightChar","rightToken","pair","stringBefore","stringAfter","wordRe","isWordBefore","isWordAfter","pairQuotesAfter","$pairQuotesAfter","charBefore","iterator","$matchTokenType","iterator2","bracket","wordChars","code","Mode","$defaultBehaviour","getTokenizer","$tokenizer","$highlightRules","$highlightRuleConfig","blockComment","toggleCommentLines","ignoreBlankLines","shouldRemove","minIndent","Infinity","insertAtTabStop","regexpStart","getUseSoftTabs","uncomment","shouldInsertSpace","commentWithSpace","comment","insertInLine","testRemove","before","after","spaces","lineCommentEnd","regexpEnd","iter","fun","minEmptyLength","floor","toggleBlockComment","colDiff","initialRange","startRange","endRange","getNextLineIndent","tab","checkOutdent","autoOutdent","createWorker","createModeDelegates","delegations","scope","functionName","$delegator","language","transformAction","param","$behaviour","completionKeywords","ruleItr","aLength","$createKeywordList","getCompletions","score","applyDelta","docLines","doNotValidate","Anchor","$onChange","$pointsInOrder","point1","point2","equalPointsInOrder","bColIsAfter","$clipPositionToDocument","$insertRight","point","moveIfEqual","deltaIsInsert","deltaRowShift","deltaColShift","deltaStart","deltaEnd","$getTransformedPoint","noClip","Document","textOrLines","$lines","insertMergedLines","setValue","getAllLines","getNewLineCharacter","$split","$detectNewLine","$autoNewLine","$newLineMode","setNewLineMode","newLineMode","getNewLineMode","isNewLine","getLines","getLinesForRange","insertLines","insertFullLines","removeLines","removeFullLines","insertNewLine","clippedPos","clonePos","$clipPosition","deleteFirstNewLine","deleteLastNewLine","deletedLines","removeNewLine","applyDeltas","deltas","revertDeltas","revertDelta","isInsert","$splitAndapplyLargeDelta","$safeApplyDelta","docLength","MAX","to","chunk","indexToPosition","newlineLength","positionToIndex","BackgroundTokenizer","tokenizer","running","currentLine","$worker","workerStart","endLine","startLine","processedLines","$tokenizeRow","fireUpdateEvent","setTokenizer","setDocument","first","scheduleStart","$updateOnChange","getState","cleanup","SearchHighlight","clazz","setRegexp","MAX_RANGES","markerLayer","renderedMarkerRanges","rangeToAddMarkerTo","rangeAsString","drawSingleLineMarker","FoldLine","foldData","folds","setFoldLine","shiftRow","sameRow","containsRow","walk","lastEnd","isNewRow","placeholder","getNextFoldTo","kind","addRemoveChars","log","foldBefore","newFoldLine","foldLineNext","idxToPosition","idx","lastFoldEndColumn","RangeList","$bias","pointIndex","excludeEdges","startIndex","addList","removed","substractPoint","containsPoint","rangeAtPoint","clipped","removeAll","lineDif","Fold","subFolds","consumePoint","restorePoint","subFold","collapseChildren","addSubFold","afterStart","firstConsumed","consumedFolds","restoreRange","Folding","side","getFoldsInRange","foldLines","$foldData","foundFolds","getFoldsInRangeList","getAllFolds","lastFold","startFoldLine","getNextFoldLine","getFoldedRowCount","$addFoldLine","added","$clipRangeToDocument","startFold","endFold","removeFolds","$updateWrapData","$updateRowLengthCache","$modified","addFolds","$updating","cloneFolds","foldAll","expandFolds","unfold","expandInner","outermostFolds","isRowFolded","startFoldRow","getRowFoldEnd","getRowFoldStart","getFoldDisplayLine","textLine","lastColumn","$cloneFoldData","fd","toggleFold","tryToUnfold","bracketPos","getCommentFoldRange","depth","getFoldWidget","getFoldWidgetRange","foldToLevel","foldAllComments","$foldStyles","manual","markbegin","markbeginend","$foldStyle","setFoldStyle","$foldMode","$setFolding","foldMode","$updateFoldWidgets","$tokenizerUpdateFoldWidgets","updateFoldWidgets","tokenizerUpdateFoldWidgets","ignoreCurrent","fw","siblings","$toggleFoldWidget","toggleFoldWidget","toggleParent","BracketMatch","chr","charBeforeCursor","$findClosingBracket","getMatchingBracketRanges","bracketsRegExp","$brackets","typeRe","openBracket","valueIndex","closingBracket","valueLength","getMatchingTags","$findTagName","$findClosingTag","$findOpeningTag","found","backward","prevToken","currentTag","openTagStart","openTagName","foundOpenTagEnd","openTagEnd","closeTagStart","closeTagName","closeTagEnd","openTag","closeTag","stepCount","tmpToken","TextMode","EditSession","$breakpoints","$decorations","$frontMarkers","$backMarkers","$markerId","$undoSelect","$uid","bgTokenizer","onChangeFold","setMode","destroyed","resetCaches","$resetRowCache","cacheArray","low","mid","$rowLengthCache","removedFolds","$updateInternalDataOnChange","$fromUndo","$undoManager","mergeUndoDeltas","$informUndoManager","setUndoManager","reset","getSelection","undoManager","addSession","$syncInformUndoManager","markUndoGroup","$defaultUndoManager","undo","redo","hasRedo","addSelection","startNewGroup","setUseSoftTabs","$useSoftTabs","$indentWithTabs","setTabSize","$tabSize","setNavigateWithinSoftTabs","navigateWithinSoftTabs","$navigateWithinSoftTabs","$overwrite","setOverwrite","overwrite","toggleOverwrite","addGutterDecoration","removeGutterDecoration","getBreakpoints","setBreakpoints","clearBreakpoints","setBreakpoint","clearBreakpoint","inFront","marker","addDynamicMarker","markerId","getMarkers","highlight","$searchHighlight","highlightLines","setAnnotations","annotations","getAnnotations","clearAnnotations","inToken","wordRange","setUseWorker","useWorker","getUseWorker","$useWorker","onReloadTokenizer","$modeId","$onChangeMode","$isPlaceholder","oldMode","$stopWorker","$startWorker","attachToSession","wrapMethod","$wrapMethod","foldingRules","terminate","getMode","$scrollTop","setScrollTop","isNaN","$scrollLeft","setScrollLeft","getScrollLeft","getScreenWidth","$computeWidth","getLineWidgetMaxWidth","screenWidth","lineWidgetsWidth","lineWidgetWidth","force","$wrapLimit","longestScreenLine","foldIndex","foldStart","$getStringScreenWidth","undoChanges","dontSelect","selectionBefore","$getUndoSelection","redoChanges","selectionAfter","setUndoSelect","enable","isUndo","fromRange","toPosition","toRange","collDiff","oldStart","newStart","indentRows","indentString","outdentRows","rowRange","deleteRange","$moveLines","diff","$clipRowToDocument","moveLinesUp","moveLinesDown","duplicateLines","$clipColumnToRow","$wrapLimitRange","setUseWrapMode","useWrapMode","setWrapLimitRange","adjustWrapLimit","desiredLimit","$printMargin","limits","wrapLimit","$constrainWrapLimit","getWrapLimit","setWrapLimit","limit","getWrapLimitRange","foldLineBefore","wrapData","walkTokens","$getDisplayTokens","PLACEHOLDER_START","PLACEHOLDER_BODY","$computeWrapSplits","displayLength","lastSplit","lastDocSplit","isCode","$wrapAsCode","indentedSoftWrap","$indentedSoftWrap","maxIndent","addSplit","indentation","getWrapIndent","minSplit","maxScreenColumn","screenColumn","getRowLength","getRowLineCount","getRowWrapIndent","getScreenLastRowColumn","documentToScreenColumn","getDocumentLastRowColumn","docColumn","getRowSplitData","screenToDocumentRow","screenToDocumentColumn","rowLength","doCache","maxRow","foldStartRow","wrapRow","screenRowOffset","getScreenLength","screenRows","$getWidgetScreenLength","$setFontMetrics","fm","$enableVarChar","getCharacterWidth","wrap","$wrap","firstLineNumber","useSoftTabs","foldStyle","Search","$matchIterator","sr","sc","er","ec","skipCurrent","findAll","needle","$assembleRegExp","$isMultiLine","prevRange","replacement","preserveCase","$disableFakeMultiline","wholeWord","wordBoundary","addWordBoundary","caseSensitive","$assembleMultilineRegExp","backwards","forEachInLine","HashHandler","commandKeyBinding","addCommands","$singleCommand","MultiHashHandler","bindKey","isDefault","addCommand","removeCommand","_buildKeyHash","keepCommand","ckb","keyId","cmdGroup","keyPart","chain","binding","parseKeys","_addCommandToBinding","removeCommands","bindKeys","keyList","$keyChain","CommandManager","byName","$checkCommandState","isAvailable","returnValue","toggleRecording","$inReplay","recording","macro","$addCommandToMacro","oldMacro","replay","trimMacro","mac","description","showSettingsMenu","showErrorMarker","scrollIntoView","centerSelection","gotoLine","prompt","$type","multiSelectAction","getAllRanges","findNext","findPrevious","aceCommandGroup","navigateFileStart","navigateUp","times","navigateFileEnd","navigateDown","navigateWordLeft","navigateLineStart","navigateLeft","navigateWordRight","navigateLineEnd","navigateRight","selectPageDown","scrollPageDown","gotoPageDown","selectPageUp","scrollPageUp","gotoPageUp","jumpToMatching","$copyWithEmptySelection","$handlePaste","duplicateSelection","sortLines","modifyNumber","copyLinesUp","copyLinesDown","removeToLineStart","removeToLineEnd","removeWordLeft","removeWordRight","blockOutdent","blockIndent","splitLine","transposeLetters","transposeSelections","autoIndent","openLink","firstLineEndCol","selectedCount","insertLine","curLine","newRanges","exitMultiSelectMode","LineWidgets","widgetManager","updateOnChange","renderWidgets","measureWidgets","_changedWidgets","$onChangeEditor","updateOnFold","_inDocument","removeLineWidget","$updateRows","noWidgets","$oldWidget","$registerLineWidget","addLineWidget","zIndex","coverGutter","pixelHeight","$fold","onWidgetChanged","w1","getWidgetsAtRow","updateFull","changedWidgets","fixedWidth","ceil","coverLine","gutterWidth","fullWidth","padding","scrollBar","__values","Symbol","done","defaultCommands","Editor","getContainerElement","getTextAreaContainer","textarea","keyBinding","$search","$historyTracker","$initOperationListeners","_$emitInputEvent","setSession","$opResetTimer","$lastSel","prevOp","commandEvent","previousCommand","scrollSelectionIntoView","animateScrolling","sel","$mergeableCommands","$mergeUndoDeltas","prev","mergeableCommands","shouldMerge","mergeNextCommand","sequenceStartTime","keyboardHandler","$keybindingId","oldSession","$onDocumentChange","$onTokenizerUpdate","$onChangeTabSize","$onChangeWrapLimit","$onChangeWrapMode","$onChangeFold","$onChangeFrontMarker","$onChangeBackMarker","$onChangeBreakpoint","$onChangeAnnotation","$onCursorChange","$onScrollTopChange","$onScrollLeftChange","$onSelectionChange","onDocumentChange","onChangeMode","onTokenizerUpdate","onChangeTabSize","onChangeWrapLimit","onChangeWrapMode","onChangeFrontMarker","onChangeBackMarker","onChangeBreakpoint","onChangeAnnotation","onCursorChange","onScrollTopChange","onScrollLeftChange","onSelectionChange","oldEditor","getSession","resize","onResize","setTheme","theme","getTheme","getFontSize","setFontSize","$highlightBrackets","$highlightPending","$bracketHighlight","markerIds","$getDirectionForHighlight","tagNamesRanges","getMatching","markerType","getHighlightIndentGuides","$textLayer","$highlightIndentGuide","$isFocused","showCursor","visualizeFocus","hideCursor","visualizeBlur","$cursorChange","updateCursor","$updateHighlightActiveLine","updateLines","scrollToY","scrollToX","$highlightActiveLine","$selectionStyle","$selectionColorConflict","$maxLines","$minLines","$highlightLineMarker","$selectionMarker","$highlightSelectedWord","$getSelectionHighLightRegexp","wordWithBoundary","updateFrontMarkers","updateBackMarkers","updateBreakpoints","updateText","getSelectedText","nl","copyLine","inVirtualSelectionMode","isFullLine","getBehavioursEnabled","lineState","shouldOutdent","$enableAutoIndent","lineIndent","selectedRange","currIndent","prevLineState","composition","applyComposition","forEachSelection","setScrollSpeed","getScrollSpeed","setDragDelay","setSelectionStyle","setHighlightActiveLine","shouldHighlight","getHighlightActiveLine","setHighlightGutterLine","getHighlightGutterLine","setHighlightSelectedWord","getHighlightSelectedWord","setAnimatedScroll","shouldAnimate","getAnimatedScroll","getShowInvisibles","setDisplayIndentGuides","getDisplayIndentGuides","setHighlightIndentGuides","setShowPrintMargin","showPrintMargin","getShowPrintMargin","setPrintMarginColumn","getPrintMarginColumn","setBehavioursEnabled","enabled","setWrapBehavioursEnabled","setShowFoldWidgets","getShowFoldWidgets","setFadeFoldWidgets","fade","getFadeFoldWidgets","new_range","setGhostText","removeGhostText","swap","originalRange","$getSelectedRows","getNumberAt","_numberRx","amount","charRange","isFinite","nr","fp","decimals","nnr","replaceRange","toggleWord","$toggleWordPairs","currWordStart","wordParts","curLength","itLength","that","reg","wordPairs","negate","firstCondition","res","findLinkAt","e_1","_a","columnPosition","previousPosition","currentPosition","wordParts_1","wordParts_1_1","e_1_1","return","endPoint","moved","totalDiff","rangeIndex","subRows","compositionState","showComposition","setCompositionText","hideComposition","getFirstVisibleRow","getLastVisibleRow","isRowVisible","isRowFullyVisible","getFirstFullyVisibleRow","getLastFullyVisibleRow","$getVisibleRowCount","getScrollBottomRow","getScrollTopRow","$moveByPage","scrollToRow","scrollToLine","center","animate","alignCursor","getCursorPositionScreen","expand","tokenCount","matchType","bracketType","brackets","tagsRanges","lineNumber","navigateTo","replaced","$tryReplace","replaceAll","getLastSearchOptions","newRange","revealRange","setAutoScrollEditorIntoView","shouldScroll","$scrollAnchor","scrollAnchor","onChangeSelection","onBeforeRender","onAfterRender","searchBox","$pixelPos","$cursorStyle","cursorLayer","setSmoothBlinking","isBlinking","selectionStyle","highlightActiveLine","highlightSelectedWord","copyWithEmptySelection","behavioursEnabled","wrapBehavioursEnabled","enableAutoIndent","autoScrollEditorIntoView","showLineNumbers","setShowLineNumbers","$loop","CHANGE_GUTTER","$relativeLineNumbers","relativeNumberRenderer","relativeLineNumbers","$showLineNumbers","$updatePlaceholder","$composition","placeholderNode","$placeholder","content","customScrollbar","hScrollBarAlwaysVisible","vScrollBarAlwaysVisible","highlightGutterLine","animatedScroll","printMarginColumn","printMargin","fadeFoldWidgets","showFoldWidgets","displayIndentGuides","highlightIndentGuides","showGutter","fontFamily","maxLines","minLines","scrollPastEnd","fixedWidthGutter","hasCssTransforms","maxPixelHeight","getText","lastLineNumber","$renderer","UndoManager","$maxRev","$undoDepth","allowMerge","$lastDelta","$keepRedoStack","$redoStack","lastDeltas","undoStackLength","$undoStack","$rev","rev","markIgnored","ignore","getRevision","getDeltas","getChangedRanges","getChangedLines","deltaSet","swapped","swapGroups","rearrangeUndoStack","$redoStackBaseRev","undoSelectionRange","$syncRev","redoStack","deltaSets","moveDeltasByOne","rebaseRedoStack","redoSelectionRange","nextDelta","mark","canUndo","canRedo","bookmark","isAtBookmark","isClean","markClean","$prettyPrint","stringifyDelta","stringifyRange","d1","d2","i1","i2","ds1","ds2","xform","c1","splitDelta","shiftPos","rowsBefore","otherLines","cloneDelta","xformed","Lines","canvasHeight","cells","cellCache","$offsetCoefficient","moveContainer","firstRowScreen","pageChanged","oldConfig","newConfig","computeLineTop","screenTop","screenPage","computeLineHeight","$cacheCell","cell","insertAdjacentElement","createCell","initElement","Gutter","parentEl","$showFoldWidgets","$updateAnnotations","onCreateCell","textNode","foldWidget","rowInfo","annoText","gutterOffset","oldLastRow","$updateCursorRow","$renderCell","$updateGutterWidth","gutterRenderer","$firstLineNumber","lastLineText","$fixedWidth","$padding","$computePadding","$highlightGutterLine","$cursorRow","updateLineHighlight","$cursorCell","scrollLines","$renderLines","breakpoints","decorations","foldHeight","getShowLineNumbers","paddingLeft","borderRightWidth","paddingRight","Marker","setPadding","setMarkers","markers","elt","css","$getTop","drawFullLineMarker","drawScreenLineMarker","drawTextMarker","drawMultiLineMarker","childElementCount","lastChild","stringBuilder","extraStyle","curr","lineRange","range1","drawBidiSingleLineMarker","radiusClass","extraLength","Text","$updateEolChar","EOF_CHAR","EOL_CHAR_LF","EOL_CHAR_CRLF","EOL_CHAR","TAB_CHAR","SPACE_CHAR","margin","getLineHeight","$fontMetrics","measure","$pollSizeChanges","checkForSizeChanges","$pollSizeChangesTimer","$computeTabString","showSpaces","showTabs","showEOL","$highlightIndentGuides","$tabStrings","tabStr","$indentGuideRe","spaceClass","spaceContent","tabClass","tabContent","lineElements","lineElementsIdx","heightChanged","lineElement","$renderLine","$renderLinesFragment","lineEl","$useLineGroups","$textToken","rparen","lparen","$renderToken","valueFragment","simpleSpace","controlCharacter","cjkSpace","cjk","cloneNode","com","renderIndentGuide","cols","$highlightIndentGuideMarker","indentLevel","initialIndent","elementIndentLevel","currentIndent","$renderHighlightIndentGuide","$clearActiveIndentGuide","$setIndentGuideActive","$createLineElement","$renderWrappedLine","splitChars","$renderOverflowMessage","$renderSimpleLine","overflowEl","$getFoldLineTokens","lastLineEl","invisibleEl","renderTokens","addTokens","Cursor","isVisible","blinkInterval","smoothBlinking","cursors","addCursor","$updateCursors","$updateOpacity","$startCssAnimation","animationDuration","$isAnimating","$stopCssAnimation","blinking","restartTimer","setBlinkInterval","removeCursor","intervalId","timeoutId","$isSmoothBlinking","blink","onScreen","isCursorInView","pixelPos","maxHeight","$selectionMarkers","cursorIndex","drawCursor","$setOverwrite","MAX_SCROLL_H","ScrollBar","classSuffix","setVisible","skipEvent","onScroll","coeff","VScrollBar","scrollHeight","$scrollbarWidth","$minWidth","setHeight","setInnerHeight","setScrollHeight","HScrollBar","setWidth","setInnerWidth","setScrollWidth","ScrollBarV","ScrollBarH","VScrollWidth","HScrollHeight","eType","mousePageY","startTop","thumbTop","scrollTopFromThumbTop","thumbHeight","pageHeight","viewHeight","slideHeight","scrollWidth","mousePageX","startLeft","thumbLeft","scrollLeftFromThumbLeft","thumbWidth","pageWidth","viewWidth","slideWidth","RenderLoop","onRender","pending","changes","$recursionLimit","_flush","change","CHAR_COUNT","USE_OBSERVER","ResizeObserver","FontMetrics","$setMeasureNodeStyles","$measureNode","$addObserver","isRoot","visibility","whiteSpace","font","$measureSizes","fontWeight","boldSize","charSizes","allowBoldFonts","$observer","setPolling","disconnect","$getZoom","getZoom","zoom","$initTransformMeasureNodes","transformCoordinates","clientPos","elPos","solve","l1","l2","det","sub","mul","m2","ut","u","f","Decorator","canvas","pixelRatio","heightRatio","canvasWidth","minDecorationHeight","halfMinDecorationHeight","colors","dark","warning","info","light","$updateDecorators","getContext","clearRect","priorities","priority","compensateFold","compensateFoldRows","currentY","y1","y2","yCenter","fillStyle","fillRect","GutterLayer","MarkerLayer","TextLayer","CursorLayer","HScrollBarCustom","VScrollBarCustom","editorCss","HIDE_TEXTAREA","VirtualRenderer","onGutterResize","$markerBack","textLayer","$markerFront","$horizScroll","$vScroll","$scrollAnimation","scrollMargin","updateCharacterSize","$size","scrollerHeight","scrollerWidth","$dirty","minHeight","v","$renderChanges","defaultView","CHANGE_FULL","CHANGE_CURSOR","CHANGE_MARKER","CHANGE_SCROLL","CHANGE_LINES","CHANGE_TEXT","CHANGE_SIZE","CHANGE_MARKER_BACK","CHANGE_MARKER_FRONT","CHANGE_H_SCROLL","$allowBoldFonts","$updatePrintMargin","onChangeNewLineMode","$changedLines","updateFontSize","$changes","$updateSizeAsync","resizing","$updateCachedSize","$customScrollbar","$updateCustomScrollbar","$extraHeight","oldSize","$showGutter","$computeLayerConfig","availableWidth","$showPrintMargin","$printMarginColumn","$animatedScroll","getShowGutter","setShowGutter","$printMarginEl","containerEl","posTop","posLeft","setScrollMargin","sm","setMargin","getHScrollBarAlwaysVisible","$hScrollBarAlwaysVisible","setHScrollBarAlwaysVisible","alwaysVisible","getVScrollBarAlwaysVisible","$vScrollBarAlwaysVisible","setVScrollBarAlwaysVisible","$updateScrollBarV","$scrollPastEnd","$updateScrollBarH","$frozen","freeze","unfreeze","st","$scrollDecorator","$updateLines","$autosize","desiredHeight","$maxPixelHeight","$gutterWidth","hideScrollbars","longestLine","$getLongestLine","horizScroll","hScrollChanged","vScrollBefore","vScrollChanged","firstRowHeight","lineCount","charCount","$viewMargin","newLeft","newTop","topMargin","bottomMargin","$stopAnimation","currentTop","currentLeft","twoCharsWidth","alignment","STEPS","$calcSteps","fromValue","toValue","x_min","steps","initialScroll","oldSteps","$timer","endAnimation","scrollTo","canvasPos","$hasCssTransforms","$blockCursor","$useTextareaForIME","addToken","removeExtraToken","insertPosition","textLines","$ghostText","$ghostTextWidget","newToken","$themeId","$theme","setMouseCursor","attachToShadowRoot","workerUrl","Worker","blob","Blob","blobBuilder","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","getBlob","$workerBlob","blobURL","URL","webkitURL","createObjectURL","WorkerClient","worker","$createWorkerFromOldConfig","$sendDeltaQueue","changeListener","onMessage","callbackId","onmessage","topLevelNamespaces","classname","importScripts","nameToUrl","toUrl","normalizePath","$normalizePath","tlns","deltaQueue","$doc","emit","ex","attachToDocument","q","UIWorkerClient","main","emitSync","sender","messageBuffer","workerClient","processNext","setEmitSync","Main","PlaceHolder","others","mainClass","othersClass","$onUpdate","onUpdate","$others","undoStack","$undostack","$undoStackDepth","setup","other","showOtherMarkers","othersActive","hideOtherMarkers","updateAnchors","lengthDiff","inMainRange","distanceFromStart","newPos","otherPos","updateMarkers","updateMarker","undosRequired","isSamePoint","accel","selectionMode","isMultiSelect","mouseX","mouseY","screenAnchor","screenCursor","$enableJumpToDef","$blockSelectEnabled","addSelectionMarker","oldRange","removeSelectionMarker","tmpSel","rectSel","blockSelect","newCursor","removeSelectionMarkers","rectangularRangeBlock","updateSelectionMarkers","onSelectionInterval","selectMoreLines","selectMore","joinSelections","splitIntoLines","alignCursors","multiSelectCommands","getSelectionMarkers","$blockChangeEvents","$onAddRange","$onRemoveRange","mergeOverlappingRanges","lastRange","$initRangeList","toggleBlockSelection","includeEmptyLines","xBackwards","startOffsetX","endOffsetX","docEnd","yBackwards","MultiSelect","$multiselectOnSessionChange","$onMultiSelect","$onSingleSelect","onSessionChange","$checkMultiselectChange","altCursor","altDown","addAltCursorListeners","selectionMarkerCount","markerList","$onMultiSelectExec","inVirtualMode","keepOrder","$byLines","cmdResult","anim","buf","additive","skip","screenLead","toRemove","words","stopAtFirst","sameRowRanges","maxCol","minSpace","spaceOffsets","spaceOffset","fr","lr","guessRange","$reAlignText","forceLeft","startW","textW","endW","isLeftAligned","isRightAligned","alignLeft","enableMultiselect","enableBlockSelect","FoldMode","foldingStartMarker","foldingStopMarker","indentationBlock","startLevel","openingBracketBlock","closingBracketBlock","oldWidget","gutterAnno","comparator","binarySearch","matched","findAnnotations","arrow","onmousedown","Renderer","edit","_id","env","tagName","oldNode","createEditSession","editorElement","Ace","startPos","endPos","t1","t1_value","getSearchKey","_reactiveArgs","query","preferenceValues","preferenceContainer","lastSearchKey","searchKey","searchOutdated","img","img_src_value","img_alt_value","pageNumber","scales","scaleIndex","scale","encodeURIComponent","exp","_maxEntries","_minEntries","minX","minY","maxX","maxY","leaf","_all","toBBox","collides","_build","_splitRoot","_insert","_condense","compareMinX","compareMinY","_chooseSubtree","_split","_adjustParentBBoxes","_chooseSplitAxis","_chooseSplitIndex","M","_allDistMargin","getAccessor","accessWithPad","getPad","char","switchDirection","reverseAccessor","accessor","most","seek","x0","lpad","x1","rpad","y0","tpad","bpad","consolidateHeight","c2","project","tree","projectAll","layout","RBush","createTree","baseFontSize","page_height","selectedOffset","scrollHighlights","containerElem","mWidth","mHeight","mBounds","response","processedChars","isSpace","wordIndexMap","currentWord","wordStart","wordEnd","pushChar","buildWord","getMin","getMax","pushWord","processChars","copyChars","page_width","highlightWordIndices","getHighlightWordIndices","char_index","scrollHighlightsIntoView","if_block","marginPx","isInViewForEnoughTime","br","pageContainer","positions","currentPage","pagesInView","adjustZoom","newZoom","oldZoom","updatePageNumber","updateCurrentPage","page","pageObjects","numPages","sortedPages","__","getPageNumber","files","filetype","textview_changes","header","h1","article","footer","parseQuery","parsedQueries","searchTerm","searchResultsElem","activeFileIndex","pdfPositions","updating","currentSearchTerm","textView","pdfView","searchBar","downloadSearchResult","queryObject","download_link","firstFileName","toReversed","download","click","revokeObjectURL","scrollSearchResultsToTop","scrollToTop","handleSearch","POSITIVE_RATIO","NEGATIVE_RATIO","totalPositiveCount","totalNegativeCount","filesResponse","pendingNavigation","navigate","tokenOffsets","activeTab","querySelector","newFileIndex","fileIndicesByPath","scrollToBottomOfPreferences","fromEntries","textResponse","pdfResponse","updateFile","reduce","acc","lastOffset"],"mappings":"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EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,IAAK,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,IAAK,GAAI,IAAK,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,KAAM,GAAI,EAAG,GAAI,EAAG,IAAK,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,IAAK,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,KAAM,GAAI,MAAO,GAAI,KAAM,GAAI,GAAI,EAAG,IAAK,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,IAAK,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,MAAO,GAAI,GAAI,EAAG,GAAI,KAAM,IAAK,EAAG,GAAI,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,GAAI,IAAK,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,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","x_google_ignoreList":[0,2,3,8,12]}